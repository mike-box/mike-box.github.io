---
title: "leetcode weekly contest 412"
banner: åŠ›æ‰£å­£åº¦èµ›
category: åŠ›æ‰£å‘¨èµ›
tags:
 - åŠ›æ‰£å‘¨èµ›èµ›
 - é¢˜è§£


---

## leetcode weekly contest 412

æœ€è¿‘å‘¨èµ›éš¾åº¦ç¡®å®åŠ å¼ºäº†ï¼Œé¢˜ç›®è´¨é‡ç¼ºå°‘é«˜äº†ä¸å°‘ï¼Œä»Šå¤©çš„ `t3,t4` æ€»ä½“æ¥è¯´è¿˜ç®—æ˜¯ä¸é”™çš„é¢˜ç›®ï¼Œå€¼å¾—æ€è€ƒçš„é¢˜ç›®ï¼Œåªåšå‡ºæ¥äº† `t4` æ²¡æœ‰åšå‡ºæ¥ `t3`, `t3` ç¡®å®å€¼å¾—æ€è€ƒçš„é¢˜ç›®ã€‚å›½æœç™»ä¸ä¸Šå»ï¼Œè¯•ç€ç”¨ç¾æœæ‰“äº†ä¸‹æ¯”èµ›ï¼Œæ„Ÿè§‰ç¾æœçš„é€Ÿåº¦æ¯”å›½æœå¿«å¥½å¤šã€‚

### 3264. K æ¬¡ä¹˜è¿ç®—åçš„æœ€ç»ˆæ•°ç»„ I

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œä¸€ä¸ªæ•´æ•° `k` å’Œä¸€ä¸ªæ•´æ•° `multiplier` ã€‚

ä½ éœ€è¦å¯¹ `nums` æ‰§è¡Œ `k` æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œä¸­ï¼š

- æ‰¾åˆ° `nums` ä¸­çš„ **æœ€å°** å€¼ `x` ï¼Œå¦‚æœå­˜åœ¨å¤šä¸ªæœ€å°å€¼ï¼Œé€‰æ‹©æœ€ **å‰é¢** çš„ä¸€ä¸ªã€‚
- å°† `x` æ›¿æ¢ä¸º `x * multiplier` ã€‚

è¯·ä½ è¿”å›æ‰§è¡Œå®Œ `k` æ¬¡ä¹˜è¿ç®—ä¹‹åï¼Œæœ€ç»ˆçš„ `nums` æ•°ç»„ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š**nums = [2,1,3,5,6], k = 5, multiplier = 2

**è¾“å‡ºï¼š**[8,4,6,5,6]

**è§£é‡Šï¼š**

| æ“ä½œ       | ç»“æœ            |
| ---------- | --------------- |
| 1 æ¬¡æ“ä½œå | [2, 2, 3, 5, 6] |
| 2 æ¬¡æ“ä½œå | [4, 2, 3, 5, 6] |
| 3 æ¬¡æ“ä½œå | [4, 4, 3, 5, 6] |
| 4 æ¬¡æ“ä½œå | [4, 4, 6, 5, 6] |
| 5 æ¬¡æ“ä½œå | [8, 4, 6, 5, 6] |

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š**nums = [1,2], k = 3, multiplier = 4

**è¾“å‡ºï¼š**[16,8]

**è§£é‡Šï¼š**

| æ“ä½œ       | ç»“æœ    |
| ---------- | ------- |
| 1 æ¬¡æ“ä½œå | [4, 2]  |
| 2 æ¬¡æ“ä½œå | [4, 8]  |
| 3 æ¬¡æ“ä½œå | [16, 8] |

 

**æç¤ºï¼š**

- `1 <= nums.length <= 100`
- `1 <= nums[i] <= 100`
- `1 <= k <= 10`
- `1 <= multiplier <= 5`

#### åœ°å€

https://leetcode.cn/contest/weekly-contest-412/problems/final-array-state-after-k-multiplication-operations-i/

#### é¢˜æ„

    æ¨¡æ‹Ÿ

#### æ€è·¯

1. ä¼˜å…ˆå¯¹æ¨¡æ‹Ÿå³å¯ï¼Œæ¯æ¬¡ä»é˜Ÿåˆ—ä¸­å¼¹å‡ºæœ€å°çš„å…ƒç´ ï¼Œå¹¶ä¹˜ä»¥ `multiplier` ï¼Œå†å°†å…¶å‹å…¥åˆ°é˜Ÿåˆ—ä¸­ï¼Œä¸€å…±æ‰§è¡Œ $k$ æ¬¡å³å¯ã€‚
2. å¤æ‚åº¦åˆ†æï¼š

+ æ—¶é—´å¤æ‚åº¦ï¼š$O((n + k) \log n)$ï¼Œå…¶ä¸­ $n$ è¡¨ç¤ºæ•°ç»„çš„é•¿åº¦ï¼Œ $k$ è¡¨ç¤ºç»™å®šçš„æ•°å­— $k$ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ã€‚

#### ä»£ç 

```python
class Solution:
    def getFinalState(self, nums: List[int], k: int, multiplier: int) -> List[int]:
        pq = []
        for i, x in enumerate(nums):
            heapq.heappush(pq, [x, i])
        for _ in range(k):
            [x, i] = heapq.heappop(pq)
            heapq.heappush(pq, [x * multiplier, i])
        for x, i in pq:
            nums[i] = x
        return nums
```



### 3265. ç»Ÿè®¡è¿‘ä¼¼ç›¸ç­‰æ•°å¯¹ I

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `nums` ã€‚

å¦‚æœæˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹æ“ä½œ **è‡³å¤šä¸€æ¬¡** å¯ä»¥è®©ä¸¤ä¸ªæ•´æ•° `x` å’Œ `y` ç›¸ç­‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°è¿™ä¸ªæ•°å¯¹æ˜¯ **è¿‘ä¼¼ç›¸ç­‰** çš„ï¼š

- é€‰æ‹© `x` **æˆ–è€…** `y` ä¹‹ä¸€ï¼Œå°†è¿™ä¸ªæ•°å­—ä¸­çš„ä¸¤ä¸ªæ•°ä½äº¤æ¢ã€‚

è¯·ä½ è¿”å› `nums` ä¸­ï¼Œä¸‹æ ‡ `i` å’Œ `j` æ»¡è¶³ `i < j` ä¸” `nums[i]` å’Œ `nums[j]` **è¿‘ä¼¼ç›¸ç­‰** çš„æ•°å¯¹æ•°ç›®ã€‚

**æ³¨æ„** ï¼Œæ‰§è¡Œæ“ä½œåä¸€ä¸ªæ•´æ•°å¯ä»¥æœ‰å‰å¯¼ 0 ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š**nums = [3,12,30,17,21]

**è¾“å‡ºï¼š**2

**è§£é‡Šï¼š**

è¿‘ä¼¼ç›¸ç­‰æ•°å¯¹åŒ…æ‹¬ï¼š

- 3 å’Œ 30 ã€‚äº¤æ¢ 30 ä¸­çš„æ•°ä½ 3 å’Œ 0 ï¼Œå¾—åˆ° 3 ã€‚
- 12 å’Œ 21 ã€‚äº¤æ¢12 ä¸­çš„æ•°ä½ 1 å’Œ 2 ï¼Œå¾—åˆ° 21 ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š**nums = [1,1,1,1,1]

**è¾“å‡ºï¼š**10

**è§£é‡Šï¼š**

æ•°ç»„ä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ éƒ½æ˜¯è¿‘ä¼¼ç›¸ç­‰çš„ã€‚

**ç¤ºä¾‹ 3ï¼š**

**è¾“å…¥ï¼š**nums = [123,231]

**è¾“å‡ºï¼š**0

**è§£é‡Šï¼š**

æˆ‘ä»¬æ— æ³•é€šè¿‡äº¤æ¢ `123` æˆ–è€… `321` ä¸­çš„ä¸¤ä¸ªæ•°ä½å¾—åˆ°å¦ä¸€ä¸ªæ•°ã€‚

 

**æç¤ºï¼š**

- `2 <= nums.length <= 100`
- `1 <= nums[i] <= 106`

### åœ°å€

https://leetcode.cn/contest/weekly-contest-412/problems/count-almost-equal-pairs-i/

#### é¢˜æ„

    æ’åº + å“ˆå¸Œè¡¨

#### æ€è·¯

1. åœ¨è¿™ä¸ªé¢˜ç›®ä¸Šçº ç»“çš„äº‹ä»¶å¤ªå¤šäº†ï¼Œå½“ç„¶æœ€ç®€å•çš„å°±æ˜¯ $o(n^2)$ ç›´æ¥æ¯”è¾ƒä»»æ„ä¸¤ä¸ªæ•°å¯¹æ˜¯å¦ç›¸è¿‘å³å¯ï¼Œæ¯”è¾ƒç®€å•ã€‚é¢˜ç›®ä¸­æœ‰ä¸¤ç‚¹ä¸å¥½å¤„ç†ï¼š

   + å‰å¯¼ $0$ ç›¸è¿‘çš„é—®é¢˜ï¼Œæ¯”å¦‚  $(1,10), (30, 3)$ éƒ½å±äºè¿‘ä¼¼ç›¸ç­‰çš„ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ç»Ÿä¸€å¯ä»¥ä»å°åˆ°å¤§æ’åºï¼Œåªéœ€è¦å¤„ç†è¾ƒå¤§çš„æ•°é€ æˆå‰å¯¼ $0$ çš„é—®é¢˜ï¼Œé¿å…æ¯”è¾ƒä¸å¸¦å‰å¯¼ $0$ çš„æ•°å­—æ¯”è¾ƒå‰å¯¼ $0$ çš„æ•°å­—ï¼Œè¿™æ ·å°±æ¯”è¾ƒå¥½å¤„ç†ï¼›
   + ä»»æ„å˜æ¢æ—¶å¯èƒ½å­˜åœ¨é‡å¤çš„é—®é¢˜ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ç”¨å“ˆå¸Œè¡¨æ¥è§£å†³è¯¥é—®é¢˜ï¼Œæšä¸¾æ‰€æœ‰çš„ç›¸ä¼¼å˜æ¢ï¼Œå³äº¤æ¢å…ƒç´ ä¸­çš„ä»»æ„ä¸¤ä½ï¼›

   åœ¨ä»¥ä¸Šå¤„ç†åï¼Œè¿™ä¸ªé¢˜ç›®å°±å˜å¾—æ¯”è¾ƒç®€å•äº†ï¼Œæˆ‘ä»¬ç”¨å“ˆå¸Œè¡¨ç»Ÿè®¡å½“å‰æ•°ç»„ä¸­å·²ç»å‡ºç°æ•°å­—çš„æ¬¡æ•°ï¼Œéå†åˆ° $nums[i]$ æ—¶ï¼Œæ‰¾åˆ° $nums[i]$ æ‰€æœ‰ç›¸ä¼¼çš„æ•°å­—ï¼Œå¹¶ç»Ÿè®¡è¿™äº›æ•°å­—å‡ºç°çš„å’Œå³å¯ã€‚

2. å¤æ‚åº¦åˆ†æï¼š


+ æ—¶é—´å¤æ‚åº¦ï¼š$O(n \log n + n \log^2 U)$ï¼Œå…¶ä¸­ $n$ è¡¨ç¤ºç»™å®šæ•°ç»„çš„é•¿åº¦. $U$ è¡¨ç¤ºæ•°å­—ä¸­çš„æœ€å¤§å€¼ ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ï¼›

#### ä»£ç 

```Python
class Solution:
    def countPairs(self, nums: List[int]) -> int:
        n = len(nums)
        cnt = Counter()
        nums.sort()
        res = 0
        for x in nums:
            s = list(str(x))
            res += cnt[x]
            for i in range(len(s)):
                for j in range(i + 1, len(s)):
                    if s[i] == s[j]:
                        continue
                    s[i], s[j] = s[j], s[i]
                    res += cnt[int("".join(s))]
                    s[i], s[j] = s[j], s[i]
            cnt[x] += 1
        
        return res
```

----

### 3266. K æ¬¡ä¹˜è¿ç®—åçš„æœ€ç»ˆæ•°ç»„ II

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œä¸€ä¸ªæ•´æ•° `k` å’Œä¸€ä¸ªæ•´æ•° `multiplier` ã€‚

ä½ éœ€è¦å¯¹ `nums` æ‰§è¡Œ `k` æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œä¸­ï¼š

- æ‰¾åˆ° `nums` ä¸­çš„ **æœ€å°** å€¼ `x` ï¼Œå¦‚æœå­˜åœ¨å¤šä¸ªæœ€å°å€¼ï¼Œé€‰æ‹©æœ€ **å‰é¢** çš„ä¸€ä¸ªã€‚
- å°† `x` æ›¿æ¢ä¸º `x * multiplier` ã€‚

`k` æ¬¡æ“ä½œä»¥åï¼Œä½ éœ€è¦å°† `nums` ä¸­æ¯ä¸€ä¸ªæ•°å€¼å¯¹ `109 + 7` å–ä½™ã€‚

è¯·ä½ è¿”å›æ‰§è¡Œå®Œ `k` æ¬¡ä¹˜è¿ç®—ä»¥åŠå–ä½™è¿ç®—ä¹‹åï¼Œæœ€ç»ˆçš„ `nums` æ•°ç»„ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š**nums = [2,1,3,5,6], k = 5, multiplier = 2

**è¾“å‡ºï¼š**[8,4,6,5,6]

**è§£é‡Šï¼š**

| æ“ä½œ       | ç»“æœ            |
| ---------- | --------------- |
| 1 æ¬¡æ“ä½œå | [2, 2, 3, 5, 6] |
| 2 æ¬¡æ“ä½œå | [4, 2, 3, 5, 6] |
| 3 æ¬¡æ“ä½œå | [4, 4, 3, 5, 6] |
| 4 æ¬¡æ“ä½œå | [4, 4, 6, 5, 6] |
| 5 æ¬¡æ“ä½œå | [8, 4, 6, 5, 6] |
| å–ä½™æ“ä½œå | [8, 4, 6, 5, 6] |

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š**nums = [100000,2000], k = 2, multiplier = 1000000

**è¾“å‡ºï¼š**[999999307,999999993]

**è§£é‡Šï¼š**

| æ“ä½œ       | ç»“æœ                       |
| ---------- | -------------------------- |
| 1 æ¬¡æ“ä½œå | [100000, 2000000000]       |
| 2 æ¬¡æ“ä½œå | [100000000000, 2000000000] |
| å–ä½™æ“ä½œå | [999999307, 999999993]     |

 

**æç¤ºï¼š**

- `1 <= nums.length <= 104`
- `1 <= nums[i] <= 109`
- `1 <= k <= 109`
- `1 <= multiplier <= 106`

### åœ°å€

https://leetcode.cn/contest/weekly-contest-412/problems/final-array-state-after-k-multiplication-operations-ii/

#### é¢˜æ„

```
ä¼˜å…ˆé˜Ÿåˆ— + æ•°å­¦
```

#### æ€è·¯

1.  å½“ $k$ æ¯”è¾ƒå°æ—¶ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—å³å¯ï¼Œé¢˜ç›®å°±éå¸¸ç®€å•ä¸å¸¸è§„çš„é¢˜ç›®ï¼Œæœ¬é¢˜é‡ç‚¹åœ¨äºå¦‚ä½•è®¨è®º $k$ æ¯”è¾ƒå¤§çš„æ—¶å€™è¯¥æ€ä¹ˆå¤„ç†ã€‚ç”±äº  $k$ çš„å–å€¼èŒƒå›´ä¸º $[1,10^9]$, æ­¤æ—¶è‚¯å®šæ— æ³•æšä¸¾äº†ï¼Œå°±éœ€è¦æˆ‘ä»¬ä½¿ç”¨æ•°å­¦æŠ€å·§æ¥å¤„ç†ï¼Œå‡è®¾å½“å‰æ•°ç»„  $nums$ æœ‰åºï¼Œæ’åºå¦‚ä¸‹ï¼š
   $$
   [a_0,a_1,a_2,\cdots,a_{n-1}],a_i \le a_{i+1}
   $$
   æ­¤æ—¶æˆ‘ä»¬é¦–å…ˆæ˜¯å°† $a'_0 = a_0 \times multiplier $  åŠ å…¥åˆ°æ–°çš„æ•°ç»„ä¸­ï¼Œå¦‚æœ $aâ€™_0 \le a_{n-1}$, åˆ™æ­¤æ—¶å®ƒä¸€å®šä»ç„¶æ’åºåœ¨å‰ $n-1$ ä¸ªä½ç½®ä¸­ï¼Œä½†æ˜¯å¦‚æœæ»¡è¶³  $aâ€™_0 > a_{n-1}$, æ­¤æ—¶æ•°ç»„å˜æˆäº†å¦‚ä¸‹ï¼š
   $$
   [a_1,a_2,\cdots,a_{n-1},a_0 \times multiplier ]
   $$
   ç»§ç»­ä¸‹ä¸€ä¸ªæœ€å°çš„å…ƒç´ ä¹˜ä»¥ $multiplier$, ç”±äº $a_0 \le a_1$ï¼Œæ­¤æ—¶ $a_1 \times multiplier > a_{n-1}$, åˆ™æ­¤æ—¶æ•°ç»„ä¸€å®šå˜æˆäº†å¦‚ä¸‹ï¼š
   $$
   [a_2,\cdots,a_{n-1},a_0 \times multiplier,a_1 \times multiplier]
   $$
    æˆ‘ä»¬ç»§ç»­é‡å¤ $n$ æ¬¡åå‘ç°å¾—åˆ°å¦‚ä¸‹é˜Ÿåˆ—ï¼š
   $$
   [a_0 \times multiplier ,a_1 \times multiplier ,a_2 \times multiplier ,\cdots,a_{n-1} \times multiplier ],a_i \le a_{i+1}
   $$
   è¿™è¯´æ˜æ¯ç»è¿‡ $n$ æ¬¡ï¼Œæ•°ç»„åˆå›åˆ°äº†åŸæ¥çš„æ’åºï¼Œå±äº $n$ å¾ªç¯èŠ‚ï¼Œæ­¤æ—¶æˆ‘ä»¬å»é™¤æ‰æ‰€æœ‰çš„ $n$ å¾ªç¯èŠ‚çš„éƒ¨åˆ†ï¼Œä¸­é—´çš„è®¡ç®—éƒ½æ˜¯é‡å¤ä¸”å¯ä»¥å¿½ç•¥çš„ï¼Œæˆ‘ä»¬åªéœ€è¦è®¡ç®—å¾ªç¯èŠ‚ä¹‹å¤–çš„é‚£éƒ¨åˆ†å³å¯ã€‚è¿™ä¸ªæ˜¯æœ¬é¢˜çš„è§£é¢˜å…³é”®ï¼›

2. æˆ‘ä»¬å…ˆæ‰¾åˆ°å¾ªç¯èŠ‚å¼€å§‹çš„ä½ç½®ï¼Œæ­¤æ—¶æˆ‘ä»¬é€šè¿‡ä¼˜å…ˆçº§é˜Ÿåˆ—æ¨¡æ‹Ÿæ‰¾åˆ°å½“å‰æœ€å°çš„å…ƒç´ ä¹˜ä»¥ $multiplier$ å¤§äºæ•°ç»„ä¸­æœ€å¤§å€¼çš„å¼€å§‹éƒ¨åˆ†ï¼Œåç»­åˆ™æ˜¯åˆ©ç”¨å¾ªç¯èŠ‚ï¼Œæ‰¾åˆ°å¾ªç¯èŠ‚å‰©ä½™çš„éƒ¨åˆ†ï¼ŒæœŸé—´éœ€è¦ç”¨åˆ°å¿«é€Ÿå¹‚çš„éƒ¨åˆ†ï¼Œæœ¬èº«å€’ä¹Ÿæ²¡æœ‰å¤ªå¤§éš¾åº¦ã€‚

3. å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ï¼š$ğ‘‚(ğ‘›logâ¡ ğ‘›+ n \log U)$ï¼Œå…¶ä¸­ ğ‘› è¡¨ç¤ºç»™å®šæ•°ç»„çš„é•¿åº¦. ğ‘ˆ è¡¨ç¤ºæ•°å­—ä¸­çš„æœ€å¤§å€¼ ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$ğ‘‚(ğ‘›)$ï¼›

#### ä»£ç 

```python
class Solution:
    def getFinalState(self, nums: List[int], k: int, multiplier: int) -> List[int]:
        if multiplier == 1:
            return nums
        n = len(nums)
        maxVal = max(nums)
        pq = []
        for i, x in enumerate(nums):
            heapq.heappush(pq, [x, i])
        while k > 0:
            if pq[0][0] * multiplier > maxVal:
                break
            [x, i] = heapq.heappop(pq)
            heapq.heappush(pq, [x * multiplier, i])
            k -= 1
        
        rest = k % n
        mod = 10**9 + 7
        tot = pow(multiplier, k // n, mod)
        for i in range(n):
            [val, j] = heapq.heappop(pq)
            nums[j] = val * tot % mod
            if i < rest:
                 nums[j] = nums[j] * multiplier % mod
        return nums
```

### 3267. ç»Ÿè®¡è¿‘ä¼¼ç›¸ç­‰æ•°å¯¹ II

**æ³¨æ„ï¼š**åœ¨è¿™ä¸ªé—®é¢˜ä¸­ï¼Œæ“ä½œæ¬¡æ•°å¢åŠ ä¸ºè‡³å¤š **ä¸¤æ¬¡** ã€‚

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `nums` ã€‚

å¦‚æœæˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹æ“ä½œ **è‡³å¤šä¸¤æ¬¡** å¯ä»¥è®©ä¸¤ä¸ªæ•´æ•° `x` å’Œ `y` ç›¸ç­‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°è¿™ä¸ªæ•°å¯¹æ˜¯ **è¿‘ä¼¼ç›¸ç­‰** çš„ï¼š

- é€‰æ‹© `x` **æˆ–è€…** `y` ä¹‹ä¸€ï¼Œå°†è¿™ä¸ªæ•°å­—ä¸­çš„ä¸¤ä¸ªæ•°ä½äº¤æ¢ã€‚

è¯·ä½ è¿”å› `nums` ä¸­ï¼Œä¸‹æ ‡ `i` å’Œ `j` æ»¡è¶³ `i < j` ä¸” `nums[i]` å’Œ `nums[j]` **è¿‘ä¼¼ç›¸ç­‰** çš„æ•°å¯¹æ•°ç›®ã€‚

**æ³¨æ„** ï¼Œæ‰§è¡Œæ“ä½œåå¾—åˆ°çš„æ•´æ•°å¯ä»¥æœ‰å‰å¯¼ 0 ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š**nums = [1023,2310,2130,213]

**è¾“å‡ºï¼š**4

**è§£é‡Šï¼š**

è¿‘ä¼¼ç›¸ç­‰æ•°å¯¹åŒ…æ‹¬ï¼š

- 1023 å’Œ 2310 ã€‚äº¤æ¢ 1023 ä¸­æ•°ä½ 1 å’Œ 2 ï¼Œç„¶åäº¤æ¢æ•°ä½ 0 å’Œ 3 ï¼Œå¾—åˆ° 2310 ã€‚
- 1023 å’Œ 213 ã€‚äº¤æ¢ 1023 ä¸­æ•°ä½ 1 å’Œ 0 ï¼Œç„¶åäº¤æ¢æ•°ä½ 1 å’Œ 2 ï¼Œå¾—åˆ° 0213 ï¼Œä¹Ÿå°±æ˜¯ 213 ã€‚
- 2310 å’Œ 213 ã€‚äº¤æ¢ 2310 ä¸­æ•°ä½ 2 å’Œ 0 ï¼Œç„¶åäº¤æ¢æ•°ä½ 3 å’Œ 2 ï¼Œå¾—åˆ° 0213 ï¼Œä¹Ÿå°±æ˜¯ 213 ã€‚
- 2310 å’Œ 2130 ã€‚äº¤æ¢ 2310 ä¸­æ•°ä½ 3 å’Œ 1 ï¼Œå¾—åˆ° 2130 ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š**nums = [1,10,100]

**è¾“å‡ºï¼š**3

**è§£é‡Šï¼š**

è¿‘ä¼¼ç›¸ç­‰æ•°å¯¹åŒ…æ‹¬ï¼š

- 1 å’Œ 10 ã€‚äº¤æ¢ 10 ä¸­æ•°ä½ 1 å’Œ 0 ï¼Œå¾—åˆ° 01 ï¼Œä¹Ÿå°±æ˜¯ 1 ã€‚
- 1 å’Œ 100 ã€‚äº¤æ¢ 100 ä¸­æ•°ä½ 1 å’Œä»å·¦å¾€å³çš„ç¬¬äºŒä¸ª 0 ï¼Œå¾—åˆ° 001 ï¼Œä¹Ÿå°±æ˜¯ 1 ã€‚
- 10 å’Œ 100 ã€‚äº¤æ¢ 100 ä¸­æ•°ä½ 1 å’Œä»å·¦å¾€å³çš„ç¬¬ä¸€ä¸ª 0 ï¼Œå¾—åˆ° 010 ï¼Œä¹Ÿå°±æ˜¯ 10 ã€‚

 

**æç¤ºï¼š**

- `2 <= nums.length <= 5000`
- `1 <= nums[i] < 107`

### åœ°å€

https://leetcode.cn/contest/weekly-contest-412/problems/count-almost-equal-pairs-ii/

#### é¢˜æ„

```
æ’åºå“ˆå¸Œè¡¨
```

#### æ€è·¯

1.  ä¸ `t2` ä¸€æ ·çš„æŠ€å·§ï¼Œåªä¸è¿‡å˜æ¢ä¸€æ¬¡æ”¹æˆäº†è‡³å¤šå¯ä»¥äº¤æ¢ä¸¤æ¬¡ï¼Œæˆ‘ä»¬ç›´æ¥æšä¸¾æ‰€æœ‰ä¸¤æ¬¡å˜æ¢çš„å¯èƒ½å³å¯, è¿™é‡Œéœ€è¦ç”¨å“ˆå¸Œè¡¨å»é‡å³å¯ï¼Œæ„Ÿè§‰ `t4` æ¯” `t3` ç®€å•å¤šäº†ï¼Œæ²¡æœ‰ä»€ä¹ˆå¤æ‚æŠ€å·§ï¼Œåæ­£ç«Ÿç„¶ä¸€æŠŠå°±è¿‡äº†ã€‚
   
3. å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ï¼š$ğ‘‚(ğ‘›logâ¡ ğ‘›+ n \log^4 U)$ï¼Œå…¶ä¸­ ğ‘› è¡¨ç¤ºç»™å®šæ•°ç»„çš„é•¿åº¦. ğ‘ˆ è¡¨ç¤ºæ•°å­—ä¸­çš„æœ€å¤§å€¼ ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$ğ‘‚(ğ‘›)$ï¼›

#### ä»£ç 

```python
class Solution:
    def countPairs(self, nums: List[int]) -> int:
        n = len(nums)
        cnt = Counter()
        nums.sort()
        res = 0
        for x in nums:
            s = list(str(x))
            arr = set([x])
            for i in range(len(s)):
                for j in range(i + 1, len(s)):
                    if s[i] == s[j]:
                        continue
                    s[i], s[j] = s[j], s[i]
                    arr.add(int("".join(s)))
                    for a in range(len(s)):
                        for b in range(a + 1, len(s)):
                            if s[a] == s[b]:
                                continue
                            s[a], s[b] = s[b], s[a]
                            arr.add(int("".join(s)))
                            s[a], s[b] = s[b], s[a]
                    s[i], s[j] = s[j], s[i]
            res += sum(cnt[v] for v in list(arr))
            cnt[x] += 1
        
        return res
```



æ¬¢è¿å…³æ³¨å’Œæ‰“èµï¼Œæ„Ÿè°¢æ”¯æŒï¼

+ å…³æ³¨æˆ‘çš„åšå®¢: https://mike-box.github.io/

+ å…³æ³¨æˆ‘çš„çŸ¥ä¹ï¼šhttps://www.zhihu.com/people/da-hua-niu

+ å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·: å“ªäº›å¥‹æ–—è€…

  ![](https://raw.githubusercontent.com/mike-box/pic/main/qrcode_for_gh_f998262ac369_344.jpg)

