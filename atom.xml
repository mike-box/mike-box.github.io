<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>blow in the wind</title>
  
  <subtitle>just code for fun</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-05-27T09:24:19.705Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Mike meng</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ã€Courseraã€‘ ç®—æ³•è¯¾ç¨‹</title>
    <link href="http://yoursite.com/2020/05/27/164/"/>
    <id>http://yoursite.com/2020/05/27/164/</id>
    <published>2020-05-27T09:22:51.199Z</published>
    <updated>2020-05-27T09:24:19.705Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Algorithmic-On-Strings"><a href="#Algorithmic-On-Strings" class="headerlink" title="Algorithmic On Strings"></a>Algorithmic On Strings</h1><p>æœ€è¿‘å‡†å¤‡å­¦ä¹ <code>coursera</code>ä¸Šçš„ã€Šç®—æ³•ä¸æ•°æ®ç»“æ„ç³»åˆ—è¯¾ç¨‹ã€‹ï¼Œè¿™ä¸ªè¯¾ç¨‹æ˜¯å…³äºå­—ç¬¦ä¸²ç›¸å…³ç®—æ³•ï¼Œè¿™ä¸ªè¯¾ç¨‹ç®—æ³•çš„éƒ¨åˆ†é¢˜ç›®éå¸¸çš„<code>tricky</code>,å¯¹äºæˆ‘è¿™ç§æ™ºå•†æ™®é€šäººçš„æ¥è¯´ï¼ŒçœŸå¿ƒå¥½å¤šé¢˜ç›®æƒ³äº†å¥½å‡ å¤©æ‰èƒ½å¤Ÿæƒ³å‡ºæ¥ï¼Œç‰¹åˆ«æ˜¯å…³äºåç¼€æ ‘çš„éƒ¨åˆ†ï¼Œè¿˜æœ‰åç¼€æ•°ç»„çš„éƒ¨åˆ†ï¼Œæƒ³äº†å¾ˆé•¿æ—¶é—´æ‰æŠŠé—®é¢˜ç‹¬ç«‹çš„æƒ³æ˜ç™½ï¼Œæˆ‘æƒ³ç‹¬ç«‹æ€è€ƒçš„é—®é¢˜æ‰æ˜¯è‡ªå·±æœ€å¤§çš„æ”¶è·ã€‚å¯¹äºç‰¹åˆ«éœ€è¦ç‹¬ç«‹æ€è€ƒçš„é—®é¢˜ï¼Œé€‚å½“å»ºè®®å¯¹äºå¡åˆ°å£³çš„æ—¶å€™ï¼Œä¸€å®šè¦å…ˆæ”¾ä¸€æ”¾ï¼Œå»å¤–é¢æ•£æ­¥æˆ–è€…å¤šè¿åŠ¨ï¼Œåªæœ‰è¿™æ ·åˆ©ç”¨è‡ªå·±çš„å‘æ•£æ€ç»´å°±èƒ½æŠŠé—®é¢˜è§£å†³å‡ºæ¥ï¼Œä»”ç»†æ€è€ƒä¸€ä¸‹è¿™ç§æ€è€ƒæ¨¡å¼ï¼Œåœ¨ã€Šlearning how to learnã€‹è¯¾ç¨‹ä¸­å­¦åˆ°çš„çŸ¥è¯†åº”ç”¨åˆ°è¿™äº›ç§‘å­¦çŸ¥è¯†ï¼ŒçœŸçš„æ˜¯éå¸¸æœ‰ç”¨ã€‚<br>è¯¾ç¨‹ã€ŠAlgorithmic On Stringsã€‹å­¦ä¹ å®Œäº†ï¼Œè¿™éƒ¨åˆ†çš„è¯¾ç¨‹éš¾åº¦ç‰¹åˆ«æ˜¯åç¼€å¼å’Œåç¼€æ•°ç»„ç›¸å…³çš„çŸ¥è¯†çœŸå¿ƒéå¸¸çš„éš¾ï¼Œå¥½å¤šé¢˜ç›®éå¸¸çš„<code>trikly</code>ï¼Œæœ€åå¾—åˆ†æ˜¯<code>100</code> åˆ†ï¼Œè¯ä¹¦å¦‚ä¸‹ï¼š<br><a href="https://www.coursera.org/account/accomplishments/certificate/ESEG2K7DRVHP" target="_blank" rel="noopener">Algorithms on Strings</a><br>ä¸‹é¢å°†è¯¥è¯¾ç¨‹çš„é¢˜ç›®çš„è§£æ³•ã€‚<br>è¯¥è¯¾ç¨‹æ‰€æœ‰æäº¤çš„ä»£ç å¦‚ä¸‹ï¼š<br><a href="https://github.com/mike-box/coursera/tree/master/Algorithms%20on%20Strings" target="_blank" rel="noopener">source code</a></p><a id="more"></a><h2 id="week1-Suffix-Trees"><a href="#week1-Suffix-Trees" class="headerlink" title="week1 Suffix Trees"></a>week1 Suffix Trees</h2><h3 id="1-Problem-Construct-a-Trie-from-a-Collection-of-Patterns"><a href="#1-Problem-Construct-a-Trie-from-a-Collection-of-Patterns" class="headerlink" title="1 Problem: Construct a Trie from a Collection of Patterns"></a>1 Problem: Construct a Trie from a Collection of Patterns</h3><ul><li><strong>Construct</strong> a trie from a collection of patterns.</li><li><strong>Input Format</strong>. An integer ğ‘› and a collection of strings Patterns = {ğ‘1, . . . , ğ‘ğ‘›} (each string is given on a<br>separate line).</li></ul><h4 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h4><blockquote><p> trieçš„æ„å»º</p><h4 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>è¿™é¢˜éå¸¸ç®€å•ï¼Œç›´æ¥æ„å»ºå³å¯ã€‚<h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; edges;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;edges&gt; trie;</span><br><span class="line"></span><br><span class="line"><span class="function">trie <span class="title">build_trie</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp; patterns)</span> </span>&#123;</span><br><span class="line">  trie t;</span><br><span class="line">  edges e;</span><br><span class="line"></span><br><span class="line">  t.push_back(e);</span><br><span class="line">  <span class="keyword">for</span>(<span class="built_in">string</span> w : patterns)&#123;</span><br><span class="line">      <span class="keyword">int</span> node = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">char</span> c : w)&#123;</span><br><span class="line">          <span class="keyword">if</span>(!t[node].count(c))&#123;</span><br><span class="line">              t.push_back(e);</span><br><span class="line">              t[node][c] = t.size()<span class="number">-1</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          node = t[node][c];</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">size_t</span> n;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; patterns;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">    patterns.push_back(s);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  trie t = build_trie(patterns);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; t.size(); ++i) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; j : t[i]) &#123;</span><br><span class="line">      <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">"-&gt;"</span> &lt;&lt; j.second &lt;&lt; <span class="string">":"</span> &lt;&lt; j.first &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h3 id="2-Problem-Implement-TrieMatching"><a href="#2-Problem-Implement-TrieMatching" class="headerlink" title="2 Problem: Implement TrieMatching"></a>2 Problem: Implement TrieMatching</h3><p><strong>Task</strong>. Implement TrieMatching algorithm.<br><strong>Input Format</strong>. The first line of the input contains a string Text, the second line contains an integer ğ‘›,<br>each of the following ğ‘› lines contains a pattern from Patterns = {ğ‘1, . . . , ğ‘ğ‘›}.</p><h4 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h4><p>trieçš„matchå³å¯</p><h4 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>ç›´æ¥åˆ©ç”¨trieçš„matchå³å¯ã€‚<h4 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> Letters =    <span class="number">4</span>;</span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> NA      =   <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span> next [Letters];</span><br><span class="line"></span><br><span class="line">Node ()</span><br><span class="line">&#123;</span><br><span class="line">fill (next, next + Letters, NA);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isLeaf</span> <span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (next[<span class="number">0</span>] == NA &amp;&amp; next[<span class="number">1</span>] == NA &amp;&amp; next[<span class="number">2</span>] == NA &amp;&amp; next[<span class="number">3</span>] == NA);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">letterToIndex</span> <span class="params">(<span class="keyword">char</span> letter)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">switch</span> (letter)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'A'</span>: <span class="keyword">return</span> <span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'C'</span>: <span class="keyword">return</span> <span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'G'</span>: <span class="keyword">return</span> <span class="number">2</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'T'</span>: <span class="keyword">return</span> <span class="number">3</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>: assert (<span class="literal">false</span>); <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;Node&gt;  buildTrie(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp; patterns)&#123;</span><br><span class="line"><span class="built_in">vector</span>&lt;Node&gt; trie;</span><br><span class="line">Node node;</span><br><span class="line">trie.push_back(node);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span>  p : patterns)&#123;</span><br><span class="line"><span class="keyword">int</span> curr  = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> c : p)&#123;</span><br><span class="line"><span class="keyword">int</span> idx = letterToIndex(c);</span><br><span class="line"><span class="keyword">if</span>(trie[curr].next[idx] == NA)&#123;</span><br><span class="line">trie.push_back(node);</span><br><span class="line">trie[curr].next[idx] = trie.size()<span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line">curr = trie[curr].next[idx];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> trie;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">searchTrie</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;Node&gt; &amp; trie,<span class="keyword">const</span> <span class="built_in">string</span> &amp; text,<span class="keyword">int</span> start)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> curr = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = start; i &lt; text.size(); ++i)&#123;</span><br><span class="line"><span class="keyword">int</span> idx = letterToIndex(text[i]);</span><br><span class="line">curr = trie[curr].next[idx];</span><br><span class="line"><span class="keyword">if</span>(curr == NA) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">if</span>(trie[curr].isLeaf()) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span> &lt;<span class="keyword">int</span>&gt; solve (<span class="keyword">const</span> <span class="built_in">string</span>&amp; text, <span class="keyword">int</span> n, <span class="keyword">const</span> <span class="built_in">vector</span> &lt;<span class="built_in">string</span>&gt;&amp; patterns)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line"><span class="built_in">vector</span>&lt;Node&gt; trie = buildTrie(patterns);</span><br><span class="line"><span class="comment">// write your code here</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; text.size(); ++i)&#123;</span><br><span class="line"><span class="keyword">if</span>(searchTrie(trie,text,i))&#123;</span><br><span class="line">result.push_back(i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">string</span> t;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span> &lt;<span class="built_in">string</span>&gt; patterns (n);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; patterns[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span> &lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line">ans = solve (t, n, patterns);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; (<span class="keyword">int</span>) ans.size (); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; ans[i];</span><br><span class="line"><span class="keyword">if</span> (i + <span class="number">1</span> &lt; (<span class="keyword">int</span>) ans.size ())</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="4-Problem-Construct-the-Suffix-Tree-of-a-String"><a href="#4-Problem-Construct-the-Suffix-Tree-of-a-String" class="headerlink" title="4 Problem: Construct the Suffix Tree of a String"></a>4 Problem: Construct the Suffix Tree of a String</h3><p><strong>Task</strong>. Construct the suffix tree of a string.<br><strong>Input Format</strong>. A string Text ending with a â€œ$â€ symbol.</p><h4 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h4><p>ç›´æ¥å»ºç«‹å‹ç¼©çš„suffix tree</p><h4 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>è¿™ä¸ªé¢˜ç›®å½“æ—¶å¡å£³çš„å¾ˆä¹…ï¼Œå¥½å¥½çš„èŠ±æ—¶é—´æŠŠsuffix Treeçš„å»ºç«‹è¿‡ç¨‹è¦è®²æ¸…æ¥šä¸€ä¸‹ã€‚</li><li>å› ä¸ºé¢˜ç›®ä¸­è¦æ±‚çš„ä¸ºå‹ç¼©çš„suffix trie,å¦‚æœç”¨æœªå‹ç¼©çš„suffix trieåˆ™ä¼šå‡ºç°è¶…æ—¶ã€‚</li><li>æˆ‘ä»¬é¦–å…ˆçœ‹ä¸€ä¸ªé‡è¦çš„æ“ä½œçš„ï¼Œæ±‚ä¸¤ä¸ªåç¼€çš„æœ€é•¿å…¬å…±å‰ç¼€ï¼Œlongest common prefixã€‚<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lcs</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp; text,<span class="keyword">int</span> l1,<span class="keyword">int</span> l2,<span class="keyword">int</span> length)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l1 &lt; <span class="number">0</span> || l2 &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; length; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(text[l1+i] != text[l2+i]) <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><ul><li>æ¯”å¦‚å­—ç¬¦<strong>ababac</strong>,åç¼€<strong>suffix[0] = ababac</strong>, åç¼€ <strong>suffix[2] = abac</strong>ï¼Œåˆ™ä¸Šè¿°çš„ä¸¤ä¸ªåç¼€çš„æœ€é•¿å…¬å…±å‰ç¼€é•¿åº¦ä¸º2.<br>æˆ‘ä»¬ä»åå¾€å‰å¯¹å­—ç¬¦ä¸²<strong>ababac</strong>ï¼Œè¿›è¡Œå»ºç«‹å®ƒçš„åç¼€æ ‘ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º<br><img src="https://mike-box.github.io/images/164-1.png" alt="1"></li><li>æˆ‘ä»¬ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæ¯æ¬¡è®¡ç®—å½“å‰åç¼€ä¸å½“å‰èŠ‚ç‚¹çš„å­©å­èŠ‚ç‚¹çš„æœ€é•¿å‰ç¼€ï¼Œç›´åˆ°LCPè®¡ç®—ç»“æœä¸º0ï¼Œåˆ™è¿™æ—¶ç›´æ¥å°†å½“å‰åç¼€ä½œä¸ºå¶å­èŠ‚ç‚¹åŠ å…¥åˆ°æ ‘ä¸­ã€‚</li></ul><h4 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; pii;</span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> Letters =    <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> NA      =   <span class="number">-1</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> next [Letters];</span><br><span class="line">    <span class="keyword">int</span> start;</span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">    Node ()&#123;</span><br><span class="line">        fill (next, next + Letters, NA);</span><br><span class="line">        <span class="keyword">this</span>-&gt;start = NA;</span><br><span class="line">        <span class="keyword">this</span>-&gt;length = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isLeaf</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Letters; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;next[i] == NA) <span class="keyword">return</span> <span class="literal">false</span>; </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">letterToIndex</span> <span class="params">(<span class="keyword">char</span> letter)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">switch</span> (letter)</span><br><span class="line">&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'$'</span>: <span class="keyword">return</span> <span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'A'</span>: <span class="keyword">return</span> <span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'C'</span>: <span class="keyword">return</span> <span class="number">2</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'G'</span>: <span class="keyword">return</span> <span class="number">3</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'T'</span>: <span class="keyword">return</span> <span class="number">4</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>: assert (<span class="literal">false</span>); <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;Node&gt; trie;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;pii&gt; suffixTrie;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// Build a suffix tree of the string text and return a vector</span></span><br><span class="line"><span class="comment">// with all of the labels of its edges (the corresponding </span></span><br><span class="line"><span class="comment">// substrings of the text) in any order.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lcs</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp; text,<span class="keyword">int</span> l1,<span class="keyword">int</span> l2,<span class="keyword">int</span> length)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l1 &lt; <span class="number">0</span> || l2 &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; length; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(text[l1+i] != text[l2+i]) <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ComputeSuffixTreeEdges</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; text)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n = text.size();</span><br><span class="line">  <span class="built_in">vector</span>&lt;pii&gt; result;</span><br><span class="line">  <span class="built_in">vector</span>&lt;Node&gt; trie;</span><br><span class="line">  Node node;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Implement this function yourself</span></span><br><span class="line">  trie.push_back(node);</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i)&#123;</span><br><span class="line">      <span class="keyword">int</span> curr = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; n;)&#123;</span><br><span class="line">          <span class="keyword">int</span> idx = letterToIndex(text[j]);</span><br><span class="line">          <span class="keyword">int</span> next =  trie[curr].next[idx];      </span><br><span class="line">          <span class="keyword">if</span>(next == NA)&#123;</span><br><span class="line">              trie.push_back(node);</span><br><span class="line">              trie[curr].next[idx] = trie.size()<span class="number">-1</span>;</span><br><span class="line">              curr = trie[curr].next[idx];</span><br><span class="line">              trie[curr].start = j;</span><br><span class="line">              trie[curr].length = n-j;</span><br><span class="line">              <span class="keyword">break</span>;</span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">              <span class="keyword">int</span> length = lcs(text,trie[next].start,j,trie[next].length);</span><br><span class="line">              <span class="keyword">if</span>(length == trie[next].length)&#123;</span><br><span class="line">                  curr = next;</span><br><span class="line">              &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                  trie.push_back(node);</span><br><span class="line">                  trie[curr].next[idx] = trie.size()<span class="number">-1</span>;</span><br><span class="line">                  curr = trie[curr].next[idx];</span><br><span class="line">                  trie[curr].start = j;</span><br><span class="line">                  trie[curr].length = length;</span><br><span class="line">                  trie[next].start  += length;</span><br><span class="line">                  trie[next].length -= length;</span><br><span class="line">                  <span class="keyword">int</span> x = letterToIndex(text[trie[next].start]);</span><br><span class="line">                  trie[curr].next[x] = next;</span><br><span class="line">              &#125;</span><br><span class="line">              j = j + length;</span><br><span class="line">          &#125;          </span><br><span class="line">      &#125;</span><br><span class="line">  &#125; </span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; trie.size(); ++i)&#123;</span><br><span class="line">      <span class="built_in">cout</span>&lt;&lt;text.substr(trie[i].start,trie[i].length)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">string</span> text;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; text;</span><br><span class="line">  ComputeSuffixTreeEdges(text);  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-Advanced-Problem-Find-the-Shortest-Non-Shared-Substring-of"><a href="#5-Advanced-Problem-Find-the-Shortest-Non-Shared-Substring-of" class="headerlink" title="5 Advanced Problem: Find the Shortest Non-Shared Substring of"></a>5 Advanced Problem: Find the Shortest Non-Shared Substring of</h3><p>Two Strings<br><strong>Task</strong>. Find the shortest substring of one string that does not appear in another string.<br><strong>Input Format</strong>. Strings Text1 and Text2.</p><h4 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h4><p>è¿™ä¸ªé¢˜ç›®ä¹Ÿå¾ˆæœ‰æ„æ€ã€‚</p><h4 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>åç¼€æ ‘çš„åº”ç”¨æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨åç¼€æ ‘çš„ç‰¹æ€§ã€‚</li><li>å¦‚æœå‘ç°æŸä¸ªåç¼€æ ‘çš„èŠ‚ç‚¹çš„æ‰€æœ‰å­©å­èŠ‚ç‚¹ä¸å­˜åœ¨ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å…¬å…±éƒ¨åˆ†ï¼Œåˆ™è®¤ä¸ºè¯¥èŠ‚ç‚¹ç¬¦åˆè¦æ±‚ã€‚</li><li>å®é™…åˆ¤åˆ«çš„æ—¶å€™æ¯”è¾ƒå¤æ‚ã€‚<h4 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> Letters =    <span class="number">6</span>;</span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> NA      =   <span class="number">-1</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> next [Letters];</span><br><span class="line">    <span class="keyword">int</span> start;</span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">    Node ()&#123;</span><br><span class="line">        fill (next, next + Letters, NA);</span><br><span class="line">        <span class="keyword">this</span>-&gt;start = NA;</span><br><span class="line">        <span class="keyword">this</span>-&gt;length = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; pii;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">letterToIndex</span> <span class="params">(<span class="keyword">char</span> letter)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">switch</span> (letter)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'A'</span>: <span class="keyword">return</span> <span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'C'</span>: <span class="keyword">return</span> <span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'G'</span>: <span class="keyword">return</span> <span class="number">2</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'T'</span>: <span class="keyword">return</span> <span class="number">3</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'#'</span>: <span class="keyword">return</span> <span class="number">4</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'$'</span>: <span class="keyword">return</span> <span class="number">5</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>: assert (<span class="literal">false</span>); <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// Build a suffix tree of the string text and return a vector</span></span><br><span class="line"><span class="comment">// with all of the labels of its edges (the corresponding </span></span><br><span class="line"><span class="comment">// substrings of the text) in any order.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lcs</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp; text,<span class="keyword">int</span> l1,<span class="keyword">int</span> l2,<span class="keyword">int</span> length)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l1 &lt; <span class="number">0</span> || l2 &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; length; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(text[l1+i] != text[l2+i]) <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">dfs</span><span class="params">(<span class="built_in">vector</span>&lt;Node&gt; &amp; trie,<span class="keyword">int</span> curr,<span class="keyword">int</span> length,<span class="built_in">string</span> &amp; text)</span></span>&#123;</span><br><span class="line"><span class="built_in">string</span> res;</span><br><span class="line"><span class="built_in">string</span> diff = text;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(curr == NA) <span class="keyword">return</span> text;</span><br><span class="line"><span class="keyword">if</span>(trie[curr].start != NA &amp;&amp; trie[curr].start &lt; length)&#123;</span><br><span class="line">res.push_back(text[trie[curr].start]);</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(trie[curr].start != NA)&#123;</span><br><span class="line">res = text.substr(trie[curr].start,trie[curr].length);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i)&#123;</span><br><span class="line"><span class="built_in">string</span> next = dfs(trie,trie[curr].next[i],length,text);</span><br><span class="line"><span class="keyword">if</span>(next.size() &lt; diff.size())&#123;</span><br><span class="line">diff = next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res + diff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">solve</span> <span class="params">(<span class="built_in">string</span> p, <span class="built_in">string</span> q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">string</span> result = p;</span><br><span class="line"><span class="built_in">string</span> text = p + <span class="string">"#"</span> +  q  + <span class="string">"$"</span>;</span><br><span class="line"><span class="keyword">int</span> n = text.size();</span><br><span class="line"><span class="keyword">int</span> m = p.size();</span><br><span class="line">  <span class="built_in">vector</span>&lt;Node&gt; trie;</span><br><span class="line">  Node node;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Implement this function yourself</span></span><br><span class="line">trie.push_back(node);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i)&#123;</span><br><span class="line"><span class="keyword">int</span> curr = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; n;)&#123;</span><br><span class="line"><span class="keyword">int</span> idx = letterToIndex(text[j]);</span><br><span class="line"><span class="keyword">int</span> next =  trie[curr].next[idx];      </span><br><span class="line"><span class="keyword">if</span>(next == NA)&#123;</span><br><span class="line">trie.push_back(node);</span><br><span class="line">trie[curr].next[idx] = trie.size()<span class="number">-1</span>;</span><br><span class="line">curr = trie[curr].next[idx];</span><br><span class="line">trie[curr].start = j;</span><br><span class="line">trie[curr].length = n-j;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">int</span> length = lcs(text,trie[next].start,j,trie[next].length);</span><br><span class="line"><span class="keyword">if</span>(length == trie[next].length)&#123;</span><br><span class="line">curr = next;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">trie.push_back(node);</span><br><span class="line">trie[curr].next[idx] = trie.size()<span class="number">-1</span>;</span><br><span class="line">curr = trie[curr].next[idx];</span><br><span class="line">trie[curr].start = trie[next].start;</span><br><span class="line">trie[curr].length = length;</span><br><span class="line">trie[next].start  += length;</span><br><span class="line">trie[next].length -= length;</span><br><span class="line"><span class="keyword">int</span> x = letterToIndex(text[trie[next].start]);</span><br><span class="line">trie[curr].next[x] = next;</span><br><span class="line">&#125;</span><br><span class="line">j = j + length;</span><br><span class="line">&#125;          </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> dfs(trie,<span class="number">0</span>,m,text);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">string</span> p;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; p;</span><br><span class="line"><span class="built_in">string</span> q;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; q;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> ans = solve (p, q);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="week2"><a href="#week2" class="headerlink" title="week2"></a>week2</h2><h3 id="1-Problem-Construct-the-Burrowsâ€“Wheeler-Transform-of-a-String"><a href="#1-Problem-Construct-the-Burrowsâ€“Wheeler-Transform-of-a-String" class="headerlink" title="1 Problem: Construct the Burrowsâ€“Wheeler Transform of a String"></a>1 Problem: Construct the Burrowsâ€“Wheeler Transform of a String</h3><p><strong>Task</strong>. Construct the Burrowsâ€“Wheeler transform of a string.<br><strong>Input Format</strong>. A string Text ending with a â€œ$â€ symbol.</p><h4 id="æ€è·¯-4"><a href="#æ€è·¯-4" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>å…ˆåˆ©ç”¨count arrayç®—æ³•å¯¹å­—ç¬¦è¿›è¡Œæ’åºã€‚</li><li>ç„¶åæŒ‰ç…§notebookä¸­çš„å‚è€ƒç®—æ³•ç¼–å†™ä»£ç å³å¯ã€‚</li><li>count arrayä½œä¸ºä¸€ä¸ªéå¸¸é‡è¦çš„ç®—æ³•éœ€è¦ç‰¢è®°ï¼Œå¯ä»¥åœ¨<strong>O(n+R)</strong>çš„çº¿æ€§æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæ•°ç»„çš„æ’åºã€‚<h4 id="ä»£ç -4"><a href="#ä»£ç -4" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">istringstream</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> keys = <span class="string">"ACGT$"</span>;</span><br><span class="line"><span class="comment">// Preprocess the Burrows-Wheeler Transform bwt of some text</span></span><br><span class="line"><span class="comment">// and compute as a result:</span></span><br><span class="line"><span class="comment">//   * starts - for each character C in bwt, starts[C] is the first position </span></span><br><span class="line"><span class="comment">//       of this character in the sorted array of </span></span><br><span class="line"><span class="comment">//       all characters of the text.</span></span><br><span class="line"><span class="comment">//   * occ_count_before - for each character C in bwt and each position P in bwt,</span></span><br><span class="line"><span class="comment">//       occ_count_before[C][P] is the number of occurrences of character C in bwt</span></span><br><span class="line"><span class="comment">//       from position 0 to position P inclusive.</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreprocessBWT</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; bwt, </span></span></span><br><span class="line"><span class="function"><span class="params">                   <span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt;&amp; starts, </span></span></span><br><span class="line"><span class="function"><span class="params">                   <span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt;&amp; occ_count_before)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Implement this function yourself</span></span><br><span class="line">    <span class="keyword">int</span> n = bwt.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; count(<span class="number">257</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; occ(n+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">string</span> text = <span class="string">""</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; keys.size(); ++i)&#123;</span><br><span class="line">        occ_count_before[keys[i]] = occ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        count[bwt[i]+<span class="number">1</span>]++;</span><br><span class="line">        occ_count_before[bwt[i]][i+<span class="number">1</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> c : keys)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j)&#123;</span><br><span class="line">            occ_count_before[c][j+<span class="number">1</span>] += occ_count_before[c][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">256</span>; ++i)&#123;</span><br><span class="line">        count[i+<span class="number">1</span>] += count[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!starts.count(bwt[i]))  starts[bwt[i]] = count[bwt[i]];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    for(auto c : keys)&#123;</span></span><br><span class="line"><span class="comment">        cout&lt;&lt;c&lt;&lt;":"&lt;&lt;starts[c]&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">        for(int i = 0; i &lt;= n; ++i)&#123;</span></span><br><span class="line"><span class="comment">            cout&lt;&lt;occ_count_before[c][i]&lt;&lt;" ";</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        cout&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Compute the number of occurrences of string pattern in the text</span></span><br><span class="line"><span class="comment">// given only Burrows-Wheeler Transform bwt of the text and additional</span></span><br><span class="line"><span class="comment">// information we get from the preprocessing stage - starts and occ_counts_before.</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">CountOccurrences</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; pattern, </span></span></span><br><span class="line"><span class="function"><span class="params">                     <span class="keyword">const</span> <span class="built_in">string</span>&amp; bwt, </span></span></span><br><span class="line"><span class="function"><span class="params">                     <span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt;&amp; starts, </span></span></span><br><span class="line"><span class="function"><span class="params">                     <span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt;&amp; occ_count_before)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// Implement this function yourself</span></span><br><span class="line">  <span class="keyword">int</span> n = bwt.size();</span><br><span class="line">  <span class="keyword">int</span> m = pattern.size();</span><br><span class="line">  <span class="keyword">int</span> top = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">int</span> bottom = n<span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">int</span> curr = m<span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(top &lt;= bottom)&#123;</span><br><span class="line">      <span class="keyword">if</span>(curr &lt; <span class="number">0</span>) <span class="keyword">return</span> bottom - top + <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">const</span> <span class="keyword">char</span> c = pattern[curr--];</span><br><span class="line">      top = starts[c] + occ_count_before[c][top];</span><br><span class="line">      bottom = starts[c] + occ_count_before[c][bottom+<span class="number">1</span>] - <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">     </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">string</span> bwt;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; bwt;</span><br><span class="line">  <span class="keyword">int</span> pattern_count;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; pattern_count;</span><br><span class="line">  <span class="comment">// Start of each character in the sorted list of characters of bwt,</span></span><br><span class="line">  <span class="comment">// see the description in the comment about function PreprocessBWT</span></span><br><span class="line">  <span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; starts;</span><br><span class="line">  <span class="comment">// Occurrence counts for each character and each position in bwt,</span></span><br><span class="line">  <span class="comment">// see the description in the comment about function PreprocessBWT</span></span><br><span class="line">  <span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; occ_count_before;</span><br><span class="line">  <span class="comment">// Preprocess the BWT once to get starts and occ_count_before.</span></span><br><span class="line">  <span class="comment">// For each pattern, we will then use these precomputed values and</span></span><br><span class="line">  <span class="comment">// spend only O(|pattern|) to find all occurrences of the pattern</span></span><br><span class="line">  <span class="comment">// in the text instead of O(|pattern| + |text|).</span></span><br><span class="line">  PreprocessBWT(bwt, starts, occ_count_before);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> pi = <span class="number">0</span>; pi &lt; pattern_count; ++pi) &#123;</span><br><span class="line">    <span class="built_in">string</span> pattern;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; pattern;</span><br><span class="line">    <span class="keyword">int</span> occ_count = CountOccurrences(pattern, bwt, starts, occ_count_before);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d "</span>, occ_count);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="4-Problem-Construct-the-Suffix-Array-of-a-String"><a href="#4-Problem-Construct-the-Suffix-Array-of-a-String" class="headerlink" title="4 Problem: Construct the Suffix Array of a String"></a>4 Problem: Construct the Suffix Array of a String</h3><p><strong>Task</strong>. Construct the suffix array of a string.<br><strong>Input Format</strong>. A string Text ending with a â€œ$â€ symbol.</p><h4 id="æ€è·¯-5"><a href="#æ€è·¯-5" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>å…ˆå»ºç«‹åç¼€æ ‘ï¼Œé‡‡ç”¨å‹ç¼©çš„suffix trieå³å¯ã€‚</li><li>ç„¶åæˆ‘ä»¬é€šè¿‡ä¸­åºéå†æ‰€æœ‰çš„å¶å­èŠ‚ç‚¹ï¼Œå³å¯å¾—åˆ°suffix arrayã€‚</li><li>è¿™é“é¢˜ç›®éœ€è¦å¯¹å‰é¢è®²è¿°çš„é‡ç‚¹suffix treeçš„å»ºç«‹è¦éå¸¸ç†Ÿæ‚‰ï¼Œå®é™…é¢˜ç›®è¿˜æ˜¯éå¸¸éš¾åšçš„ã€‚<h4 id="ä»£ç -5"><a href="#ä»£ç -5" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">InverseBWT</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; bwt)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n = bwt.size();</span><br><span class="line">  <span class="keyword">int</span> row = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; count(<span class="number">257</span>,<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; next(n,<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">string</span> text = <span class="string">""</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">      count[bwt[i]+<span class="number">1</span>]++;</span><br><span class="line">      <span class="keyword">if</span>(bwt[i] == <span class="string">'$'</span>) row = i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">256</span>; ++i)&#123;</span><br><span class="line">      count[i+<span class="number">1</span>] += count[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">      next[count[bwt[i]]++] = i; </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">      text.push_back(bwt[next[row]]);</span><br><span class="line">      row = next[row];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// write your code here</span></span><br><span class="line">  <span class="keyword">return</span> text;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">string</span> bwt;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; bwt;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; InverseBWT(bwt) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="week4-Algorithmic-Challenges"><a href="#week4-Algorithmic-Challenges" class="headerlink" title="week4: Algorithmic Challenges"></a>week4: Algorithmic Challenges</h2><p>æ€»çš„æ¥è¯´è¿™ä¸€ç« æ˜¯å­—ç¬¦ä¸²ç®—æ³•æœ€éš¾çš„ï¼Œå½“æ—¶å¡å£³äº†å‡ ä¸ªæ˜ŸæœŸæ‰æŠŠæ‰€æœ‰çš„é¢˜ç›®å…¨éƒ¨é€šè¿‡ï¼Œå…¶å®æœ‰æ—¶å€™çœŸçš„å¾ˆéš¾ç†è§£è®²ä¹‰ä¸­çš„ç®—æ³•ï¼Œè¿˜æ˜¯è¦è½åˆ°å®åœ°ï¼Œè‡ªå·±å»å†™å®é™…çš„ä»£ç æ‰ç›´åˆ°å“ªé‡Œå­˜åœ¨å‘ï¼Œå¯¹ç®—æ³•å®é™…çš„åŸç†æ‰èƒ½æ·±å…¥çš„ç†è§£ã€‚suffix arrayçœŸå¿ƒä¸å®¹æ˜“ã€‚</p><h3 id="1-Problem-Find-All-Occurrences-of-a-Pattern-in-a-String"><a href="#1-Problem-Find-All-Occurrences-of-a-Pattern-in-a-String" class="headerlink" title="1 Problem: Find All Occurrences of a Pattern in a String"></a>1 Problem: Find All Occurrences of a Pattern in a String</h3><p>In this problem, we ask a simple question: how many times one string occurs as a substring of another?<br>Recall that different occurrences of a substring can overlap with each other. For example, ATA occurs three<br>times in CGATATATCCATAG.</p><ul><li><strong>Task</strong>. Find all occurrences of a pattern in a string.</li><li><strong>Input Format</strong>. Strings ğ‘ƒğ‘ğ‘¡ğ‘¡ğ‘’ğ‘Ÿğ‘› and ğºğ‘’ğ‘›ğ‘œğ‘šğ‘’.<h4 id="æ€è·¯-6"><a href="#æ€è·¯-6" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4></li></ul><ol><li>KMPç®—æ³•ï¼Œç†Ÿæ‚‰kmpç®—æ³•æ¨¡å¼åŒ¹é…çš„è¯ï¼Œè¿™ä¸ªé¢˜ç›®éå¸¸ç®€å•ã€‚</li><li>åªæ˜¯è®²ä¹‰ä¸­çš„kmpç®—æ³•è·Ÿæˆ‘ä»¬å¹³å¸¸ç”¨çš„æ–¹æ³•æœ‰ä¸€äº›ä¸åŒã€‚ä¸ç”¨è®¡ç®—nextæ•°ç»„ï¼Œç›´æ¥è®¡ç®—æœ€é•¿åç¼€ã€‚<h4 id="ä»£ç -6"><a href="#ä»£ç -6" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> Letters =   <span class="number">4</span>;</span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> NA      =   <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">letterToIndex</span> <span class="params">(<span class="keyword">char</span> letter)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">switch</span> (letter)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'A'</span>: <span class="keyword">return</span> <span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'C'</span>: <span class="keyword">return</span> <span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'G'</span>: <span class="keyword">return</span> <span class="number">2</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'T'</span>: <span class="keyword">return</span> <span class="number">3</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>: assert (<span class="literal">false</span>); <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Find all occurrences of the pattern in the text and return a</span></span><br><span class="line"><span class="comment">// vector with all positions in the text (starting from 0) where </span></span><br><span class="line"><span class="comment">// the pattern starts in the text.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; find_pattern(<span class="keyword">const</span> <span class="built_in">string</span>&amp; pattern, <span class="keyword">const</span> <span class="built_in">string</span>&amp; text) &#123;</span><br><span class="line">  <span class="keyword">int</span> n = pattern.size();</span><br><span class="line">  <span class="keyword">int</span> m = text.size();</span><br><span class="line">  <span class="built_in">string</span> t = pattern + <span class="string">"$"</span> + text;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; prefix(m + n + <span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">  <span class="comment">// Implement this function yourself</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; t.size(); ++i)&#123;</span><br><span class="line">      <span class="keyword">while</span>(j &gt; <span class="number">0</span> &amp;&amp; t[j] != t[i]) j = prefix[j<span class="number">-1</span>];</span><br><span class="line">      <span class="keyword">if</span>(t[i] == t[j])&#123;</span><br><span class="line">          j++;</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          j = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      prefix[i] = j;</span><br><span class="line">      <span class="keyword">if</span>(i &gt; n &amp;&amp; prefix[i] == n) </span><br><span class="line">        result.push_back(i<span class="number">-2</span>*n);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">string</span> pattern, text;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; pattern;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; text;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result = find_pattern(pattern, text);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; result.size(); ++i) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d "</span>, result[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="2-Problem-Construct-the-Suffix-Array-of-a-Long-String"><a href="#2-Problem-Construct-the-Suffix-Array-of-a-Long-String" class="headerlink" title="2 Problem: Construct the Suffix Array of a Long String"></a>2 Problem: Construct the Suffix Array of a Long String</h3><p>The goal in this problem is to construct the suffix array of a given string again, but this time for a longer<br>string. This will require you to implement an efficient algorithm.</p><ul><li><strong>Task</strong>. Construct the suffix array of a string.</li><li><strong>Input Format</strong>. A string Text ending with a â€œ$â€ symbol.<h4 id="æ€è·¯-7"><a href="#æ€è·¯-7" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4></li></ul><ol><li>å¯¹åç¼€æ•°ç»„çš„å»ºç«‹ï¼Œæˆ‘ä»¬ä¹‹å‰è®²è¿‡ä¸€ç§æ–¹æ³•å³ä¸ºå»ºç«‹åç¼€æ ‘ï¼Œç„¶åå†è¿›è¡ŒDFSéå†å³å¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n^2),æ˜¾ç„¶ä¸èƒ½æ»¡è¶³é¢˜ç›®è¦æ±‚ã€‚</li><li>åˆ©ç”¨è®²ä¹‰ä¸­ç»™å‡ºçš„ç®—æ³•æ¥å®ç°å³å¯ã€‚å…¶ä¸­æœ‰ä¸¤ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µè¦å°†è®²ä¸€ä¸‹ï¼Œcount sortå’Œ classfiyæ“ä½œã€‚<br><img src="https://mike-box.github.io/images/164-2.png" alt="2"></li><li>æ’åºçš„æ—¶å€™åˆ©ç”¨å€å¢åŸç†æ¥ç¡®å®šé¡ºåºï¼Œéå¸¸ç‰›çš„ä¸€ç§æ€è·¯æ¥è§£å†³è¯¥é—®é¢˜ï¼Œå‘æ˜è¿™ä¸ªç®—æ³•çš„äººä¸€å®šå¾ˆèªæ˜ã€‚<h4 id><a href="#" class="headerlink" title=" "></a> </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::make_pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Build suffix array of the string text and</span></span><br><span class="line"><span class="comment">// return a vector result of the same length as the text</span></span><br><span class="line"><span class="comment">// such that the value result[i] is the index (0-based)</span></span><br><span class="line"><span class="comment">// in text where the i-th lexicographically smallest</span></span><br><span class="line"><span class="comment">// suffix of text starts.</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; SortCharacters(<span class="keyword">const</span> <span class="built_in">string</span> &amp; text)&#123;</span><br><span class="line">    <span class="keyword">int</span> n = text.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; count(<span class="number">256</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; order(n,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> c : text)&#123;</span><br><span class="line">        count[c]++;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">256</span>; ++i)&#123;</span><br><span class="line">        count[i] += count[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i)&#123;</span><br><span class="line">        count[text[i]]--;</span><br><span class="line">        order[count[text[i]]] = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> order;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ComputeCharClasses(<span class="keyword">const</span> <span class="built_in">string</span> &amp; text,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; order)&#123;</span><br><span class="line">    <span class="keyword">int</span> n = text.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res(n,<span class="number">0</span>);</span><br><span class="line">    res[order[<span class="number">0</span>]] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(text[order[i]] != text[order[i<span class="number">-1</span>]])&#123;</span><br><span class="line">            res[order[i]] = res[order[i<span class="number">-1</span>]]+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res[order[i]] = res[order[i<span class="number">-1</span>]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; SortDoubled(<span class="keyword">const</span> <span class="built_in">string</span> &amp; text,<span class="keyword">int</span> len,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; order,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; classfiy)&#123;</span><br><span class="line">    <span class="keyword">int</span> n = text.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; count(n,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; newOrder(n,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        count[classfiy[i]]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        count[i] += count[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i)&#123;</span><br><span class="line">        <span class="keyword">int</span> start = (order[i]-len+n)%n;</span><br><span class="line">        <span class="keyword">int</span> cl = classfiy[start];</span><br><span class="line">        count[cl]--;</span><br><span class="line">        newOrder[count[cl]] = start;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> newOrder;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; UpdateClasses(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; newOrder,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; classfiy,<span class="keyword">int</span> len)&#123;</span><br><span class="line">    <span class="keyword">int</span> n = newOrder.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; newClassfiy(n,<span class="number">0</span>);</span><br><span class="line">    newClassfiy[newOrder[<span class="number">0</span>]] = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> curr = newOrder[i];</span><br><span class="line">        <span class="keyword">int</span> prev = newOrder[i<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">int</span> mid = curr + len;</span><br><span class="line">        <span class="keyword">int</span> midPrev = (prev + len)%n;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(classfiy[curr] != classfiy[prev] || </span><br><span class="line">           classfiy[mid] != classfiy[midPrev])&#123;</span><br><span class="line">             newClassfiy[curr] = newClassfiy[prev] + <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">             newClassfiy[curr] = newClassfiy[prev];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> newClassfiy;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; BuildSuffixArray(<span class="keyword">const</span> <span class="built_in">string</span>&amp; text) &#123;</span><br><span class="line">  <span class="comment">// Implement this function yourself</span></span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; order = SortCharacters(text);</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; classfiy = ComputeCharClasses(text,order);</span><br><span class="line">  <span class="keyword">int</span> l = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">int</span> n = text.size();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(l &lt; n)&#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">          <span class="built_in">cout</span>&lt;&lt;order[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">          <span class="built_in">cout</span>&lt;&lt;classfiy[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">      order = SortDoubled(text,l,order,classfiy);</span><br><span class="line">      classfiy = UpdateClasses(order,classfiy,l);</span><br><span class="line">      l = l&lt;&lt;<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> order;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">string</span> text;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; text;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; suffix_array = BuildSuffixArray(text);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; suffix_array.size(); ++i) &#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; suffix_array[i] &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-Problem-Pattern-Matching-with-the-Suffix-Array"><a href="#3-Problem-Pattern-Matching-with-the-Suffix-Array" class="headerlink" title="3 Problem: Pattern Matching with the Suffix Array"></a>3 Problem: Pattern Matching with the Suffix Array</h3>In this problem, we will let you use the suffix array to solve the Multiple Pattern Matching Problem.</li></ol><ul><li><strong>Task</strong>. Find all occurrences of a given collection of patterns in a string.</li><li><strong>Input Format</strong>. The first line contains a string Text). The second line specifies an integer ğ‘›. The last line gives a collection of ğ‘› strings Patterns = {ğ‘1, . . . , ğ‘ğ‘›} separated by spaces.<h4 id="æ€è·¯-8"><a href="#æ€è·¯-8" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4></li></ul><ol><li>æ€è·¯å¯¹åº”å…ˆé€šè¿‡å€å¢ç®—æ³•ï¼Œæ±‚å‡ºåç¼€æ•°ç»„ã€‚</li><li>åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•ï¼ŒæŸ¥æ‰¾å¯¹å¤§äºç­‰äºå­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œï¼ŒæŸ¥æ‰¾å°äºç­‰äºå­—ç¬¦ä¸²çš„å³è¾¹ç•Œï¼Œæœ€ç»ˆå³ä¸ºå·¦å³è¾¹ç•Œä¹‹é—´çš„æ•°ç»„ã€‚</li><li>ç®—æ³•è¿˜æ˜¯éå¸¸ç»å…¸çš„ç®—æ³•ï¼Œéœ€è¦è®¤çœŸæ€è€ƒå’Œæ£æ‘©ã€‚<h4 id="ä»£ç -7"><a href="#ä»£ç -7" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; SortCharacters(<span class="keyword">const</span> <span class="built_in">string</span> &amp; text)&#123;</span><br><span class="line">    <span class="keyword">int</span> n = text.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; count(<span class="number">256</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; order(n,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> c : text)&#123;</span><br><span class="line">        count[c]++;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">256</span>; ++i)&#123;</span><br><span class="line">        count[i] += count[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i)&#123;</span><br><span class="line">        count[text[i]]--;</span><br><span class="line">        order[count[text[i]]] = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> order;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ComputeCharClasses(<span class="keyword">const</span> <span class="built_in">string</span> &amp; text,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; order)&#123;</span><br><span class="line">    <span class="keyword">int</span> n = text.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res(n,<span class="number">0</span>);</span><br><span class="line">    res[order[<span class="number">0</span>]] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(text[order[i]] != text[order[i<span class="number">-1</span>]])&#123;</span><br><span class="line">            res[order[i]] = res[order[i<span class="number">-1</span>]]+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res[order[i]] = res[order[i<span class="number">-1</span>]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; SortDoubled(<span class="keyword">const</span> <span class="built_in">string</span> &amp; text,<span class="keyword">int</span> len,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; order,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; classfiy)&#123;</span><br><span class="line">    <span class="keyword">int</span> n = text.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; count(n,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; newOrder(n,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        count[classfiy[i]]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        count[i] += count[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i)&#123;</span><br><span class="line">        <span class="keyword">int</span> start = (order[i]-len+n)%n;</span><br><span class="line">        <span class="keyword">int</span> cl = classfiy[start];</span><br><span class="line">        count[cl]--;</span><br><span class="line">        newOrder[count[cl]] = start;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> newOrder;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; UpdateClasses(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; newOrder,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; classfiy,<span class="keyword">int</span> len)&#123;</span><br><span class="line">    <span class="keyword">int</span> n = newOrder.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; newClassfiy(n,<span class="number">0</span>);</span><br><span class="line">    newClassfiy[newOrder[<span class="number">0</span>]] = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> curr = newOrder[i];</span><br><span class="line">        <span class="keyword">int</span> prev = newOrder[i<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">int</span> mid = curr + len;</span><br><span class="line">        <span class="keyword">int</span> midPrev = (prev + len)%n;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(classfiy[curr] != classfiy[prev] || </span><br><span class="line">           classfiy[mid] != classfiy[midPrev])&#123;</span><br><span class="line">             newClassfiy[curr] = newClassfiy[prev] + <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">             newClassfiy[curr] = newClassfiy[prev];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> newClassfiy;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; BuildSuffixArray(<span class="keyword">const</span> <span class="built_in">string</span>&amp; text) &#123;</span><br><span class="line">  <span class="comment">// Implement this function yourself</span></span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; order = SortCharacters(text);</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; classfiy = ComputeCharClasses(text,order);</span><br><span class="line">  <span class="keyword">int</span> l = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">int</span> n = text.size();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(l &lt; n)&#123;</span><br><span class="line">      order = SortDoubled(text,l,order,classfiy);</span><br><span class="line">      classfiy = UpdateClasses(order,classfiy,l);</span><br><span class="line">      l = l&lt;&lt;<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> order;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; FindOccurrences(<span class="keyword">const</span> <span class="built_in">string</span>&amp; pattern, <span class="keyword">const</span> <span class="built_in">string</span>&amp; text, <span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; suffix_array) &#123;</span><br><span class="line">  <span class="keyword">int</span> n = text.size();</span><br><span class="line">  <span class="keyword">int</span> m = pattern.size();</span><br><span class="line">  <span class="built_in">string</span> key = text + text;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">  <span class="keyword">int</span> l = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">int</span> r = n;</span><br><span class="line">  <span class="keyword">int</span> start = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">int</span> end = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// write your code here</span></span><br><span class="line">  <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">      <span class="keyword">int</span> mid = (l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span>(pattern &gt; key.substr(suffix_array[mid],m))&#123;</span><br><span class="line">          l = mid + <span class="number">1</span>;</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          r = mid;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  start = l;</span><br><span class="line">  r = n;</span><br><span class="line">  <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">      <span class="keyword">int</span> mid = (l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span>(pattern &lt;  key.substr(suffix_array[mid],m))&#123;</span><br><span class="line">          r = mid;</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          l = mid + <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  end = r;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(start &gt; end) <span class="keyword">return</span> result;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = start; i &lt; end; ++i)&#123;</span><br><span class="line">      result.push_back(suffix_array[i]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">char</span> buffer[<span class="number">100001</span>];</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">"%s"</span>, buffer);</span><br><span class="line">  <span class="built_in">string</span> text = buffer;</span><br><span class="line">  text += <span class="string">'$'</span>;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; suffix_array = BuildSuffixArray(text);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">int</span> pattern_count;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;pattern_count);</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; occurs(text.length(), <span class="literal">false</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> pattern_index = <span class="number">0</span>; pattern_index &lt; pattern_count; ++pattern_index) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, buffer);</span><br><span class="line">    <span class="built_in">string</span> pattern = buffer;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; occurrences = FindOccurrences(pattern, text, suffix_array);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; occurrences.size(); ++j) &#123;</span><br><span class="line">      occurs[occurrences[j]] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; occurs.size(); ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (occurs[i]) &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">"%d "</span>, i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="4-Advanced-Problem-Construct-the-Suffix-Tree-from-the-Suffix-Array"><a href="#4-Advanced-Problem-Construct-the-Suffix-Tree-from-the-Suffix-Array" class="headerlink" title="4 Advanced Problem: Construct the Suffix Tree from the Suffix Array"></a>4 Advanced Problem: Construct the Suffix Tree from the Suffix Array</h3><p>SuffixTree(Text) can be constructed in linear time from SuffixArray(Text) by using the longest common<br>prefix (LCP) array of Text, LCP(Text), which stores the length of the longest common prefix shared by<br>consecutive lexicographically ordered suffixes of Text. For example,<br>LCP(â€œpanamabananas$â€) = (0, 1, 1, 3, 3, 1, 0, 0, 0, 2, 2, 0, 0).</p><ul><li><strong>Task</strong>. Construct a suffix tree from the suffix array and LCP array of a string.</li><li><strong>Input Format</strong>. The first line contains a string Text ending with a â€œ$â€ symbol, the second line contains<br>SuffixArray(Text) as a list of |Text| integers separated by spaces, the last line contains LCP(Text) as<br>a list of |Text| âˆ’ 1 integers separated by spaces.<h4 id="æ€è·¯-9"><a href="#æ€è·¯-9" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4></li></ul><ol><li>è¿™ä¸ªé¢˜ç›®çœŸå¿ƒéš¾ï¼Œå½“æ—¶æ¨ä¸å¾—çœ‹äº†ä¸€ä¸ªæ˜ŸæœŸæ‰çœ‹æ‡‚è¯¥ç®—æ³•ï¼Œé¢˜ç›®çš„æœ¬æ„å³ä¸ºä»å¶å­èŠ‚ç‚¹å¾€ä¸Šå»ºé€ æ ‘ã€‚</li><li>æ¯æ¬¡ä¿å­˜ä¸Šæ¬¡å»ºæ ‘çš„å¶å­èŠ‚ç‚¹ï¼Œæ¯”è¾ƒå½“å‰å¶å­èŠ‚ç‚¹ä¸åç¼€ä¹‹é—´çš„æœ€é•¿å‰ç¼€ã€‚å¦‚æœé•¿åº¦ä¸º0åˆ™ç›´æ¥åˆ›å»ºæ–°çš„å¶å­èŠ‚ç‚¹ã€‚</li><li>è¿™ä¸ªé¢˜ç›®è§£é‡Šèµ·æ¥å¤ªå¤æ‚äº†ï¼Œéœ€è¦ä»”ç»†çš„ç”»å›¾ç¤ºæ„æ‰èƒ½å¯¹è¿™ä¸ªç®—æ³•æœ‰æ·±å…¥çš„äº†è§£ï¼Œæœ€å‘çš„æ˜¯åˆšå¼€å§‹é€’å½’å¤ªæ·±ï¼Œå¯¼è‡´ä¸€ç›´æŠ¥<code>sig 12</code>çš„é”™è¯¯ï¼Œæ‰¾ä¸åˆ°åŸå› ï¼Œåæ¥åœ¨è®ºå›ä¸Šé—®ï¼Œæ‰çŸ¥é“åŸæ¥æ˜¯åˆ©ç”¨dfsæ±‚è¾¹æ—¶å¯¼è‡´é€’å½’å¤ªæ·±ï¼Œå †æ ˆæº¢å‡ºçš„é—®é¢˜ï¼Œåæ¥ç»ˆäºè§£å†³äº†è¿™ä¸ªé¢˜ç›®ï¼Œæ„Ÿè§‰æ—¶æˆ‘åšçš„æ—¶é—´æœ€é•¿çš„é¢˜ç›®äº†ã€‚<h4 id="ä»£ç -8"><a href="#ä»£ç -8" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::make_pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Data structure to store edges of a suffix tree.</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span> &#123;</span></span><br><span class="line">  <span class="comment">// The ending node of this edge.</span></span><br><span class="line">  <span class="keyword">int</span> node;</span><br><span class="line">  <span class="comment">// Starting position of the substring of the text </span></span><br><span class="line">  <span class="comment">// corresponding to the label of this edge.</span></span><br><span class="line">  <span class="keyword">int</span> start;</span><br><span class="line">  <span class="comment">// Position right after the end of the substring of the text </span></span><br><span class="line">  <span class="comment">// corresponding to the label of this edge.</span></span><br><span class="line">  <span class="keyword">int</span> end;</span><br><span class="line"></span><br><span class="line">  Edge(<span class="keyword">int</span> node_, <span class="keyword">int</span> start_, <span class="keyword">int</span> end_) : node(node_), start(start_), end(end_) &#123;&#125;</span><br><span class="line">  Edge(<span class="keyword">const</span> Edge&amp; e) : node(e.node), start(e.start), end(e.end) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SuffixTreeNode</span>&#123;</span></span><br><span class="line">   SuffixTreeNode * parent;</span><br><span class="line">   <span class="built_in">map</span>&lt;<span class="keyword">char</span>,SuffixTreeNode*&gt; child;</span><br><span class="line">   <span class="keyword">int</span> depth;</span><br><span class="line">   <span class="keyword">int</span> start;</span><br><span class="line">   <span class="keyword">int</span> end;</span><br><span class="line">   SuffixTreeNode()&#123;</span><br><span class="line">      <span class="keyword">this</span>-&gt;parent = <span class="literal">NULL</span>;</span><br><span class="line">      <span class="keyword">this</span>-&gt;depth = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">this</span>-&gt;start = <span class="number">-1</span>;</span><br><span class="line">      <span class="keyword">this</span>-&gt;end = <span class="number">-1</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Build suffix tree of the string text given its suffix array suffix_array</span></span><br><span class="line"><span class="comment">// and LCP array lcp_array. Return the tree as a mapping from a node ID</span></span><br><span class="line"><span class="comment">// to the vector of all outgoing edges of the corresponding node. The edges in the</span></span><br><span class="line"><span class="comment">// vector must be sorted in the ascending order by the first character of the edge label.</span></span><br><span class="line"><span class="comment">// Root must have node ID = 0, and all other node IDs must be different</span></span><br><span class="line"><span class="comment">// nonnegative integers.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// For example, if text = "ACACAA$", an edge with label "$" from root to a node with ID 1</span></span><br><span class="line"><span class="comment">// must be represented by Edge(1, 6, 7). This edge must be present in the vector tree[0]</span></span><br><span class="line"><span class="comment">// (corresponding to the root node), and it should be the first edge in the vector </span></span><br><span class="line"><span class="comment">// (because it has the smallest first character of all edges outgoing from the root).</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(SuffixTreeNode * root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(root-&gt;child.size() == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">stack</span>&lt;SuffixTreeNode *&gt; s;</span><br><span class="line">    <span class="built_in">stack</span>&lt;SuffixTreeNode *&gt; child;</span><br><span class="line"></span><br><span class="line">    s.push(root);</span><br><span class="line">    <span class="keyword">while</span>(!s.empty())&#123;</span><br><span class="line">        SuffixTreeNode * curr = s.top();</span><br><span class="line">        s.pop();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(curr-&gt;parent) <span class="built_in">cout</span>&lt;&lt;curr-&gt;start&lt;&lt;<span class="string">" "</span>&lt;&lt;curr-&gt;end+<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v : curr-&gt;child)&#123;</span><br><span class="line">            child.push(v.second);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!child.empty())&#123;</span><br><span class="line">            s.push(child.top());</span><br><span class="line">            child.pop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SuffixTreeNode * <span class="title">CreateNewLeaf</span><span class="params">(SuffixTreeNode * node,<span class="keyword">const</span> <span class="built_in">string</span> &amp; text,<span class="keyword">int</span> suffix)</span></span>&#123;</span><br><span class="line">    SuffixTreeNode * leaf = <span class="keyword">new</span> SuffixTreeNode();</span><br><span class="line">    leaf-&gt;parent = node;</span><br><span class="line">    leaf-&gt;depth = text.size()-suffix;</span><br><span class="line">    leaf-&gt;start = suffix + node-&gt;depth;</span><br><span class="line">    leaf-&gt;end = text.size()<span class="number">-1</span>;</span><br><span class="line">    node-&gt;child[text[leaf-&gt;start]] = leaf;</span><br><span class="line">    <span class="keyword">return</span> leaf;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SuffixTreeNode * <span class="title">BreakEdge</span><span class="params">(SuffixTreeNode * node,<span class="keyword">const</span> <span class="built_in">string</span> &amp; text,<span class="keyword">int</span> start,<span class="keyword">int</span> offset)</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> startChar = text[start];</span><br><span class="line">    <span class="keyword">char</span> midChar = text[start + offset];</span><br><span class="line">    SuffixTreeNode * midNode = <span class="keyword">new</span> SuffixTreeNode();</span><br><span class="line">    midNode-&gt;parent = node;</span><br><span class="line">    midNode-&gt;depth = node-&gt;depth + offset;</span><br><span class="line">    midNode-&gt;start = start;</span><br><span class="line">    midNode-&gt;end = start + offset - <span class="number">1</span>;</span><br><span class="line">    midNode-&gt;child[midChar] = node-&gt;child[startChar];</span><br><span class="line">    node-&gt;child[startChar]-&gt;parent = midNode;</span><br><span class="line">    node-&gt;child[startChar]-&gt;start += offset;</span><br><span class="line">    node-&gt;child[startChar] = midNode;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> midNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">realseSuffixTree</span><span class="params">(SuffixTreeNode * root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(root-&gt;child.size() == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">delete</span> root;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : root-&gt;child)&#123;</span><br><span class="line">        realseSuffixTree(v.second);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span> root;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">SuffixTreeFromSuffixArray</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; suffix_array,</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; lcp_array,</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">const</span> <span class="built_in">string</span>&amp; text)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n = text.size();</span><br><span class="line">  SuffixTreeNode * root = <span class="keyword">new</span> SuffixTreeNode();</span><br><span class="line">  root-&gt;parent = <span class="literal">NULL</span>;</span><br><span class="line">  root-&gt;depth = <span class="number">0</span>;</span><br><span class="line">  root-&gt;start = <span class="number">0</span>;</span><br><span class="line">  root-&gt;end = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// Implement this function yourself</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">int</span> lcpPrev = <span class="number">0</span>;</span><br><span class="line">  SuffixTreeNode * currNode = root;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">      <span class="keyword">int</span> suffix = suffix_array[i];</span><br><span class="line">      <span class="keyword">while</span>(currNode-&gt;depth &gt; lcpPrev)&#123;</span><br><span class="line">          currNode = currNode-&gt;parent;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span>(currNode-&gt;depth == lcpPrev)&#123;</span><br><span class="line">          currNode = CreateNewLeaf(currNode,text,suffix);</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="keyword">int</span> start = suffix_array[i<span class="number">-1</span>] + currNode-&gt;depth;</span><br><span class="line">          <span class="keyword">int</span> offset = lcpPrev - currNode-&gt;depth;</span><br><span class="line">          <span class="comment">/*break from the edge*/</span></span><br><span class="line">          SuffixTreeNode * midNode =  BreakEdge(currNode,text,start,offset);</span><br><span class="line">          <span class="comment">/*add new leaf node*/</span></span><br><span class="line">          currNode = CreateNewLeaf(midNode,text,suffix);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span>(i &lt; n<span class="number">-1</span>)&#123;</span><br><span class="line">          lcpPrev = lcp_array[i];</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  dfs(root);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">char</span> buffer[<span class="number">200001</span>];</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">"%s"</span>, buffer);</span><br><span class="line">  <span class="built_in">string</span> text = buffer;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; suffix_array(text.length());</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; text.length(); ++i) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;suffix_array[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; lcp_array(text.length() - <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i + <span class="number">1</span> &lt; text.length(); ++i) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;lcp_array[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// Build the suffix tree and get a mapping from </span></span><br><span class="line">  <span class="comment">// suffix tree node ID to the list of outgoing Edges.</span></span><br><span class="line">  <span class="built_in">cout</span>&lt;&lt;text&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">  SuffixTreeFromSuffixArray(suffix_array, lcp_array, text);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä»”ç»†å›æƒ³ä¸€ä¸‹è‡ªå·±æœ¬ç§‘æ—¶å€™å­¦çš„ç®—æ³•æ°´å¹³çœŸçš„å¾ˆå·®äº†ï¼Œé‚£ä¹ˆåŸºç¡€å’Œç®€å•çš„ä¸œè¥¿éƒ½æ²¡æœ‰å¥½å¥½å­¦ï¼Œé‚£ä¸ªæ—¶å€™æœ‰å¤§æŠŠçš„æ—¶é—´å»å¥½å¥½å­¦ä¹ ï¼Œå¥½å¥½æ€è€ƒï¼Œå´è¢«è‡ªå·±è’åºŸäº†ã€‚ç¡®å®å€¼å¾—è‡ªå·±å»åæ€ä¸€ä¸‹åŸå› ã€‚</p><ul><li>ä¸ªäººä¸»è§‚åŸå› ï¼š å¯¹è‡ªå·±è¦æ±‚æ”¾æ¾ï¼Œå†åŠ ä¸Šå¤–ç•Œç¯å¢ƒçš„æ”¾æ¾ï¼Œå¾ˆéš¾å¯¹è‡ªå·±æœ‰æ‰€æé«˜ã€‚è€Œè‡ªå·±å¹´è½»æ—¶çš„ä¸çæƒœæ—¶é—´ï¼Œä¸çæƒœæœºä¼šå¯¼è‡´ä¸­å¹´å±æœºï¼Œæˆ‘æƒ³ä¹Ÿæ˜¯è‡ªå·±å’ç”±è‡ªå–ã€‚</li><li>å¤–ç•Œå®¢è§‚åŸå› ï¼š æƒ³æƒ³è¯»ä¹¦æ—¶ï¼Œæœ¬ç§‘è€å¸ˆå¾ˆå¤šæ°´å¹³çœŸçš„ä¸è¡Œï¼Œç»å¤§éƒ¨åˆ†ç§‘ç ”ä¸è¡Œï¼Œä¹Ÿæ²¡æœ‰å·¥ä¸šç•Œçš„ç»éªŒï¼Œç»å¤§éƒ¨åˆ†è€å¸ˆéƒ½æ˜¯ç…§æœ¬å®£ç§‘æ¥è®²è¯¾æœ¬ï¼Œå¯¹äºè®¡ç®—è¿™é—¨å®è·µæ€§è¿™ä¹ˆå¼ºçš„ç§‘ç›®ï¼Œæ²¡æœ‰å®è·µåŸºæœ¬ä¸Šç›¸å½“äºç™½å­¦ã€‚æƒ³æƒ³æœ¬æ¥è€å¸ˆè®²çš„ç®—æ³•å’Œæ•°æ®ç»“æ„æ ¹æœ¬å°±æ²¡æœ‰å®Œæ•´çš„å®ç°è¿‡ï¼Œå¯¹æ•°æ®çš„ç†è§£å’Œ ç®—æ³•çš„æ·±å…¥è¿œè¿œä¸å¤Ÿã€‚æˆ‘æƒ³å½“å¹´ä¸“ä¸šè¯¾è€å¸ˆä»¬ä¹Ÿå¯¹æˆ‘ä»¬è¿™ç¾¤å·®ç”Ÿä¹Ÿå¾ˆæ— è¯­äº†ã€‚</li><li>è§‚å¿µçš„åŸå› ï¼š æƒ³æƒ³å½“å¹´æ€»è§‰å¾—è‡ªå·±è¾›è¾›è‹¦è‹¦çš„è¯»å®Œå¤§å­¦å°±è¯¥äº«å—äº†ï¼Œå´å¹¶æ²¡æœ‰å¯¹è¿™ä¸ªä¸–ç•Œå’Œè¿™ä¸ªç¤¾ä¼šæœ‰çœŸæ­£çš„è®¤è¯†ï¼Œåªæ˜¯ç€çœ¼äºçœ¼å‰ã€‚å½“ç„¶é‚£ä¸ªæ—¶å€™äº’è”ç½‘ä¹Ÿæ²¡æœ‰ç°åœ¨è¿™ä¹ˆå‘è¾¾ï¼Œä¸åƒç°åœ¨ç½‘ä¸Šéšå¤„å¯ä»¥å­¦ä¹ çš„å…¬å¼€è¯¾å’Œå¼€æºä»£ç ä¾›è‡ªå·±å‚è€ƒï¼Œå½“å¹´å¯æ˜¯æ‰¾æœ¬æœ€æ–°çš„æ•™ç§‘ä¹¦éƒ½å¾ˆéš¾ã€‚<br>çµ®çµ®å¨å¨äº†è¿™ä¹ˆå¤šï¼Œä¸ç®¡æ€ä¹ˆæ ·ï¼ŒåŠªåŠ›å­¦ä¹ ï¼ŒåŠªåŠ›æå‡è‡ªå·±ï¼Œä¸è¦éšå‘¨å›´ç¯å¢ƒéšæ³¢é€æµï¼Œä¸è¦è¿·å¤±è‡ªå·±ï¼Œä¸è¦å¿˜äº†è‡ªå·±åˆå¿ƒï¼Œä¸è¦å¿˜äº†è‡ªå·±çš„è´£ä»»ã€‚è™½ç„¶çˆ¬å¡çš„è¿‡ç¨‹å¾ˆè‰°éš¾ï¼Œä½†æ˜¯å‰æ–¹çš„å…‰æ˜ä¾ç„¶åœ¨ç­‰ç€ä½ ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Algorithmic-On-Strings&quot;&gt;&lt;a href=&quot;#Algorithmic-On-Strings&quot; class=&quot;headerlink&quot; title=&quot;Algorithmic On Strings&quot;&gt;&lt;/a&gt;Algorithmic On Strings&lt;/h1&gt;&lt;p&gt;æœ€è¿‘å‡†å¤‡å­¦ä¹ &lt;code&gt;coursera&lt;/code&gt;ä¸Šçš„ã€Šç®—æ³•ä¸æ•°æ®ç»“æ„ç³»åˆ—è¯¾ç¨‹ã€‹ï¼Œè¿™ä¸ªè¯¾ç¨‹æ˜¯å…³äºå­—ç¬¦ä¸²ç›¸å…³ç®—æ³•ï¼Œè¿™ä¸ªè¯¾ç¨‹ç®—æ³•çš„éƒ¨åˆ†é¢˜ç›®éå¸¸çš„&lt;code&gt;tricky&lt;/code&gt;,å¯¹äºæˆ‘è¿™ç§æ™ºå•†æ™®é€šäººçš„æ¥è¯´ï¼ŒçœŸå¿ƒå¥½å¤šé¢˜ç›®æƒ³äº†å¥½å‡ å¤©æ‰èƒ½å¤Ÿæƒ³å‡ºæ¥ï¼Œç‰¹åˆ«æ˜¯å…³äºåç¼€æ ‘çš„éƒ¨åˆ†ï¼Œè¿˜æœ‰åç¼€æ•°ç»„çš„éƒ¨åˆ†ï¼Œæƒ³äº†å¾ˆé•¿æ—¶é—´æ‰æŠŠé—®é¢˜ç‹¬ç«‹çš„æƒ³æ˜ç™½ï¼Œæˆ‘æƒ³ç‹¬ç«‹æ€è€ƒçš„é—®é¢˜æ‰æ˜¯è‡ªå·±æœ€å¤§çš„æ”¶è·ã€‚å¯¹äºç‰¹åˆ«éœ€è¦ç‹¬ç«‹æ€è€ƒçš„é—®é¢˜ï¼Œé€‚å½“å»ºè®®å¯¹äºå¡åˆ°å£³çš„æ—¶å€™ï¼Œä¸€å®šè¦å…ˆæ”¾ä¸€æ”¾ï¼Œå»å¤–é¢æ•£æ­¥æˆ–è€…å¤šè¿åŠ¨ï¼Œåªæœ‰è¿™æ ·åˆ©ç”¨è‡ªå·±çš„å‘æ•£æ€ç»´å°±èƒ½æŠŠé—®é¢˜è§£å†³å‡ºæ¥ï¼Œä»”ç»†æ€è€ƒä¸€ä¸‹è¿™ç§æ€è€ƒæ¨¡å¼ï¼Œåœ¨ã€Šlearning how to learnã€‹è¯¾ç¨‹ä¸­å­¦åˆ°çš„çŸ¥è¯†åº”ç”¨åˆ°è¿™äº›ç§‘å­¦çŸ¥è¯†ï¼ŒçœŸçš„æ˜¯éå¸¸æœ‰ç”¨ã€‚&lt;br&gt;è¯¾ç¨‹ã€ŠAlgorithmic On Stringsã€‹å­¦ä¹ å®Œäº†ï¼Œè¿™éƒ¨åˆ†çš„è¯¾ç¨‹éš¾åº¦ç‰¹åˆ«æ˜¯åç¼€å¼å’Œåç¼€æ•°ç»„ç›¸å…³çš„çŸ¥è¯†çœŸå¿ƒéå¸¸çš„éš¾ï¼Œå¥½å¤šé¢˜ç›®éå¸¸çš„&lt;code&gt;trikly&lt;/code&gt;ï¼Œæœ€åå¾—åˆ†æ˜¯&lt;code&gt;100&lt;/code&gt; åˆ†ï¼Œè¯ä¹¦å¦‚ä¸‹ï¼š&lt;br&gt;&lt;a href=&quot;https://www.coursera.org/account/accomplishments/certificate/ESEG2K7DRVHP&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Algorithms on Strings&lt;/a&gt;&lt;br&gt;ä¸‹é¢å°†è¯¥è¯¾ç¨‹çš„é¢˜ç›®çš„è§£æ³•ã€‚&lt;br&gt;è¯¥è¯¾ç¨‹æ‰€æœ‰æäº¤çš„ä»£ç å¦‚ä¸‹ï¼š&lt;br&gt;&lt;a href=&quot;https://github.com/mike-box/coursera/tree/master/Algorithms%20on%20Strings&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;source code&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ã€ŠAlgorithmic On Stringsã€‹" scheme="http://yoursite.com/tags/%E3%80%8AAlgorithmic-On-Strings%E3%80%8B/"/>
    
  </entry>
  
  <entry>
    <title>ã€Leetcodeã€‘ 190å‘¨å‘¨èµ›</title>
    <link href="http://yoursite.com/2020/05/24/163/"/>
    <id>http://yoursite.com/2020/05/24/163/</id>
    <published>2020-05-24T04:46:56.440Z</published>
    <updated>2020-05-24T04:58:01.877Z</updated>
    
    <content type="html"><![CDATA[<h1 id="190å‘¨å‘¨èµ›"><a href="#190å‘¨å‘¨èµ›" class="headerlink" title="190å‘¨å‘¨èµ›"></a>190å‘¨å‘¨èµ›</h1><p>æœ¬å‘¨å‘¨èµ›çš„é¢˜ç›®å‡ºå¥‡çš„ç®€å•ï¼Œæˆ‘è¿™ç§æ¸£æ¸£æ°´å¹³éƒ½èƒ½åœ¨åŠä¸ªå°æ—¶å…¨éƒ¨æå®šã€‚</p><h2 id="5416-æ£€æŸ¥å•è¯æ˜¯å¦ä¸ºå¥ä¸­å…¶ä»–å•è¯çš„å‰ç¼€"><a href="#5416-æ£€æŸ¥å•è¯æ˜¯å¦ä¸ºå¥ä¸­å…¶ä»–å•è¯çš„å‰ç¼€" class="headerlink" title="5416. æ£€æŸ¥å•è¯æ˜¯å¦ä¸ºå¥ä¸­å…¶ä»–å•è¯çš„å‰ç¼€"></a>5416. æ£€æŸ¥å•è¯æ˜¯å¦ä¸ºå¥ä¸­å…¶ä»–å•è¯çš„å‰ç¼€</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>sentence</code>ä½œä¸ºå¥å­å¹¶æŒ‡å®šæ£€ç´¢è¯ä¸º <code>searchWord</code>ï¼Œå…¶ä¸­å¥å­ç”±è‹¥å¹²ç”¨ å•ä¸ªç©ºæ ¼ åˆ†éš”çš„å•è¯ç»„æˆã€‚</p><p>è¯·ä½ æ£€æŸ¥æ£€ç´¢è¯ <code>searchWord</code>æ˜¯å¦ä¸ºå¥å­<code>sentence</code>ä¸­ä»»æ„å•è¯çš„å‰ç¼€ã€‚</p><a id="more"></a><ul><li>å¦‚æœ<code>searchWord</code>æ˜¯æŸä¸€ä¸ªå•è¯çš„å‰ç¼€ï¼Œåˆ™è¿”å›å¥å­<code>sentence</code> ä¸­è¯¥å•è¯æ‰€å¯¹åº”çš„ä¸‹æ ‡ï¼ˆä¸‹æ ‡ä» 1 å¼€å§‹ï¼‰ã€‚</li><li>å¦‚æœ <code>searchWord</code>æ˜¯å¤šä¸ªå•è¯çš„å‰ç¼€ï¼Œåˆ™è¿”å›åŒ¹é…çš„ç¬¬ä¸€ä¸ªå•è¯çš„ä¸‹æ ‡ï¼ˆæœ€å°ä¸‹æ ‡ï¼‰ã€‚</li><li>å¦‚æœ<code>searchWord</code> ä¸æ˜¯ä»»ä½•å•è¯çš„å‰ç¼€ï¼Œåˆ™è¿”å› -1 ã€‚</li><li>å­—ç¬¦ä¸² S çš„ ã€Œå‰ç¼€ã€æ˜¯ S çš„ä»»ä½•å‰å¯¼è¿ç»­å­å­—ç¬¦ä¸²ã€‚</li></ul><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šsentence = <span class="string">"i love eating burger"</span>, searchWord = <span class="string">"burg"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼š<span class="string">"burg"</span> æ˜¯ <span class="string">"burger"</span> çš„å‰ç¼€ï¼Œè€Œ <span class="string">"burger"</span> æ˜¯å¥å­ä¸­ç¬¬ <span class="number">4</span> ä¸ªå•è¯ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šsentence = <span class="string">"this problem is an easy problem"</span>, searchWord = <span class="string">"pro"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼š<span class="string">"pro"</span> æ˜¯ <span class="string">"problem"</span> çš„å‰ç¼€ï¼Œè€Œ <span class="string">"problem"</span> æ˜¯å¥å­ä¸­ç¬¬ <span class="number">2</span> ä¸ªä¹Ÿæ˜¯ç¬¬ <span class="number">6</span> ä¸ªå•è¯ï¼Œä½†æ˜¯åº”è¯¥è¿”å›æœ€å°ä¸‹æ ‡ <span class="number">2</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">sentence</span> = <span class="string">"i am tired"</span>, <span class="attr">searchWord</span> = <span class="string">"you"</span></span><br><span class="line">è¾“å‡ºï¼š-<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼š<span class="string">"you"</span> ä¸æ˜¯å¥å­ä¸­ä»»ä½•å•è¯çš„å‰ç¼€ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">sentence</span> = <span class="string">"i use triple pillow"</span>, <span class="attr">searchWord</span> = <span class="string">"pill"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 5ï¼š<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">sentence</span> = <span class="string">"hello from the other side"</span>, <span class="attr">searchWord</span> = <span class="string">"they"</span></span><br><span class="line">è¾“å‡ºï¼š-<span class="number">1</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= sentence.length &lt;= 100</code></li><li><code>1 &lt;= searchWord.length &lt;= 10</code></li><li><code>sentence</code>ç”±å°å†™è‹±æ–‡å­—æ¯å’Œç©ºæ ¼ç»„æˆã€‚</li><li><code>searchWord</code>ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆã€‚</li><li>å‰ç¼€å°±æ˜¯ç´§å¯†é™„ç€äºè¯æ ¹çš„è¯­ç´ ï¼Œä¸­é—´ä¸èƒ½æ’å…¥å…¶å®ƒæˆåˆ†ï¼Œå¹¶ä¸”å®ƒçš„ä½ç½®æ˜¯å›ºå®šçš„â€”â€”-ä½äºè¯æ ¹ä¹‹å‰ã€‚ï¼ˆå¼•ç”¨è‡ª å‰ç¼€_ç™¾åº¦ç™¾ç§‘ ï¼‰</li></ul><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/contest/weekly-contest-190/problems/check-if-a-word-occurs-as-a-prefix-of-any-word-in-a-sentence/" target="_blank" rel="noopener">https://leetcode-cn.com/contest/weekly-contest-190/problems/check-if-a-word-occurs-as-a-prefix-of-any-word-in-a-sentence/</a></p><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> ç›´æ¥åˆ¤æ–­</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>é€åˆ†é¢˜ï¼Œå½“ç„¶æƒ³ç”¨æŠ€å·§çš„è¯å¯ä»¥æKMPä¹‹ç±»çš„ã€‚<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isPrefixOfWord</span><span class="params">(self, sentence: str, searchWord: str)</span> -&gt; int:</span></span><br><span class="line">        words = sentence.split()</span><br><span class="line">        m = len(searchWord)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(words)):</span><br><span class="line">            <span class="keyword">if</span> len(words[i]) &gt;= m <span class="keyword">and</span> words[i][:m] == searchWord:</span><br><span class="line">                <span class="keyword">return</span> i+<span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5417-å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®"><a href="#5417-å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®" class="headerlink" title="5417. å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®"></a>5417. å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®</h2><h3 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ å­—ç¬¦ä¸²<code>s</code>å’Œæ•´æ•° <code>k</code> ã€‚<br>è¯·è¿”å›å­—ç¬¦ä¸² s ä¸­é•¿åº¦ä¸º k çš„å•ä¸ªå­å­—ç¬¦ä¸²ä¸­å¯èƒ½åŒ…å«çš„æœ€å¤§å…ƒéŸ³å­—æ¯æ•°ã€‚<br>è‹±æ–‡ä¸­çš„ å…ƒéŸ³å­—æ¯ ä¸º<code>ï¼ˆa, e, i, o, uï¼‰</code>ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"abciiidef"</span>, k = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šå­å­—ç¬¦ä¸² <span class="string">"iii"</span> åŒ…å« <span class="number">3</span> ä¸ªå…ƒéŸ³å­—æ¯ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"aeiou"</span>, k = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼šä»»æ„é•¿åº¦ä¸º <span class="number">2</span> çš„å­å­—ç¬¦ä¸²éƒ½åŒ…å« <span class="number">2</span> ä¸ªå…ƒéŸ³å­—æ¯ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"leetcode"</span>, k = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼š<span class="string">"lee"</span>ã€<span class="string">"eet"</span> å’Œ <span class="string">"ode"</span> éƒ½åŒ…å« <span class="number">2</span> ä¸ªå…ƒéŸ³å­—æ¯ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"rhythms"</span>, k = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line">è§£é‡Šï¼šå­—ç¬¦ä¸² s ä¸­ä¸å«ä»»ä½•å…ƒéŸ³å­—æ¯ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 5ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"tryhard"</span>, k = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= s.length &lt;= 10^5</code></li><li>s ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</li><li><code>1 &lt;= k &lt;= s.length</code></li></ul><h3 id="åœ°å€-1"><a href="#åœ°å€-1" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/contest/weekly-contest-190/problems/maximum-number-of-vowels-in-a-substring-of-given-length/" target="_blank" rel="noopener">https://leetcode-cn.com/contest/weekly-contest-190/problems/maximum-number-of-vowels-in-a-substring-of-given-length/</a></p><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æ»‘åŠ¨çª—å£</p><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>é€åˆ†é¢˜ï¼Œæ»‘åŠ¨çª—å£ï¼Œçª—å£å¤§å°ä¸ºK.åˆ¤å®šçª—å£å†…çš„å…ƒéŸ³å­—æ¯ã€‚<h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isVowel</span><span class="params">(<span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(c == <span class="string">'a'</span>||c == <span class="string">'o'</span>||c == <span class="string">'e'</span>||c == <span class="string">'i'</span>||c == <span class="string">'u'</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxVowels</span><span class="params">(<span class="built_in">string</span> s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>,<span class="keyword">int</span>&gt; cnt;  </span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.size(); ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(isVowel(s[i]))&#123;</span><br><span class="line">                cnt[s[i]]++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= k - <span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> curr = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">auto</span> x : cnt)&#123;</span><br><span class="line">                    curr += x.second;</span><br><span class="line">                &#125;</span><br><span class="line">                res = max(curr,res);</span><br><span class="line">                <span class="keyword">if</span>(isVowel(s[i-k+<span class="number">1</span>]))&#123;</span><br><span class="line">                    cnt[s[i-k+<span class="number">1</span>]]--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5418-äºŒå‰æ ‘ä¸­çš„ä¼ªå›æ–‡è·¯å¾„"><a href="#5418-äºŒå‰æ ‘ä¸­çš„ä¼ªå›æ–‡è·¯å¾„" class="headerlink" title="5418. äºŒå‰æ ‘ä¸­çš„ä¼ªå›æ–‡è·¯å¾„"></a>5418. äºŒå‰æ ‘ä¸­çš„ä¼ªå›æ–‡è·¯å¾„</h2><h3 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼ä¸º 1 åˆ° 9 ã€‚æˆ‘ä»¬ç§°äºŒå‰æ ‘ä¸­çš„ä¸€æ¡è·¯å¾„æ˜¯ ã€Œä¼ªå›æ–‡ã€çš„ï¼Œå½“å®ƒæ»¡è¶³ï¼šè·¯å¾„ç»è¿‡çš„æ‰€æœ‰èŠ‚ç‚¹å€¼çš„æ’åˆ—ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªå›æ–‡åºåˆ—ã€‚</p><p>è¯·ä½ è¿”å›ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸­ ä¼ªå›æ–‡ è·¯å¾„çš„æ•°ç›®ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="literal">null</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span> </span><br><span class="line">è§£é‡Šï¼šä¸Šå›¾ä¸ºç»™å®šçš„äºŒå‰æ ‘ã€‚æ€»å…±æœ‰ <span class="number">3</span> æ¡ä»æ ¹åˆ°å¶å­çš„è·¯å¾„ï¼šçº¢è‰²è·¯å¾„ [<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>] ï¼Œç»¿è‰²è·¯å¾„ [<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>] å’Œè·¯å¾„ [<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>] ã€‚</span><br><span class="line">     åœ¨è¿™äº›è·¯å¾„ä¸­ï¼Œåªæœ‰çº¢è‰²å’Œç»¿è‰²çš„è·¯å¾„æ˜¯ä¼ªå›æ–‡è·¯å¾„ï¼Œå› ä¸ºçº¢è‰²è·¯å¾„ [<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>] å­˜åœ¨å›æ–‡æ’åˆ— [<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>] ï¼Œç»¿è‰²è·¯å¾„ [<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>] å­˜åœ¨å›æ–‡æ’åˆ— [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>] ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="literal">null</span>,<span class="literal">null</span>,<span class="literal">null</span>,<span class="literal">null</span>,<span class="literal">null</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span> </span><br><span class="line">è§£é‡Šï¼šä¸Šå›¾ä¸ºç»™å®šäºŒå‰æ ‘ã€‚æ€»å…±æœ‰ <span class="number">3</span> æ¡ä»æ ¹åˆ°å¶å­çš„è·¯å¾„ï¼šç»¿è‰²è·¯å¾„ [<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>] ï¼Œè·¯å¾„ [<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>] å’Œè·¯å¾„ [<span class="number">2</span>,<span class="number">1</span>] ã€‚</span><br><span class="line">     è¿™äº›è·¯å¾„ä¸­åªæœ‰ç»¿è‰²è·¯å¾„æ˜¯ä¼ªå›æ–‡è·¯å¾„ï¼Œå› ä¸º [<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>] å­˜åœ¨å›æ–‡æ’åˆ— [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>] ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">9</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li>ç»™å®šäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ç›®åœ¨ 1 åˆ° 10^5 ä¹‹é—´ã€‚</li><li>èŠ‚ç‚¹å€¼åœ¨ 1 åˆ° 9 ä¹‹é—´ã€‚</li></ul><h3 id="åœ°å€-2"><a href="#åœ°å€-2" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/contest/weekly-contest-190/problems/pseudo-palindromic-paths-in-a-binary-tree/" target="_blank" rel="noopener">https://leetcode-cn.com/contest/weekly-contest-190/problems/pseudo-palindromic-paths-in-a-binary-tree/</a></p><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> DFS</p><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>æˆ‘ä»¬é€šè¿‡DFSï¼Œç»Ÿè®¡æ¯æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ä¸Šçš„æ•°å­—ä¸ªæ•°ã€‚</li><li>å¦‚æœè·¯å¾„ä¸Šçš„æ•°å­—æœ‰1ä¸ªä»¥ä¸Šçš„æ•°å­—çš„æ•°é‡ä¸ºå¥‡æ•°ï¼Œåˆ™è¯¥è·¯å¾„ä¸èƒ½ç»„æˆå›æ–‡æ•°ã€‚</li><li>é¢˜ç›®å®é™…ä¸Šå¯ä»¥ç¨å¾®åŠ å¤§ç‚¹éš¾åº¦ï¼Œå»æ‰æ•°å­—å¤§å°çš„é™åˆ¶ï¼Œè¿™æ ·çš„è¯è¿™ä¸ªé¢˜ç›®éš¾åº¦å°±ç¨å¾®å¤§äº†ç‚¹ã€‚<h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(TreeNode * root,<span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; cnt,<span class="keyword">int</span> &amp; res)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!root) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        cnt[root-&gt;val]++;</span><br><span class="line">        <span class="keyword">if</span>(cnt[root-&gt;val]%<span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line">            cnt.erase(root-&gt;val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!root-&gt;left &amp;&amp; !root-&gt;right)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cnt.size() &lt;= <span class="number">1</span>) res++;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;left)&#123;</span><br><span class="line">            dfs(root-&gt;left,cnt,res);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;right)&#123;</span><br><span class="line">            dfs(root-&gt;right,cnt,res);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">pseudoPalindromicPaths</span> <span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; cnt;</span><br><span class="line">        dfs(root,cnt,res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5419-ä¸¤ä¸ªå­åºåˆ—çš„æœ€å¤§ç‚¹ç§¯"><a href="#5419-ä¸¤ä¸ªå­åºåˆ—çš„æœ€å¤§ç‚¹ç§¯" class="headerlink" title="5419. ä¸¤ä¸ªå­åºåˆ—çš„æœ€å¤§ç‚¹ç§¯"></a>5419. ä¸¤ä¸ªå­åºåˆ—çš„æœ€å¤§ç‚¹ç§¯</h2><h3 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸¤ä¸ªæ•°ç»„ <code>nums1</code>å’Œ <code>nums2</code> ã€‚</p><p>è¯·ä½ è¿”å› <code>nums1</code>å’Œ <code>nums2</code>ä¸­ä¸¤ä¸ªé•¿åº¦ç›¸åŒçš„ éç©º å­åºåˆ—çš„æœ€å¤§ç‚¹ç§¯ã€‚</p><p>æ•°ç»„çš„éç©ºå­åºåˆ—æ˜¯é€šè¿‡åˆ é™¤åŸæ•°ç»„ä¸­æŸäº›å…ƒç´ ï¼ˆå¯èƒ½ä¸€ä¸ªä¹Ÿä¸åˆ é™¤ï¼‰åå‰©ä½™æ•°å­—ç»„æˆçš„åºåˆ—ï¼Œä½†ä¸èƒ½æ”¹å˜æ•°å­—é—´ç›¸å¯¹é¡ºåºã€‚æ¯”æ–¹è¯´ï¼Œ<code>[2,3,5]</code> æ˜¯ <code>[1,2,3,4,5]</code>çš„ä¸€ä¸ªå­åºåˆ—è€Œ <code>[1,5,3]</code> ä¸æ˜¯ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [<span class="number">2</span>,<span class="number">1</span>,<span class="number">-2</span>,<span class="number">5</span>], nums2 = [<span class="number">3</span>,<span class="number">0</span>,<span class="number">-6</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">18</span></span><br><span class="line">è§£é‡Šï¼šä» nums1 ä¸­å¾—åˆ°å­åºåˆ— [<span class="number">2</span>,<span class="number">-2</span>] ï¼Œä» nums2 ä¸­å¾—åˆ°å­åºåˆ— [<span class="number">3</span>,<span class="number">-6</span>] ã€‚</span><br><span class="line">å®ƒä»¬çš„ç‚¹ç§¯ä¸º (<span class="number">2</span>*<span class="number">3</span> + (<span class="number">-2</span>)*(<span class="number">-6</span>)) = <span class="number">18</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [<span class="number">3</span>,<span class="number">-2</span>], nums2 = [<span class="number">2</span>,<span class="number">-6</span>,<span class="number">7</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">21</span></span><br><span class="line">è§£é‡Šï¼šä» nums1 ä¸­å¾—åˆ°å­åºåˆ— [<span class="number">3</span>] ï¼Œä» nums2 ä¸­å¾—åˆ°å­åºåˆ— [<span class="number">7</span>] ã€‚</span><br><span class="line">å®ƒä»¬çš„ç‚¹ç§¯ä¸º (<span class="number">3</span>*<span class="number">7</span>) = <span class="number">21</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [<span class="number">-1</span>,<span class="number">-1</span>], nums2 = [<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">-1</span></span><br><span class="line">è§£é‡Šï¼šä» nums1 ä¸­å¾—åˆ°å­åºåˆ— [<span class="number">-1</span>] ï¼Œä» nums2 ä¸­å¾—åˆ°å­åºåˆ— [<span class="number">1</span>] ã€‚</span><br><span class="line">å®ƒä»¬çš„ç‚¹ç§¯ä¸º <span class="number">-1</span> ã€‚</span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= nums1.length, nums2.length &lt;= 500</code></li><li><code>-1000 &lt;= nums1[i], nums2[i] &lt;= 100</code></li></ul><p>å®šä¹‰ä¸¤ä¸ªæ•°åˆ— $a = [a_{1},a_{2},a_{3},a_{4}â€¦a_{n}]$ ä¸ $b = [b_{1},b_{2},b_{3},b_{4}â€¦b_{n}]$çš„ç‚¹ç§¯ä¸ºï¼š</p><script type="math/tex; mode=display">a.b = \sum_{i=1}^{n}a_{i}b_{i} = a_{1}b_{1} + a_{2}b_{2} + a_{3}b_{3} + ...+ a_{n}b_{n}</script><h3 id="åœ°å€-3"><a href="#åœ°å€-3" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/contest/weekly-contest-190/problems/max-dot-product-of-two-subsequences/" target="_blank" rel="noopener">https://leetcode-cn.com/contest/weekly-contest-190/problems/max-dot-product-of-two-subsequences/</a></p><h3 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  DP</p><h3 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>å…¸å‹çš„DPï¼Œæ ¹LCSé—®é¢˜å‡ ä¹æ˜¯ä¸€æ ·çš„ï¼Œç¨å¾®å¤æ‚ç‚¹çš„è¦æ³¨æ„å¤„ç†è´Ÿæ•°çš„è¾¹ç•Œé—®é¢˜ã€‚</li><li>dp[i][j]è¡¨ç¤ºæ•°åˆ—1åˆ°ç´¢å¼•<code>i</code>å¤„ï¼Œæ•°åˆ—2åˆ°ç´¢å¼•<code>j</code>å¤„çš„ç‚¹ç§¯æœ€å¤§å€¼ï¼Œdpçš„é€’æ¨å…¬å¼å¦‚ä¸‹ï¼š<script type="math/tex; mode=display">dp[i][j] = max\left\{\begin{aligned}a_{i}b_{i} + dp[i-1][j-1] \\dp[i-1][j] \\dp[i][j-1] \\a_{i}b_{i} \\\end{aligned}\right.</script></li><li>åŸºæœ¬ä¸Šä»£ç 10è¡Œå°±å¯ä»¥æå®šã€‚<h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxDotProduct</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = nums1.size();</span><br><span class="line">        <span class="keyword">int</span> n = nums2.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(m+<span class="number">1</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n+<span class="number">1</span>,<span class="number">0</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)&#123;</span><br><span class="line">                dp[i][j] = nums1[i<span class="number">-1</span>]*nums2[j<span class="number">-1</span>];</span><br><span class="line">                dp[i][j] = max(dp[i][j],nums1[i<span class="number">-1</span>]*nums2[j<span class="number">-1</span>] + dp[i<span class="number">-1</span>][j<span class="number">-1</span>]);</span><br><span class="line">                <span class="keyword">if</span>(i &gt; <span class="number">1</span>) dp[i][j] = max(dp[i][j],dp[i<span class="number">-1</span>][j]);</span><br><span class="line">                <span class="keyword">if</span>(j &gt; <span class="number">1</span>) dp[i][j] = max(dp[i][j],dp[i][j<span class="number">-1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dp[m][n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;190å‘¨å‘¨èµ›&quot;&gt;&lt;a href=&quot;#190å‘¨å‘¨èµ›&quot; class=&quot;headerlink&quot; title=&quot;190å‘¨å‘¨èµ›&quot;&gt;&lt;/a&gt;190å‘¨å‘¨èµ›&lt;/h1&gt;&lt;p&gt;æœ¬å‘¨å‘¨èµ›çš„é¢˜ç›®å‡ºå¥‡çš„ç®€å•ï¼Œæˆ‘è¿™ç§æ¸£æ¸£æ°´å¹³éƒ½èƒ½åœ¨åŠä¸ªå°æ—¶å…¨éƒ¨æå®šã€‚&lt;/p&gt;&lt;h2 id=&quot;5416-æ£€æŸ¥å•è¯æ˜¯å¦ä¸ºå¥ä¸­å…¶ä»–å•è¯çš„å‰ç¼€&quot;&gt;&lt;a href=&quot;#5416-æ£€æŸ¥å•è¯æ˜¯å¦ä¸ºå¥ä¸­å…¶ä»–å•è¯çš„å‰ç¼€&quot; class=&quot;headerlink&quot; title=&quot;5416. æ£€æŸ¥å•è¯æ˜¯å¦ä¸ºå¥ä¸­å…¶ä»–å•è¯çš„å‰ç¼€&quot;&gt;&lt;/a&gt;5416. æ£€æŸ¥å•è¯æ˜¯å¦ä¸ºå¥ä¸­å…¶ä»–å•è¯çš„å‰ç¼€&lt;/h2&gt;&lt;h3 id=&quot;é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®&quot;&gt;&lt;/a&gt;é¢˜ç›®&lt;/h3&gt;&lt;p&gt;ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² &lt;code&gt;sentence&lt;/code&gt;ä½œä¸ºå¥å­å¹¶æŒ‡å®šæ£€ç´¢è¯ä¸º &lt;code&gt;searchWord&lt;/code&gt;ï¼Œå…¶ä¸­å¥å­ç”±è‹¥å¹²ç”¨ å•ä¸ªç©ºæ ¼ åˆ†éš”çš„å•è¯ç»„æˆã€‚&lt;/p&gt;&lt;p&gt;è¯·ä½ æ£€æŸ¥æ£€ç´¢è¯ &lt;code&gt;searchWord&lt;/code&gt;æ˜¯å¦ä¸ºå¥å­&lt;code&gt;sentence&lt;/code&gt;ä¸­ä»»æ„å•è¯çš„å‰ç¼€ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>ã€Leetcodeã€‘ 189å‘¨å‘¨èµ›</title>
    <link href="http://yoursite.com/2020/05/18/162/"/>
    <id>http://yoursite.com/2020/05/18/162/</id>
    <published>2020-05-18T09:02:46.654Z</published>
    <updated>2020-05-18T09:05:53.694Z</updated>
    
    <content type="html"><![CDATA[<h1 id="189å‘¨å‘¨èµ›"><a href="#189å‘¨å‘¨èµ›" class="headerlink" title="189å‘¨å‘¨èµ›"></a>189å‘¨å‘¨èµ›</h1><p>è¿˜æ˜¯å‘¨èµ›è´¨é‡ç¨å¾®é«˜ä¸€äº›ã€‚</p><h2 id="1450-Number-of-Students-Doing-Homework-at-a-Given-Time"><a href="#1450-Number-of-Students-Doing-Homework-at-a-Given-Time" class="headerlink" title="1450. Number of Students Doing Homework at a Given Time"></a>1450. Number of Students Doing Homework at a Given Time</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>Given two integer arrays startTime and endTime and given an integer queryTime.</p><a id="more"></a><p>The ith student started doing their homework at the time startTime[i] and finished it at time <code>endTime[i]</code>.</p><p>Return the number of students doing their homework at time queryTime. More formally, return the number of students where queryTime lays in the interval <code>[startTime[i], endTime[i]]</code> inclusive.</p><p>Example 1:<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: startTime = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], endTime = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">7</span>], queryTime = <span class="number">4</span></span><br><span class="line">Output: <span class="number">1</span></span><br><span class="line">Explanation: We have <span class="number">3</span> students <span class="keyword">where</span>:</span><br><span class="line">The <span class="keyword">first</span> student started doing homework <span class="keyword">at</span> <span class="built_in">time</span> <span class="number">1</span> <span class="keyword">and</span> finished <span class="keyword">at</span> <span class="built_in">time</span> <span class="number">3</span> <span class="keyword">and</span> wasn't doing anything <span class="keyword">at</span> <span class="built_in">time</span> <span class="number">4.</span></span><br><span class="line">The <span class="keyword">second</span> student started doing homework <span class="keyword">at</span> <span class="built_in">time</span> <span class="number">2</span> <span class="keyword">and</span> finished <span class="keyword">at</span> <span class="built_in">time</span> <span class="number">2</span> <span class="keyword">and</span> also wasn't doing anything <span class="keyword">at</span> <span class="built_in">time</span> <span class="number">4.</span></span><br><span class="line">The <span class="keyword">third</span> student started doing homework <span class="keyword">at</span> <span class="built_in">time</span> <span class="number">3</span> <span class="keyword">and</span> finished <span class="keyword">at</span> <span class="built_in">time</span> <span class="number">7</span> <span class="keyword">and</span> was <span class="keyword">the</span> only student doing homework <span class="keyword">at</span> <span class="built_in">time</span> <span class="number">4.</span></span><br></pre></td></tr></table></figure><br>Example 2:<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: startTime = [<span class="number">4</span>], endTime = [<span class="number">4</span>], queryTime = <span class="number">4</span></span><br><span class="line">Output: <span class="number">1</span></span><br><span class="line">Explanation: The only student was doing their homework at the queryTime.</span><br></pre></td></tr></table></figure><br>Example 3:<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: startTime = [<span class="number">4</span>], endTime = [<span class="number">4</span>], queryTime = <span class="number">5</span></span><br><span class="line">Output: <span class="number">0</span></span><br></pre></td></tr></table></figure><br>Example 4:<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: startTime = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>], endTime = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>], queryTime = <span class="number">7</span></span><br><span class="line">Output: <span class="number">0</span></span><br></pre></td></tr></table></figure><br>Example 5:<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: startTime = [<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>], endTime = [<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>], queryTime = <span class="number">5</span></span><br><span class="line">Output: <span class="number">5</span></span><br></pre></td></tr></table></figure></p><p>Constraints:</p><ul><li><code>startTime.length == endTime.length</code></li><li><code>1 &lt;= startTime.length &lt;= 100</code></li><li><code>1 &lt;= startTime[i] &lt;= endTime[i] &lt;= 1000</code></li><li><code>1 &lt;= queryTime &lt;= 1000</code></li></ul><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode.com/problems/number-of-students-doing-homework-at-a-given-time/" target="_blank" rel="noopener">https://leetcode.com/problems/number-of-students-doing-homework-at-a-given-time/</a></p><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> ç›´æ¥åˆ¤æ–­æˆ–è€…äºŒåˆ†æŸ¥æ‰¾</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>é¢˜ç›®ä¸­çš„æ•°æ®é‡éå¸¸å°ï¼Œæˆ‘ä»¬ç›´æ¥åˆ¤æ–­æ¯ä¸ªåŒºé—´æ˜¯å¦åŒ…å«<code>querytime</code>å³å¯ï¼ŒO(n)æ—¶é—´å¤æ‚åº¦å†…å³å¯å®Œæˆï¼Œæ¯”è¾ƒç®€å•ã€‚</li><li>å¦æœ‰ä¸€ç§æ¯”è¾ƒæ–¹ä¾¿çš„ç®—æ³•ï¼Œå¯ä»¥ç”¨æ¥è®¡ç®—å¤šä¸ª<code>query</code>ï¼Œå¯ä»¥åœ¨O(1)æˆ–è€…O(lgn)æ—¶é—´å¤æ‚åº¦å†…è·å–å¤šä¸ª<code>query</code>çš„æ¬¡æ•°ã€‚ç±»ä¼¼äºå·¦å³æ‹¬å·åŒ¹é…çš„åŠæ³•ã€‚æˆ‘ä»¬å°†æ‰€æœ‰çš„<code>startTime</code>åœ¨åæ ‡ä¸Šä»¥<code>(</code>è¡¨ç¤ºï¼Œå°†æ‰€æœ‰çš„<code>endTime</code>ä»¥<code>)</code>è¡¨ç¤ºï¼Œæˆ‘ä»¬é‡åˆ°å·¦æ‹¬å·åˆ™è¿›è¡ŒåŠ 1æ“ä½œï¼Œé‡åˆ°å³æ‹¬å·åˆ™è¿›è¡Œå‡1æ“ä½œã€‚</li><li>æ ¹æ®2çš„è§£æ³•å…¶å®å¾ˆç®€å•ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰çš„<code>startTime</code>å’Œ<code>endTime</code>è¿›è¡Œæ’åºï¼Œæˆ‘ä»¬æŸ¥æ‰¾å°äºç­‰äº<code>querytime</code>çš„<code>startTime</code>æœ‰lä¸ªï¼Œæˆ‘ä»¬æŸ¥æ‰¾å°äº<code>querytime</code>çš„<code>endTime</code>æœ‰rä¸ªï¼Œåœ¨æ­¤åŒºé—´çš„åˆ™æ€»å…±æœ‰<code>l - r</code>ã€‚<br><img src="https://mike-box.github.io/images/163-1.png" alt="1"><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">busyStudent</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; startTime, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; endTime, <span class="keyword">int</span> queryTime)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Declare Array of maximum given constraint size to</span></span><br><span class="line">        <span class="comment">// store all the overlapping intervals at any time.</span></span><br><span class="line">        <span class="comment">// Initially no intervals overlap so initialised by 0.</span></span><br><span class="line">        <span class="keyword">int</span> overlap_intervals[<span class="number">1002</span>];</span><br><span class="line">        <span class="built_in">memset</span>(overlap_intervals, <span class="number">0</span>, <span class="keyword">sizeof</span>(overlap_intervals));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// For every index in start time </span></span><br><span class="line">        <span class="comment">// increment the index in array by 1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : startTime) </span><br><span class="line">            overlap_intervals[i] += <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Since the intervals also contains the ending points so</span></span><br><span class="line">        <span class="comment">// decrement will work at index i+1.</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : endTime) </span><br><span class="line">            overlap_intervals[i + <span class="number">1</span>] -= <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Find the overlaps by using prefix sum technique</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1001</span>; i++) </span><br><span class="line">            overlap_intervals[i+<span class="number">1</span>] += overlap_intervals[i];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// return the overlaps at the given query time.</span></span><br><span class="line">        <span class="keyword">return</span> overlap_intervals[queryTime];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">busyStudent</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; startTime, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; endTime, <span class="keyword">int</span> queryTime)</span> </span>&#123;</span><br><span class="line">        sort(startTime.begin(),startTime.end());</span><br><span class="line">        sort(endTime.begin(),endTime.end());</span><br><span class="line">        <span class="keyword">int</span> l = upper_bound(startTime.begin(),startTime.end(),queryTime) - startTime.begin();</span><br><span class="line">        <span class="keyword">int</span> r = lower_bound(endTime.begin(),endTime.end(),queryTime) - endTime.begin();</span><br><span class="line">        <span class="keyword">return</span> l - r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="1451-Rearrange-Words-in-a-Sentence"><a href="#1451-Rearrange-Words-in-a-Sentence" class="headerlink" title="1451. Rearrange Words in a Sentence"></a>1451. Rearrange Words in a Sentence</h2><h3 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>Given a sentence <code>text</code> (A sentence is a string of space-separated words) in the following format:</p><ul><li>First letter is in upper case.</li><li>Each word in <code>text</code> are separated by a single space.</li></ul><p>Your task is to rearrange the words in text such that all words are rearranged in an increasing order of their lengths. If two words have the same length, arrange them in their original order.</p><p>Return the new text following the format shown above.</p><p>Example 1:<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: <span class="keyword">text</span> = <span class="string">"Leetcode is cool"</span></span><br><span class="line">Output: <span class="string">"Is cool leetcode"</span></span><br><span class="line">Explanation: There are <span class="number">3</span> <span class="keyword">words</span>, <span class="string">"Leetcode"</span> <span class="keyword">of</span> <span class="built_in">length</span> <span class="number">8</span>, <span class="string">"is"</span> <span class="keyword">of</span> <span class="built_in">length</span> <span class="number">2</span> <span class="keyword">and</span> <span class="string">"cool"</span> <span class="keyword">of</span> <span class="built_in">length</span> <span class="number">4.</span></span><br><span class="line">Output is ordered <span class="keyword">by</span> <span class="built_in">length</span> <span class="keyword">and</span> <span class="keyword">the</span> <span class="built_in">new</span> <span class="keyword">first</span> <span class="built_in">word</span> starts <span class="keyword">with</span> capital letter.</span><br></pre></td></tr></table></figure><br>Example 2:<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input: <span class="type">text</span> = <span class="string">"Keep calm and code on"</span></span><br><span class="line">Output: <span class="string">"On and keep calm code"</span></span><br><span class="line">Explanation: Output <span class="literal">is</span> ordered <span class="keyword">as</span> follows:</span><br><span class="line"><span class="string">"On"</span> <span class="number">2</span> letters.</span><br><span class="line"><span class="string">"and"</span> <span class="number">3</span> letters.</span><br><span class="line"><span class="string">"keep"</span> <span class="number">4</span> letters <span class="keyword">in</span> <span class="keyword">case</span> <span class="keyword">of</span> tie <span class="keyword">order</span> <span class="keyword">by</span><span class="built_in"> position</span> <span class="keyword">in</span> original <span class="type">text</span>.</span><br><span class="line"><span class="string">"calm"</span> <span class="number">4</span> letters.</span><br><span class="line"><span class="string">"code"</span> <span class="number">4</span> letters.</span><br></pre></td></tr></table></figure><br>Example 3:<br><figure class="highlight mizar"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: text = "To <span class="keyword">be</span> <span class="keyword">or</span> <span class="keyword">not</span> to <span class="keyword">be</span>"</span><br><span class="line">Output: "To <span class="keyword">be</span> <span class="keyword">or</span> to <span class="keyword">be</span> <span class="keyword">not</span>"</span><br></pre></td></tr></table></figure></p><p>Constraints:</p><ul><li>text begins with a capital letter and then contains lowercase letters and single space between words.</li><li><code>1 &lt;= text.length &lt;= 10^5</code></li></ul><h3 id="åœ°å€-1"><a href="#åœ°å€-1" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode.com/problems/rearrange-words-in-a-sentence/" target="_blank" rel="noopener">https://leetcode.com/problems/rearrange-words-in-a-sentence/</a></p><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æ’åº</p><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>è¿™ç§é¢˜ç›®ç‰¹åˆ«æ— èŠï¼Œå°±æ˜¯ç›´æ¥æš´åŠ›å³å¯ï¼Œæ²¡æœ‰ä¸€ç‚¹æŠ€å·§å¯è¨€ã€‚</li><li>å…ˆåˆ†è¯ï¼Œç„¶åå¯¹æ‰€æœ‰çš„å•è¯æŒ‰ç…§é•¿åº¦è¿›è¡Œ<code>ç¨³å®š</code>æ’åºï¼Œä¿è¯å•è¯çš„é¡ºåºä¸åŸæ¥ä¿æŒä¸€è‡´ã€‚</li><li>å†é‡å†™å¥å­ï¼Œç„¶åå°†é¦–å­—æ¯æ”¹æˆå¤§å†™ã€‚<h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">split</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; s,<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; sv,<span class="keyword">const</span> <span class="keyword">char</span> flag = <span class="string">' '</span>)</span> </span>&#123;</span><br><span class="line">        sv.clear();</span><br><span class="line">        <span class="function"><span class="built_in">istringstream</span> <span class="title">iss</span><span class="params">(s)</span></span>;</span><br><span class="line">        <span class="built_in">string</span> temp;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (getline(iss, temp, flag)) &#123;</span><br><span class="line">            sv.push_back(temp);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(pair&lt;<span class="built_in">string</span>,<span class="keyword">int</span>&gt; &amp; a,pair&lt;<span class="built_in">string</span>,<span class="keyword">int</span>&gt; &amp; b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.first.size() == b.first.size()) <span class="keyword">return</span> a.second &lt; b.second;</span><br><span class="line">        <span class="keyword">return</span> a.first.size() &lt; b.first.size();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">char</span> <span class="title">lower</span><span class="params">(<span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> c - <span class="string">'A'</span> + <span class="string">'a'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">char</span> <span class="title">upper</span><span class="params">(<span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> c - <span class="string">'a'</span> + <span class="string">'A'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isAlpha</span><span class="params">(<span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (c &gt;= <span class="string">'a'</span>&amp;&amp; c &lt;= <span class="string">'z'</span>)||(c &gt;= <span class="string">'A'</span>&amp;&amp; c &lt;= <span class="string">'Z'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">arrangeWords</span><span class="params">(<span class="built_in">string</span> text)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; words;</span><br><span class="line">        <span class="built_in">vector</span>&lt;pair&lt;<span class="built_in">string</span>,<span class="keyword">int</span>&gt;&gt; arr;</span><br><span class="line">        <span class="built_in">string</span> res;</span><br><span class="line">        </span><br><span class="line">        text[<span class="number">0</span>] = lower(text[<span class="number">0</span>]);</span><br><span class="line">        split(text,words,<span class="string">' '</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words.size(); ++i)&#123;</span><br><span class="line">            arr.push_back(make_pair(words[i],i));</span><br><span class="line">        &#125;</span><br><span class="line">        sort(arr.begin(),arr.end(),cmp);</span><br><span class="line">        res += arr[<span class="number">0</span>].first;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; arr.size(); ++i)&#123;</span><br><span class="line">           res += <span class="string">' '</span> + arr[i].first;</span><br><span class="line">        &#125;        </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(isAlpha(res[<span class="number">0</span>]))&#123;</span><br><span class="line">            res[<span class="number">0</span>] = upper(res[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="1452-People-Whose-List-of-Favorite-Companies-Is-Not-a-Subset-of-Another-List"><a href="#1452-People-Whose-List-of-Favorite-Companies-Is-Not-a-Subset-of-Another-List" class="headerlink" title="1452. People Whose List of Favorite Companies Is Not a Subset of Another List"></a>1452. People Whose List of Favorite Companies Is Not a Subset of Another List</h2><h3 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>Given the array favoriteCompanies where <code>favoriteCompanies[i]</code> is the list of favorites companies for the ith person (indexed from 0).</p><p>Return the indices of people whose list of favorite companies is not a subset of any other list of favorites companies. You must return the indices in increasing order.</p><p>Example 1:<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input</span>: favoriteCompanies = [[<span class="string">"leetcode"</span>,<span class="string">"google"</span>,<span class="string">"facebook"</span>],[<span class="string">"google"</span>,<span class="string">"microsoft"</span>],[<span class="string">"google"</span>,<span class="string">"facebook"</span>],[<span class="string">"google"</span>],[<span class="string">"amazon"</span>]]</span><br><span class="line"><span class="symbol">Output</span>: [<span class="number">0</span>,<span class="number">1</span>,<span class="number">4</span>] </span><br><span class="line"><span class="symbol">Explanation</span>: </span><br><span class="line"><span class="symbol">Person</span> with index=<span class="number">2</span> has favoriteCompanies[<span class="number">2</span>]=[<span class="string">"google"</span>,<span class="string">"facebook"</span>] which is a subset of favoriteCompanies[<span class="number">0</span>]=[<span class="string">"leetcode"</span>,<span class="string">"google"</span>,<span class="string">"facebook"</span>] corresponding to the person with index <span class="number">0.</span> </span><br><span class="line"><span class="symbol">Person</span> with index=<span class="number">3</span> has favoriteCompanies[<span class="number">3</span>]=[<span class="string">"google"</span>] which is a subset of favoriteCompanies[<span class="number">0</span>]=[<span class="string">"leetcode"</span>,<span class="string">"google"</span>,<span class="string">"facebook"</span>] and favoriteCompanies[<span class="number">1</span>]=[<span class="string">"google"</span>,<span class="string">"microsoft"</span>]. </span><br><span class="line"><span class="symbol">Other</span> lists of favorite companies are not a subset of another list, therefore, the answer is [<span class="number">0</span>,<span class="number">1</span>,<span class="number">4</span>].</span><br></pre></td></tr></table></figure><br>Example 2:<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input</span>: favoriteCompanies = [[<span class="string">"leetcode"</span>,<span class="string">"google"</span>,<span class="string">"facebook"</span>],[<span class="string">"leetcode"</span>,<span class="string">"amazon"</span>],[<span class="string">"facebook"</span>,<span class="string">"google"</span>]]</span><br><span class="line"><span class="symbol">Output</span>: [<span class="number">0</span>,<span class="number">1</span>] </span><br><span class="line"><span class="symbol">Explanation</span>: <span class="symbol">In</span> this case favoriteCompanies[<span class="number">2</span>]=[<span class="string">"facebook"</span>,<span class="string">"google"</span>] is a subset of favoriteCompanies[<span class="number">0</span>]=[<span class="string">"leetcode"</span>,<span class="string">"google"</span>,<span class="string">"facebook"</span>], therefore, the answer is [<span class="number">0</span>,<span class="number">1</span>].</span><br></pre></td></tr></table></figure><br>Example 3:<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input</span>: favoriteCompanies = [[<span class="string">"leetcode"</span>],[<span class="string">"google"</span>],[<span class="string">"facebook"</span>],[<span class="string">"amazon"</span>]]</span><br><span class="line"><span class="symbol">Output</span>: [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br></pre></td></tr></table></figure></p><p>Constraints:</p><ul><li><code>1 &lt;= favoriteCompanies.length &lt;= 100</code></li><li><code>1 &lt;= favoriteCompanies[i].length &lt;= 500</code></li><li><code>1 &lt;= favoriteCompanies[i][j].length &lt;= 20</code></li><li>All strings in <code>favoriteCompanies[i]</code> are distinct.</li><li>All lists of favorite companies are distinct, that is, If we sort alphabetically each list then <code>favoriteCompanies[i] != favoriteCompanies[j]</code>.</li><li>All strings consist of lowercase English letters only.</li></ul><h3 id="åœ°å€-2"><a href="#åœ°å€-2" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode.com/problems/people-whose-list-of-favorite-companies-is-not-a-subset-of-another-list/" target="_blank" rel="noopener">https://leetcode.com/problems/people-whose-list-of-favorite-companies-is-not-a-subset-of-another-list/</a></p><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æ’åº</p><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>è¿™ä¸ªé¢˜ç›®ä¹Ÿæ˜¯ç›´æ¥æš´åŠ›å³å¯ï¼Œç¨å¾®ç”¨ç‚¹æŠ€å·§çš„æ˜¯å¯ä»¥å°†å­—ç¬¦ä¸²æ”¹ç”¨hashæ¥å­˜å‚¨ï¼Œç›´æ¥æš´åŠ›ä¸¤å±‚å¾ªç¯å³å¯ã€‚</li><li>éš¾ç‚¹åœ¨äºå¦‚ä½•åˆ¤æ–­ä¸¤ä¸ª<code>list</code>å­˜åœ¨åŒ…å«å…³ç³»ï¼Œç¨å¾®ç”¨ç‚¹æŠ€å·§ï¼Œç”¨hashæˆ–è€…åŒæŒ‡é’ˆå‡å¯ï¼Œå³å¯åœ¨O(m)å¾—æ—¶é—´å¤æ‚åº¦å®Œæˆåˆ¤åˆ«ã€‚<h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">contain</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp; a, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp; b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = a.size();</span><br><span class="line">        <span class="keyword">int</span> n = b.size();</span><br><span class="line">        <span class="keyword">int</span> i,j;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>,j = <span class="number">0</span>; i &lt; m &amp;&amp; j &lt; n;)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i] == b[j])&#123;</span><br><span class="line">                i++;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i == m;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; peopleIndexes(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt;&amp; A) &#123;</span><br><span class="line">        <span class="keyword">int</span> n = A.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; A.size(); ++i)&#123;</span><br><span class="line">            sort(A[i].begin(),A[i].end());</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="keyword">bool</span> isContain = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i == j) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(contain(A[i],A[j]))&#123;</span><br><span class="line">                    isContain = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(!isContain) res.push_back(i);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="1453-Maximum-Number-of-Darts-Inside-of-a-Circular-Dartboard"><a href="#1453-Maximum-Number-of-Darts-Inside-of-a-Circular-Dartboard" class="headerlink" title="1453. Maximum Number of Darts Inside of a Circular Dartboard"></a>1453. Maximum Number of Darts Inside of a Circular Dartboard</h2><h3 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>You have a very large square wall and a circular dartboard placed on the wall. You have been challenged to throw darts into the board blindfolded. Darts thrown at the wall are represented as an array of points on a 2D plane.<br>Return the maximum number of points that are within or lie on <code>any</code> circular dartboard of radius r.</p><p>Example 1:<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: points = [[<span class="number">-2</span>,<span class="number">0</span>],[<span class="number">2</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">-2</span>]], r = <span class="number">2</span></span><br><span class="line">Output: <span class="number">4</span></span><br><span class="line">Explanation: Circle dartboard with center <span class="keyword">in</span> (<span class="number">0</span>,<span class="number">0</span>) <span class="keyword">and</span> radius = <span class="number">2</span> contain all points.</span><br></pre></td></tr></table></figure><br>Example 2:<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: points = [[<span class="number">-3</span>,<span class="number">0</span>],[<span class="number">3</span>,<span class="number">0</span>],[<span class="number">2</span>,<span class="number">6</span>],[<span class="number">5</span>,<span class="number">4</span>],[<span class="number">0</span>,<span class="number">9</span>],[<span class="number">7</span>,<span class="number">8</span>]], r = <span class="number">5</span></span><br><span class="line">Output: <span class="number">5</span></span><br><span class="line">Explanation: Circle dartboard with center <span class="keyword">in</span> (<span class="number">0</span>,<span class="number">4</span>) <span class="keyword">and</span> radius = <span class="number">5</span> contain all points except the point (<span class="number">7</span>,<span class="number">8</span>).</span><br></pre></td></tr></table></figure><br>Example 3:<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: points = [[<span class="number">-2</span>,<span class="number">0</span>],[<span class="number">2</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">-2</span>]], r = <span class="number">1</span></span><br><span class="line">Output: <span class="number">1</span></span><br></pre></td></tr></table></figure><br>Example 4:<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: points = [[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">5</span>],[<span class="number">1</span>,<span class="number">-1</span>],[<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">3</span>]], r = <span class="number">2</span></span><br><span class="line">Output: <span class="number">4</span></span><br></pre></td></tr></table></figure></p><p>Constraints:</p><ul><li><code>1 &lt;= points.length &lt;= 100</code></li><li><code>points[i].length == 2</code></li><li><code>-10^4 &lt;= points[i][0], points[i][1] &lt;= 10^4</code></li><li><code>1 &lt;= r &lt;= 5000</code></li></ul><h3 id="åœ°å€-3"><a href="#åœ°å€-3" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode.com/problems/maximum-number-of-darts-inside-of-a-circular-dartboard/" target="_blank" rel="noopener">https://leetcode.com/problems/maximum-number-of-darts-inside-of-a-circular-dartboard/</a></p><h3 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  æ•°å­¦é—®é¢˜</p><h3 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>é‡åˆ°è¿™ç§å›¾è®ºæˆ–è€…æ•°å­¦é—®é¢˜æœçœŸä¸ä¼šè§£ç­”ï¼Œç›´æ¥å‚è€ƒç­”æ¡ˆã€‚<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Enumerate all combinations <span class="keyword">of</span> <span class="number">2</span> points,</span><br><span class="line">find <span class="keyword">the</span> circle going <span class="keyword">through</span> them <span class="keyword">with</span> radius = r.</span><br><span class="line"></span><br><span class="line">Use this circumcenter <span class="keyword">as</span> <span class="keyword">the</span> center <span class="keyword">of</span> circle,</span><br><span class="line"><span class="keyword">and</span> <span class="built_in">count</span> how many points inside.</span><br><span class="line"></span><br><span class="line">Also explained <span class="keyword">by</span> Alexandre C:</span><br><span class="line">Basic observations :</span><br><span class="line"></span><br><span class="line">    I assume <span class="keyword">the</span> radius <span class="keyword">is</span> one,</span><br><span class="line">    <span class="keyword">since</span> <span class="keyword">it</span> doesn't change anything.</span><br><span class="line">    <span class="keyword">given</span> any two points,</span><br><span class="line">    there exists <span class="keyword">at</span> most two unit circles <span class="keyword">on</span> which they lie.</span><br><span class="line">    <span class="keyword">given</span> a solution circle <span class="keyword">to</span> your problem,</span><br><span class="line">    you can move <span class="keyword">it</span> <span class="keyword">until</span> <span class="keyword">it</span> <span class="keyword">contains</span> two points <span class="keyword">of</span> your <span class="keyword">set</span></span><br><span class="line">    <span class="keyword">while</span> keeping <span class="keyword">the</span> same <span class="built_in">number</span> <span class="keyword">of</span> points <span class="keyword">of</span> your <span class="keyword">set</span> inside <span class="keyword">it</span>.</span><br><span class="line"></span><br><span class="line">The algorithm <span class="keyword">is</span> <span class="keyword">then</span>:</span><br><span class="line"></span><br><span class="line">    For each pair <span class="keyword">of</span> points,</span><br><span class="line">    <span class="keyword">if</span> their distance <span class="keyword">is</span> &lt; <span class="number">2</span>,</span><br><span class="line">    compute <span class="keyword">the</span> two unit circles C1 <span class="keyword">and</span> C2 <span class="keyword">that</span> pass <span class="keyword">through</span> them.</span><br><span class="line">    Compute <span class="keyword">the</span> <span class="built_in">number</span> <span class="keyword">of</span> points <span class="keyword">of</span> your <span class="keyword">set</span> inside C1 <span class="keyword">and</span> C2</span><br><span class="line">    Take <span class="keyword">the</span> max.</span><br></pre></td></tr></table></figure></li><li>æ¶‰åŠåˆ°å›¾è®ºä¸­çš„ç›¸å…³æ•°å­¦çŸ¥è¯†ï¼Œè¿˜æ˜¯æ²¡æœ‰å­¦è¿‡ã€‚å¦‚æœä¸€ä¸ªåœ† C èƒ½è¦†ç›–ç‚¹é›† Sï¼Œå½“SåŒ…å«ä¸¤ä¸ªåŠä»¥ä¸Šæ•°é‡çš„ç‚¹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å›­è¿›è¡Œå¹³ç§»ç§»åŠ¨ C æ‰¾åˆ°ä¸€ä¸ª Câ€™ï¼Œä½¿å¾— Câ€™ ä¹Ÿèƒ½è¦†ç›– Sï¼Œä¸”è‡³å°‘æœ‰ä¸¤ä¸ªç‚¹åœ¨ Câ€™ ä¸Šã€‚è¿™ä¸ªè¯æ˜å°±å¾ˆå¤æ‚äº†ï¼Œæ„Ÿå…´è¶£çš„è¿˜æ˜¯çœ‹çœ‹æ•°å­¦å®šç†å§ã€‚<br><img src="https://mike-box.github.io/images/163-2.png" alt="2"></li><li>ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“å›­ä¸Šä¸¤ç‚¹çš„åæ ‡å’Œå›­çš„åŠå¾„ï¼Œæ±‚åœ†å¿ƒã€‚æ ¹æ®å­¦è¿‡çš„è§£æå‡ ä½•ï¼Œå¾ˆå®¹æ˜“å°†åœ†å¿ƒçš„åæ ‡æ±‚å‡ºæ¥ã€‚å®é™…åœ†å¿ƒå¯èƒ½ç”±ä¸¤ç§æƒ…å†µï¼Œå¦‚å›¾æ‰€ç¤ºçš„A,Bä¸¤ç‚¹ä¸ºå¯èƒ½çš„åœ†å¿ƒã€‚<br><img src="https://mike-box.github.io/images/163-4.png" alt="3"></li><li>åˆæŠŠè§£æå‡ ä½•ç¨å¾®å¤ä¹ äº†ä¸€ä¸‹ï¼Œä¸Šé¢ä½¿ä¸€äº›é€’æ¨å…¬å¼ï¼Œç¨å¾®å¤æ‚ç‚¹ï¼Œå¤§æ„å°±æ˜¯èµ·ç‚¹åæ ‡åŠ ä¸Šå•ä½å‘é‡ä¹˜ä»¥é•¿åº¦ã€‚æ¨å…¬å¼è¿˜æ˜¯éå¸¸æœ‰æ„æ€çš„ã€‚<script type="math/tex; mode=display">(x^{'},y^{'}) = (x,y) + (x_{d},y_{d})*h</script></li></ol></blockquote><h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numPoints</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; points, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = points.size();</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; ++j)&#123;</span><br><span class="line">                <span class="keyword">int</span> x1 = points[i][<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> y1 = points[i][<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">int</span> x2 = points[j][<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> y2 = points[j][<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">double</span> d = <span class="built_in">sqrt</span>((x1-x2)*(x1-x2) + (y1-y2)*(y1-y2));</span><br><span class="line">                <span class="keyword">if</span>(d &gt; r*<span class="number">2</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">double</span> x0 = (x1+x2)/<span class="number">2.0</span> + (y2 - y1)*<span class="built_in">sqrt</span>(r*r - d*d/<span class="number">4</span>)/d;</span><br><span class="line">                <span class="keyword">double</span> y0 = (y1+y2)/<span class="number">2.0</span> - (x2 - x1)*<span class="built_in">sqrt</span>(r*r - d*d/<span class="number">4</span>)/d;</span><br><span class="line">                <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; n; ++k)&#123;</span><br><span class="line">                    <span class="keyword">int</span> x = points[k][<span class="number">0</span>];</span><br><span class="line">                    <span class="keyword">int</span> y = points[k][<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span>((x0-x)*(x0-x) + (y0-y)*(y0-y) &lt;= r*r + <span class="number">0.00001</span>)&#123;</span><br><span class="line">                        count++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                res = max(res,count);</span><br><span class="line">                x0 = (x1+x2)/<span class="number">2.0</span> - (y2 - y1)*<span class="built_in">sqrt</span>(r*r - d*d/<span class="number">4</span>)/d;</span><br><span class="line">                y0 = (y1+y2)/<span class="number">2.0</span> + (x2 - x1)*<span class="built_in">sqrt</span>(r*r - d*d/<span class="number">4</span>)/d;</span><br><span class="line">                count = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; n; ++k)&#123;</span><br><span class="line">                    <span class="keyword">int</span> x = points[k][<span class="number">0</span>];</span><br><span class="line">                    <span class="keyword">int</span> y = points[k][<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span>((x0-x)*(x0-x) + (y0-y)*(y0-y) &lt;= r*r + <span class="number">0.00001</span>)&#123;</span><br><span class="line">                        count++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                res = max(res,count);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;189å‘¨å‘¨èµ›&quot;&gt;&lt;a href=&quot;#189å‘¨å‘¨èµ›&quot; class=&quot;headerlink&quot; title=&quot;189å‘¨å‘¨èµ›&quot;&gt;&lt;/a&gt;189å‘¨å‘¨èµ›&lt;/h1&gt;&lt;p&gt;è¿˜æ˜¯å‘¨èµ›è´¨é‡ç¨å¾®é«˜ä¸€äº›ã€‚&lt;/p&gt;&lt;h2 id=&quot;1450-Number-of-Students-Doing-Homework-at-a-Given-Time&quot;&gt;&lt;a href=&quot;#1450-Number-of-Students-Doing-Homework-at-a-Given-Time&quot; class=&quot;headerlink&quot; title=&quot;1450. Number of Students Doing Homework at a Given Time&quot;&gt;&lt;/a&gt;1450. Number of Students Doing Homework at a Given Time&lt;/h2&gt;&lt;h3 id=&quot;é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®&quot;&gt;&lt;/a&gt;é¢˜ç›®&lt;/h3&gt;&lt;p&gt;Given two integer arrays startTime and endTime and given an integer queryTime.&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>ã€Leetcodeã€‘ 26å‘¨åŒå‘¨èµ›</title>
    <link href="http://yoursite.com/2020/05/17/161/"/>
    <id>http://yoursite.com/2020/05/17/161/</id>
    <published>2020-05-16T16:09:54.635Z</published>
    <updated>2020-05-16T16:10:00.891Z</updated>
    
    <content type="html"><![CDATA[<h1 id="26å‘¨åŒå‘¨èµ›"><a href="#26å‘¨åŒå‘¨èµ›" class="headerlink" title="26å‘¨åŒå‘¨èµ›"></a>26å‘¨åŒå‘¨èµ›</h1><p>å‰ä¸‰é¢˜éå¸¸ç®€å•ï¼Œæœ€åä¸€é¢˜ç¨å¾®å¤æ‚ç‚¹ã€‚</p><h2 id="5396-è¿ç»­å­—ç¬¦"><a href="#5396-è¿ç»­å­—ç¬¦" class="headerlink" title="5396. è¿ç»­å­—ç¬¦"></a>5396. è¿ç»­å­—ç¬¦</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code>ï¼Œå­—ç¬¦ä¸²çš„ã€Œèƒ½é‡ã€å®šä¹‰ä¸ºï¼šåªåŒ…å«ä¸€ç§å­—ç¬¦çš„æœ€é•¿éç©ºå­å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</p><p>è¯·ä½ è¿”å›å­—ç¬¦ä¸²çš„èƒ½é‡ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"leetcode"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼šå­å­—ç¬¦ä¸² <span class="string">"ee"</span> é•¿åº¦ä¸º <span class="number">2</span> ï¼ŒåªåŒ…å«å­—ç¬¦ 'e' ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"abbcccddddeeeeedcba"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span></span><br><span class="line">è§£é‡Šï¼šå­å­—ç¬¦ä¸² <span class="string">"eeeee"</span> é•¿åº¦ä¸º <span class="number">5</span> ï¼ŒåªåŒ…å«å­—ç¬¦ 'e' ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"triplepillooooow"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"hooraaaaaaaaaaay"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">11</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 5ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"tourist"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure></p><a id="more"></a><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= s.length &lt;= 500</code></li><li>s åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚</li></ul><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/contest/biweekly-contest-26/problems/consecutive-characters/" target="_blank" rel="noopener">https://leetcode-cn.com/contest/biweekly-contest-26/problems/consecutive-characters/</a></p><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æ»‘åŠ¨çª—å£</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>ç›´æ¥æš´åŠ›æ»‘åŠ¨çª—å£ç»Ÿè®¡ç›¸åŒçš„å­—ç¬¦æ•°ç›®å³å¯ã€‚<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxPower</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = s.size();</span><br><span class="line">        <span class="keyword">char</span> curr = s[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i] == curr)&#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                res = max(res,count);</span><br><span class="line">                count = <span class="number">1</span>;</span><br><span class="line">                curr = s[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        res = max(res,count);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5397-æœ€ç®€åˆ†æ•°"><a href="#5397-æœ€ç®€åˆ†æ•°" class="headerlink" title="5397. æœ€ç®€åˆ†æ•°"></a>5397. æœ€ç®€åˆ†æ•°</h2><h3 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•° <code>n</code>ï¼Œè¯·ä½ è¿”å›æ‰€æœ‰ <code>0</code>åˆ° <code>1</code> ä¹‹é—´ï¼ˆä¸åŒ…æ‹¬ 0 å’Œ 1ï¼‰æ»¡è¶³åˆ†æ¯å°äºç­‰äº  <code>n</code>çš„ æœ€ç®€ åˆ†æ•° ã€‚åˆ†æ•°å¯ä»¥ä»¥ ä»»æ„ é¡ºåºè¿”å›ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">"1/2"</span>]</span><br><span class="line">è§£é‡Šï¼š<span class="string">"1/2"</span> æ˜¯å”¯ä¸€ä¸€ä¸ªåˆ†æ¯å°äºç­‰äº <span class="number">2</span> çš„æœ€ç®€åˆ†æ•°ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="built_in">n</span> = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">"1/2"</span>,<span class="string">"1/3"</span>,<span class="string">"2/3"</span>]</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="built_in">n</span> = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">"1/2"</span>,<span class="string">"1/3"</span>,<span class="string">"1/4"</span>,<span class="string">"2/3"</span>,<span class="string">"3/4"</span>]</span><br><span class="line">è§£é‡Šï¼š<span class="string">"2/4"</span> ä¸æ˜¯æœ€ç®€åˆ†æ•°ï¼Œå› ä¸ºå®ƒå¯ä»¥åŒ–ç®€ä¸º <span class="string">"1/2"</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">[]</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= n &lt;= 100</code></li></ul><h3 id="åœ°å€-1"><a href="#åœ°å€-1" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/contest/biweekly-contest-26/problems/simplified-fractions/" target="_blank" rel="noopener">https://leetcode-cn.com/contest/biweekly-contest-26/problems/simplified-fractions/</a></p><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æš´åŠ›</p><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>é¢˜ç›®ä¸­çš„<code>n</code>æœ€å¤§åªæœ‰100ï¼Œæ‰€ä»¥æ ¹æœ¬å°±ä¸ç”¨æŠ€å·§äº†ï¼Œç›´æ¥æš´åŠ›æ±‚å‡ºæ‰€æœ‰å¯èƒ½çš„åˆ†æ•°ï¼Œç„¶ååŒ–ç®€åˆ†æ•°ï¼Œå»æ‰é‡å¤çš„æ•°å³å¯ã€‚</li><li>å»é‡çš„æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œæˆ‘è¿™é‡Œç”¨çš„hashã€‚<h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; simplifiedFractions(<span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; res;</span><br><span class="line">        <span class="built_in">unordered_set</span>&lt;<span class="built_in">string</span>&gt; count;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt;= n; ++j)&#123;</span><br><span class="line">                <span class="keyword">int</span> g = __gcd(i,j);</span><br><span class="line">                <span class="keyword">int</span> x = i/g;</span><br><span class="line">                <span class="keyword">int</span> y = j/g;</span><br><span class="line">                <span class="built_in">string</span> s = to_string(x) + <span class="string">"/"</span> + to_string(y);</span><br><span class="line">                count.insert(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> x : count)&#123;</span><br><span class="line">            res.push_back(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5398-ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®"><a href="#5398-ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®" class="headerlink" title="5398. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®"></a>5398. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®</h2><h3 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€æ£µæ ¹ä¸º <code>root</code> çš„äºŒå‰æ ‘ï¼Œè¯·ä½ è¿”å›äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®ã€‚</p><p>ã€Œå¥½èŠ‚ç‚¹ã€X å®šä¹‰ä¸ºï¼šä»æ ¹åˆ°è¯¥èŠ‚ç‚¹ X æ‰€ç»è¿‡çš„èŠ‚ç‚¹ä¸­ï¼Œæ²¡æœ‰ä»»ä½•èŠ‚ç‚¹çš„å€¼å¤§äº X çš„å€¼ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="literal">null</span>,<span class="number">1</span>,<span class="number">5</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šå›¾ä¸­è“è‰²èŠ‚ç‚¹ä¸ºå¥½èŠ‚ç‚¹ã€‚</span><br><span class="line">æ ¹èŠ‚ç‚¹ (<span class="number">3</span>) æ°¸è¿œæ˜¯ä¸ªå¥½èŠ‚ç‚¹ã€‚</span><br><span class="line">èŠ‚ç‚¹ <span class="number">4</span> -&gt; (<span class="number">3</span>,<span class="number">4</span>) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚</span><br><span class="line">èŠ‚ç‚¹ <span class="number">5</span> -&gt; (<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚</span><br><span class="line">èŠ‚ç‚¹ <span class="number">3</span> -&gt; (<span class="number">3</span>,<span class="number">1</span>,<span class="number">3</span>) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">3</span>,<span class="number">3</span>,<span class="literal">null</span>,<span class="number">4</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šèŠ‚ç‚¹ <span class="number">2</span> -&gt; (<span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>) ä¸æ˜¯å¥½èŠ‚ç‚¹ï¼Œå› ä¸º <span class="string">"3"</span> æ¯”å®ƒå¤§ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šæ ¹èŠ‚ç‚¹æ˜¯å¥½èŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li>äºŒå‰æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®èŒƒå›´æ˜¯<code>[1, 10^5]</code>ã€‚</li><li>æ¯ä¸ªèŠ‚ç‚¹æƒå€¼çš„èŒƒå›´æ˜¯ <code>[-10^4, 10^4]</code>ã€‚</li></ul><h3 id="åœ°å€-2"><a href="#åœ°å€-2" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/contest/biweekly-contest-26/problems/count-good-nodes-in-binary-tree/" target="_blank" rel="noopener">https://leetcode-cn.com/contest/biweekly-contest-26/problems/count-good-nodes-in-binary-tree/</a></p><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> DFS</p><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>é¢˜ç›®å’‹ä¸€çœ‹è²Œä¼¼å¾ˆå¤æ‚ï¼Œå®é™…ä¸€åˆ†æéå¸¸ç®€å•ï¼Œç›´æ¥DFSæå®šã€‚</li><li>DFSæ—¶æ¯æ¬¡ä¼ è¾“ä»æ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹è·¯åŠ²ä¸Šçš„æœ€å¤§å€¼ï¼Œåˆ¤æ–­å½“å‰çš„èŠ‚ç‚¹çš„å€¼æ˜¯å¦å¤§äºç­‰äºè·¯å¾„çš„æœ€å¤§å€¼å³å¯ã€‚<h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(TreeNode * root,<span class="keyword">int</span> maxCurr,<span class="keyword">int</span> &amp; res)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!root) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;val &gt;= maxCurr)&#123;</span><br><span class="line">            res++;</span><br><span class="line">        &#125;</span><br><span class="line">        maxCurr = max(root-&gt;val,maxCurr);</span><br><span class="line">        dfs(root-&gt;left,maxCurr,res);</span><br><span class="line">        dfs(root-&gt;right,maxCurr,res);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">goodNodes</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        dfs(root,INT_MIN,res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5399-æ•°ä½æˆæœ¬å’Œä¸ºç›®æ ‡å€¼çš„æœ€å¤§æ•°å­—"><a href="#5399-æ•°ä½æˆæœ¬å’Œä¸ºç›®æ ‡å€¼çš„æœ€å¤§æ•°å­—" class="headerlink" title="5399. æ•°ä½æˆæœ¬å’Œä¸ºç›®æ ‡å€¼çš„æœ€å¤§æ•°å­—"></a>5399. æ•°ä½æˆæœ¬å’Œä¸ºç›®æ ‡å€¼çš„æœ€å¤§æ•°å­—</h2><h3 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>cost</code> å’Œä¸€ä¸ªæ•´æ•° <code>target</code>ã€‚è¯·ä½ è¿”å›æ»¡è¶³å¦‚ä¸‹è§„åˆ™å¯ä»¥å¾—åˆ°çš„ æœ€å¤§ æ•´æ•°ï¼š</p><ul><li>ç»™å½“å‰ç»“æœæ·»åŠ ä¸€ä¸ªæ•°ä½<code>ï¼ˆi + 1ï¼‰</code>çš„æˆæœ¬ä¸º <code>cost[i]</code> ï¼ˆ<code>cost</code> æ•°ç»„ä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ã€‚</li><li>æ€»æˆæœ¬å¿…é¡»æ°å¥½ç­‰äº <code>target</code>ã€‚</li><li>æ·»åŠ çš„æ•°ä½ä¸­æ²¡æœ‰æ•°å­— 0 ã€‚</li></ul><p>ç”±äºç­”æ¡ˆå¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¯·ä½ ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›ã€‚</p><p>å¦‚æœæŒ‰ç…§ä¸Šè¿°è¦æ±‚æ— æ³•å¾—åˆ°ä»»ä½•æ•´æ•°ï¼Œè¯·ä½ è¿”å› â€œ0â€ ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcost = [<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">5</span>], target = <span class="number">9</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"7772"</span></span><br><span class="line">è§£é‡Šï¼šæ·»åŠ æ•°ä½ '<span class="number">7</span>' çš„æˆæœ¬ä¸º <span class="number">2</span> ï¼Œæ·»åŠ æ•°ä½ '<span class="number">2</span>' çš„æˆæœ¬ä¸º <span class="number">3</span> ã€‚æ‰€ä»¥ <span class="string">"7772"</span> çš„ä»£ä»·ä¸º <span class="number">2</span>*<span class="number">3</span>+ <span class="number">3</span>*<span class="number">1</span> = <span class="number">9</span> ã€‚ <span class="string">"997"</span> ä¹Ÿæ˜¯æ»¡è¶³è¦æ±‚çš„æ•°å­—ï¼Œä½† <span class="string">"7772"</span> æ˜¯è¾ƒå¤§çš„æ•°å­—ã€‚</span><br><span class="line"> æ•°å­—     æˆæœ¬</span><br><span class="line">  <span class="number">1</span>  -&gt;   <span class="number">4</span></span><br><span class="line">  <span class="number">2</span>  -&gt;   <span class="number">3</span></span><br><span class="line">  <span class="number">3</span>  -&gt;   <span class="number">2</span></span><br><span class="line">  <span class="number">4</span>  -&gt;   <span class="number">5</span></span><br><span class="line">  <span class="number">5</span>  -&gt;   <span class="number">6</span></span><br><span class="line">  <span class="number">6</span>  -&gt;   <span class="number">7</span></span><br><span class="line">  <span class="number">7</span>  -&gt;   <span class="number">2</span></span><br><span class="line">  <span class="number">8</span>  -&gt;   <span class="number">5</span></span><br><span class="line">  <span class="number">9</span>  -&gt;   <span class="number">5</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcost = [<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">8</span>], target = <span class="number">12</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"85"</span></span><br><span class="line">è§£é‡Šï¼šæ·»åŠ æ•°ä½ '<span class="number">8</span>' çš„æˆæœ¬æ˜¯ <span class="number">7</span> ï¼Œæ·»åŠ æ•°ä½ '<span class="number">5</span>' çš„æˆæœ¬æ˜¯ <span class="number">5</span> ã€‚<span class="string">"85"</span> çš„æˆæœ¬ä¸º <span class="number">7</span> + <span class="number">5</span> = <span class="number">12</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcost = [<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>], target = <span class="number">5</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"0"</span></span><br><span class="line">è§£é‡Šï¼šæ€»æˆæœ¬æ˜¯ target çš„æ¡ä»¶ä¸‹ï¼Œæ— æ³•ç”Ÿæˆä»»ä½•æ•´æ•°ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcost = [<span class="number">6</span>,<span class="number">10</span>,<span class="number">15</span>,<span class="number">40</span>,<span class="number">40</span>,<span class="number">40</span>,<span class="number">40</span>,<span class="number">40</span>,<span class="number">40</span>], target = <span class="number">47</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"32211"</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>cost.length == 9</code></li><li><code>1 &lt;= cost[i] &lt;= 5000</code></li><li><code>1 &lt;= target &lt;= 5000</code></li></ul><h3 id="åœ°å€-3"><a href="#åœ°å€-3" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/contest/biweekly-contest-26/problems/form-largest-integer-with-digits-that-add-up-to-target/" target="_blank" rel="noopener">https://leetcode-cn.com/contest/biweekly-contest-26/problems/form-largest-integer-with-digits-that-add-up-to-target/</a></p><h3 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  0-1èƒŒåŒ…é—®é¢˜</p><h3 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>å…¸å‹çš„0-1èƒŒåŒ…é—®é¢˜ï¼Œç»™å®šçš„é‡é‡ä¸‹ï¼Œæœ‰æ— æ•°çš„è´§ç‰©ï¼Œå¦‚ä½•å–è´§ç‰©ä½¿å¾—èƒŒåŒ…çš„ä»·å€¼æœ€å¤§ã€‚</li><li>åœ¨è¿™é‡ŒèƒŒåŒ…çš„é‡é‡å³ä¸º<code>target</code>,æ¯ä¸ªè´§ç‰©çš„é‡é‡å³ä¸º<code>cost</code>,ä»·å€¼å³ä¸ºç»„æˆçš„æ•°ã€‚</li><li>ç¨å¾®å¤æ‚ç‚¹çš„æ•°å¦‚ä½•è¡¨ç¤ºï¼Œå‡è®¾æˆ‘ä»¬ç›´æ¥ç”¨å­—ç¬¦ä¸²æ¥è¡¨ç¤ºå·²ç»å–å¾—è´§ç‰©çš„ä»·å€¼æ—¶ï¼Œè‚¯å®šä¼šå‡ºç°å†…å­˜è¶…å‡ºæˆ–è€…è¶…æ—¶çš„é—®é¢˜ï¼Œä»”ç»†åˆ†æä¸€ä¸‹ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°æ®ç»Ÿè®¡å·²ç»å–å¾—æ‰€æœ‰æ•°ç›®<code>1~9</code>çš„ä¸ªæ•°ã€‚æ¯æ¬¡è¿›è¡Œä»·å€¼æ¯”è¾ƒæ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆæ¯”è¾ƒæ•°å­—çš„ä¸ªæ•°ï¼Œå¦‚æœæ•°å­—çš„ä¸ªæ•°ç›¸åŒï¼Œåˆ™æ¯”è¾ƒæ•°ç›®çš„å¤§å°å³å¯ï¼Œå…·ä½“å¯ä»¥å‚è€ƒä»£ç ã€‚</li><li>ç›´æ¥dpå³å¯ã€‚<script type="math/tex; mode=display">dp[i] = max(dp[i],dp[i-cost[j]] + j)</script><h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">compare</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; a,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> cnta = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> cntb = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i)&#123;</span><br><span class="line">            cnta += a[i];</span><br><span class="line">            cntb += b[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cnta &gt; cntb) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(cnta &lt; cntb) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">9</span>; i &gt;= <span class="number">1</span>; --i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i] &gt; b[i]) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(b[i] &gt; a[i]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">valid</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; a)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i] &lt; <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">generNum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; a)</span></span>&#123;</span><br><span class="line">        <span class="built_in">string</span> res;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">9</span>; i &gt;= <span class="number">1</span>; --i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; a[i]; ++j)&#123;</span><br><span class="line">                res += to_string(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">largestNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; cost, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = cost.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(target+<span class="number">1</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">10</span>,<span class="number">-1</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i)&#123;</span><br><span class="line">            dp[<span class="number">0</span>][i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= target; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>;j &lt;= <span class="number">9</span>; ++j)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i &gt;= cost[j<span class="number">-1</span>] &amp;&amp; valid(dp[i-cost[j<span class="number">-1</span>]]))&#123;</span><br><span class="line">                    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; prev = dp[i-cost[j<span class="number">-1</span>]];</span><br><span class="line">                    prev[j]++;</span><br><span class="line">                    <span class="keyword">if</span>(!valid(dp[i])||compare(prev,dp[i]))&#123;</span><br><span class="line">                        dp[i] = prev;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(!valid(dp[target])) <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">        <span class="keyword">return</span> generNum(dp[target]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;26å‘¨åŒå‘¨èµ›&quot;&gt;&lt;a href=&quot;#26å‘¨åŒå‘¨èµ›&quot; class=&quot;headerlink&quot; title=&quot;26å‘¨åŒå‘¨èµ›&quot;&gt;&lt;/a&gt;26å‘¨åŒå‘¨èµ›&lt;/h1&gt;&lt;p&gt;å‰ä¸‰é¢˜éå¸¸ç®€å•ï¼Œæœ€åä¸€é¢˜ç¨å¾®å¤æ‚ç‚¹ã€‚&lt;/p&gt;&lt;h2 id=&quot;5396-è¿ç»­å­—ç¬¦&quot;&gt;&lt;a href=&quot;#5396-è¿ç»­å­—ç¬¦&quot; class=&quot;headerlink&quot; title=&quot;5396. è¿ç»­å­—ç¬¦&quot;&gt;&lt;/a&gt;5396. è¿ç»­å­—ç¬¦&lt;/h2&gt;&lt;h3 id=&quot;é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®&quot;&gt;&lt;/a&gt;é¢˜ç›®&lt;/h3&gt;&lt;p&gt;ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² &lt;code&gt;s&lt;/code&gt;ï¼Œå­—ç¬¦ä¸²çš„ã€Œèƒ½é‡ã€å®šä¹‰ä¸ºï¼šåªåŒ…å«ä¸€ç§å­—ç¬¦çš„æœ€é•¿éç©ºå­å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚&lt;/p&gt;&lt;p&gt;è¯·ä½ è¿”å›å­—ç¬¦ä¸²çš„èƒ½é‡ã€‚&lt;/p&gt;&lt;p&gt;ç¤ºä¾‹ 1ï¼š&lt;br&gt;&lt;figure class=&quot;highlight lsl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è¾“å…¥ï¼šs = &lt;span class=&quot;string&quot;&gt;&quot;leetcode&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è¾“å‡ºï¼š&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è§£é‡Šï¼šå­å­—ç¬¦ä¸² &lt;span class=&quot;string&quot;&gt;&quot;ee&quot;&lt;/span&gt; é•¿åº¦ä¸º &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; ï¼ŒåªåŒ…å«å­—ç¬¦ &#39;e&#39; ã€‚&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;ç¤ºä¾‹ 2ï¼š&lt;br&gt;&lt;figure class=&quot;highlight lsl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è¾“å…¥ï¼šs = &lt;span class=&quot;string&quot;&gt;&quot;abbcccddddeeeeedcba&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è¾“å‡ºï¼š&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è§£é‡Šï¼šå­å­—ç¬¦ä¸² &lt;span class=&quot;string&quot;&gt;&quot;eeeee&quot;&lt;/span&gt; é•¿åº¦ä¸º &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt; ï¼ŒåªåŒ…å«å­—ç¬¦ &#39;e&#39; ã€‚&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;ç¤ºä¾‹ 3ï¼š&lt;br&gt;&lt;figure class=&quot;highlight lsl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è¾“å…¥ï¼šs = &lt;span class=&quot;string&quot;&gt;&quot;triplepillooooow&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è¾“å‡ºï¼š&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;ç¤ºä¾‹ 4ï¼š&lt;br&gt;&lt;figure class=&quot;highlight lsl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è¾“å…¥ï¼šs = &lt;span class=&quot;string&quot;&gt;&quot;hooraaaaaaaaaaay&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è¾“å‡ºï¼š&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;ç¤ºä¾‹ 5ï¼š&lt;br&gt;&lt;figure class=&quot;highlight lsl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è¾“å…¥ï¼šs = &lt;span class=&quot;string&quot;&gt;&quot;tourist&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è¾“å‡ºï¼š&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>ã€Courseraã€‘ ç®—æ³•è¯¾ç¨‹ã€ŠAlgorithms on Graphsã€‹</title>
    <link href="http://yoursite.com/2020/05/10/160/"/>
    <id>http://yoursite.com/2020/05/10/160/</id>
    <published>2020-05-10T12:09:15.322Z</published>
    <updated>2020-05-10T12:09:20.985Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Algorithmic-Graphs"><a href="#Algorithmic-Graphs" class="headerlink" title="Algorithmic Graphs"></a>Algorithmic Graphs</h1><p>æœ€è¿‘å‡†å¤‡å­¦ä¹ <code>coursera</code>ä¸Šçš„ã€Šç®—æ³•ä¸æ•°æ®ç»“æ„ç³»åˆ—è¯¾ç¨‹ã€‹ï¼Œå·²ç»æŠŠç¬¬äºŒéƒ¨åˆ†è¯¾ç¨‹ã€ŠAlgorithmic Toolboxã€‹å­¦ä¹ å®Œäº†ï¼Œå›¾çš„å‰5ç« æ¯”è¾ƒç®€å•ï¼Œé™¤äº†æœ‰å‡ é“é¢˜ç›®ç¨å¾®æ¯”è¾ƒ<code>trikly</code>ä»¥å¤–ï¼Œå…¶ä½™çš„éƒ½æ˜¯æ¯”è¾ƒå®¹æ˜“çš„é¢˜ç›®ã€‚å¾—åˆ†æ˜¯<code>100</code> åˆ†ï¼Œè¯ä¹¦å¦‚ä¸‹ï¼š<br><a href="https://www.coursera.org/account/accomplishments/certificate/TS4US3YKWDB6" target="_blank" rel="noopener">Algorithms on Graphs</a><br>ä¸‹é¢å°†è¯¥è¯¾ç¨‹çš„é¢˜ç›®çš„è§£æ³•ã€‚<br>è¯¥è¯¾ç¨‹æ‰€æœ‰æäº¤çš„ä»£ç å¦‚ä¸‹ï¼š<br><a href="https://github.com/mike-box/coursera/tree/master/Algorithms%20on%20graphs" target="_blank" rel="noopener">source code</a><br>æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªè¯¾ç¨‹æ¯”å¦å¤–ä¸¤ä¸ªè¯¾ç¨‹ç®€å•ä¸€äº›ï¼Œå½“ç„¶è¿˜æœ‰æœ€åä¸€èŠ‚å›¾çš„é«˜çº§åº”ç”¨ï¼Œè¿˜æ˜¯ç¨å¾®å¤æ‚ä¸€äº›ï¼Œç›®å‰æ­£åœ¨å­¦ä¹ ä¸­ã€‚</p><a id="more"></a><h2 id="week1"><a href="#week1" class="headerlink" title="week1"></a>week1</h2><h3 id="1-Problem-Finding-an-Exit-from-a-Maze"><a href="#1-Problem-Finding-an-Exit-from-a-Maze" class="headerlink" title="1. Problem: Finding an Exit from a Maze"></a>1. Problem: Finding an Exit from a Maze</h3><p>A maze is a rectangular grid of cells with walls between some of adjacent cells.<br>You would like to check whether there is a path from a given cell to a given<br>exit from a maze where an exit is also a cell that lies on the border of the maze<br>(in the example shown to the right there are two exits: one on the left border<br>and one on the right border). For this, you represent the maze as an undirected<br>graph: vertices of the graph are cells of the maze, two vertices are connected by<br>an undirected edge if they are adjacent and there is no wall between them. Then,<br>to check whether there is a path between two given cells in the maze, it suffices to<br>check that there is a path between the corresponding two vertices in the graph.<br><strong>Task</strong>. Given an undirected graph and two distinct vertices ğ‘¢ and ğ‘£, check if there is a path between ğ‘¢ and ğ‘£.<br><strong>Input Format</strong>. An undirected graph with ğ‘› vertices and ğ‘š edges. The next line contains two vertices ğ‘¢<br>and ğ‘£ of the graph.<br><strong>Constraints</strong>. 2 â‰¤ ğ‘› â‰¤ 103; 1 â‰¤ ğ‘š â‰¤ 103; 1 â‰¤ ğ‘¢, ğ‘£ â‰¤ ğ‘›; ğ‘¢ Ì¸= ğ‘£.<br><strong>Output Format</strong>. Output 1 if there is a path between ğ‘¢ and ğ‘£ and 0 otherwise.</p><h4 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h4><blockquote><p> BFS</p><h4 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>æœ€åŸºæœ¬çš„BFSè·¯å¾„æœç´¢<h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">reach</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;adj, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="comment">//write your code here</span></span><br><span class="line">  <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; visit;</span><br><span class="line">  <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; qu;</span><br><span class="line"></span><br><span class="line">  visit.insert(x);</span><br><span class="line">  qu.push(x);</span><br><span class="line">  <span class="keyword">while</span>(!qu.empty())&#123;</span><br><span class="line">      <span class="keyword">int</span> curr = qu.front();</span><br><span class="line">      qu.pop();</span><br><span class="line">      <span class="keyword">if</span>(curr == y) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">auto</span> v : adj[curr])&#123;</span><br><span class="line">          <span class="keyword">if</span>(visit.count(v)) <span class="keyword">continue</span>;</span><br><span class="line">          qu.push(v);</span><br><span class="line">          visit.insert(v);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">size_t</span> n, m;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; adj(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">    <span class="keyword">int</span> x, y;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y;</span><br><span class="line">    adj[x - <span class="number">1</span>].push_back(y - <span class="number">1</span>);</span><br><span class="line">    adj[y - <span class="number">1</span>].push_back(x - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">int</span> x, y;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; reach(adj, x - <span class="number">1</span>, y - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h3 id="2-Problem-Adding-Exits-to-a-Maze"><a href="#2-Problem-Adding-Exits-to-a-Maze" class="headerlink" title="2 Problem: Adding Exits to a Maze"></a>2 Problem: Adding Exits to a Maze</h3><p><strong>Task</strong>. Given an undirected graph with ğ‘› vertices and ğ‘š edges, compute the number of connected components in it.<br><strong>Input Format</strong>. A graph is given in the standard format.<br><strong>Constraints</strong>. 1 â‰¤ ğ‘› â‰¤ 103, 0 â‰¤ ğ‘š â‰¤ 103.<br><strong>Output Format</strong>. Output the number of connected components.</p><h4 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><p>1.æœ€åŸºæœ¬çš„æŸ¥æ‰¾å›¾çš„è¿é€šå•å…ƒï¼Œç”¨BFSæˆ–è€…å¹¶æŸ¥é›†å®ç°å‡å¯ã€‚</p><h4 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">number_of_components</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; &amp;adj)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">int</span> n = adj.size();</span><br><span class="line">  <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; qu;</span><br><span class="line">  <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; visit;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//write your code here</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">      <span class="keyword">if</span>(visit.count(i)) <span class="keyword">continue</span>;</span><br><span class="line">      qu.push(i);</span><br><span class="line">      visit.insert(i);</span><br><span class="line">      res++;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span>(!qu.empty())&#123;</span><br><span class="line">          <span class="keyword">int</span> curr = qu.front();</span><br><span class="line">          qu.pop();</span><br><span class="line"></span><br><span class="line">          <span class="keyword">for</span>(<span class="keyword">auto</span> v : adj[curr])&#123;</span><br><span class="line">              <span class="keyword">if</span>(visit.count(v)) <span class="keyword">continue</span>;</span><br><span class="line">              qu.push(v);</span><br><span class="line">              visit.insert(v);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">size_t</span> n, m;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; adj(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">    <span class="keyword">int</span> x, y;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y;</span><br><span class="line">    adj[x - <span class="number">1</span>].push_back(y - <span class="number">1</span>);</span><br><span class="line">    adj[y - <span class="number">1</span>].push_back(x - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; number_of_components(adj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="week2"><a href="#week2" class="headerlink" title="week2"></a>week2</h2><p>ç¬¬ä¸€é¢˜æ¯”è¾ƒç®€å•</p><h3 id="2-Determining-an-Order-of-Courses"><a href="#2-Determining-an-Order-of-Courses" class="headerlink" title="2. Determining an Order of Courses"></a>2. Determining an Order of Courses</h3><p><strong>Task</strong>. Compute a topological ordering of a given directed acyclic graph (DAG) with ğ‘› vertices and ğ‘š edges.<br><strong>Input Format</strong>. A graph is given in the standard format.<br><strong>Constraints</strong>. 1 â‰¤ ğ‘› â‰¤ 105, 0 â‰¤ ğ‘š â‰¤ 105. The given graph is guaranteed to be acyclic.<br><strong>Output Format</strong>. Output any topological ordering of its vertices. (Many DAGs have more than just one topological ordering. You may output any of them.)</p><h4 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>å¾ˆç›´æ¥çš„æ‹“æ‰‘æ’åº<h4 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; &amp;adj, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;used, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;order, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">  <span class="comment">//write your code here</span></span><br><span class="line">&#125;     </span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; toposort(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; adj) &#123;</span><br><span class="line">  <span class="keyword">int</span> n = adj.size();</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; used(adj.size(), <span class="number">0</span>);</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; order;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; indegree(adj.size(),<span class="number">0</span>);</span><br><span class="line">  <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; qu;</span><br><span class="line">  <span class="comment">//write your code here  </span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; adj[i].size(); ++j)&#123;</span><br><span class="line">          indegree[adj[i][j]]++;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">      <span class="keyword">if</span>(indegree[i] == <span class="number">0</span>)&#123;</span><br><span class="line">          qu.push(i);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(!qu.empty())&#123;</span><br><span class="line">      <span class="keyword">int</span> curr = qu.front();</span><br><span class="line">      order.push_back(curr);</span><br><span class="line">      qu.pop();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">auto</span> v : adj[curr])&#123;</span><br><span class="line">          indegree[v]--;</span><br><span class="line">          <span class="keyword">if</span>(indegree[v] == <span class="number">0</span>)&#123;</span><br><span class="line">              qu.push(v);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> order;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">size_t</span> n, m;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; adj(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">    <span class="keyword">int</span> x, y;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y;</span><br><span class="line">    adj[x - <span class="number">1</span>].push_back(y - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; order = toposort(adj);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; order.size(); i++) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; order[i] + <span class="number">1</span> &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="3-Advanced-Problem-Checking-Whether-Any-Intersection-in-a-City"><a href="#3-Advanced-Problem-Checking-Whether-Any-Intersection-in-a-City" class="headerlink" title="3. Advanced Problem: Checking Whether Any Intersection in a City"></a>3. Advanced Problem: Checking Whether Any Intersection in a City</h3><p><strong>Task</strong>. Compute the number of strongly connected components of a given directed graph with ğ‘› vertices and<br>ğ‘š edges.<br><strong>Input Format</strong>. A graph is given in the standard format.<br><strong>Constraints</strong>. 1 â‰¤ ğ‘› â‰¤ 104, 0 â‰¤ ğ‘š â‰¤ 104.<br><strong>Output Format</strong>. Output the number of strongly connected components.</p><h4 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>æ±‚æœ‰å‘å›¾çš„è¿é€šåˆ†é‡ï¼ŒSCCç®—æ³•ã€‚å…ˆç”¨DFSéå†å›¾ï¼Œå¹¶ä¸”å°†å›¾çš„èŠ‚ç‚¹ä¿å­˜åˆ°æ ˆä¸­ï¼Œç„¶åæ¯æ¬¡ä»æ ˆä¸­å¼¹å‡ºä¸€ä¸ªå…ƒç´ ï¼ŒDFSéå†éå†é€†å‘å›¾å³å¯ï¼Œå¾—åˆ°SCCåˆ†é‡ã€‚<h4 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs1</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp; adj,<span class="keyword">int</span> curr,<span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; &amp; s,<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; &amp; visit)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : adj[curr])&#123;</span><br><span class="line">        <span class="keyword">if</span>(visit[v]) <span class="keyword">continue</span>;</span><br><span class="line">        visit[v] = <span class="literal">true</span>;</span><br><span class="line">        dfs1(adj,v,s,visit);</span><br><span class="line">    &#125;</span><br><span class="line">    s.push(curr);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs2</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp; adj,<span class="keyword">int</span> curr,<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; &amp; visit)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : adj[curr])&#123;</span><br><span class="line">        <span class="keyword">if</span>(visit[v]) <span class="keyword">continue</span>;</span><br><span class="line">        visit[v] = <span class="literal">true</span>;</span><br><span class="line">        dfs2(adj,v,visit);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">number_of_strongly_connected_components</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp; adj)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n = adj.size();</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; post;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; reverseAdj(n,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; visit1(n,<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; visit2(n,<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; adj[i].size(); ++j)&#123;</span><br><span class="line">            reverseAdj[adj[i][j]].push_back(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//write your code here</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(visit1[i]) <span class="keyword">continue</span>;</span><br><span class="line">        visit1[i] = <span class="literal">true</span>;</span><br><span class="line">        dfs1(adj,i,post,visit1);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!post.empty())&#123;</span><br><span class="line">        <span class="keyword">int</span> curr = post.top();</span><br><span class="line">        post.pop();</span><br><span class="line">        <span class="keyword">if</span>(visit2[curr]) <span class="keyword">continue</span>;</span><br><span class="line">        visit2[curr] = <span class="literal">true</span>;</span><br><span class="line">        result++;</span><br><span class="line">        dfs2(reverseAdj,curr,visit2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">size_t</span> n, m;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; adj(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">    <span class="keyword">int</span> x, y;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y;</span><br><span class="line">    adj[x - <span class="number">1</span>].push_back(y - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; number_of_strongly_connected_components(adj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="week-3-Paths-in-Graphs"><a href="#week-3-Paths-in-Graphs" class="headerlink" title="week 3 Paths in Graphs"></a>week 3 Paths in Graphs</h2><p>dijistraæ±‚æœ€çŸ­è·ç¦»</p><h3 id="1-Problem-Computing-the-Minimum-Number-of-Flight-Segments"><a href="#1-Problem-Computing-the-Minimum-Number-of-Flight-Segments" class="headerlink" title="1. Problem: Computing the Minimum Number of Flight Segments"></a>1. Problem: Computing the Minimum Number of Flight Segments</h3><p><strong>Task</strong>. Given an undirected graph with ğ‘› vertices and ğ‘š edges and two vertices ğ‘¢ and ğ‘£, compute the length of a shortest path between ğ‘¢ and ğ‘£ (that is, the minimum number of edges in a path from ğ‘¢ to ğ‘£).<br><strong>Input Format</strong>. A graph is given in the standard format. The next line contains two vertices ğ‘¢ and ğ‘£.<br><strong>Constraints</strong>. 2 â‰¤ ğ‘› â‰¤ 105, 0 â‰¤ ğ‘š â‰¤ 105, ğ‘¢ Ì¸= ğ‘£, 1 â‰¤ ğ‘¢, ğ‘£ â‰¤ ğ‘›.<br><strong>Output Format</strong>. Output the minimum number of edges in a path from ğ‘¢ to ğ‘£, or âˆ’1 if there is no path.</p><h4 id="æ€è·¯-4"><a href="#æ€è·¯-4" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>BFSéå†å›¾ï¼Œæ±‚æœ€çŸ­è·¯å¾„ã€‚<h4 id="ä»£ç -4"><a href="#ä»£ç -4" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">queue</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">distance</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; &amp;adj, <span class="keyword">int</span> s, <span class="keyword">int</span> t)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n = adj.size();</span><br><span class="line">  <span class="keyword">int</span> step = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; visit(n,<span class="literal">false</span>);</span><br><span class="line">  <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; qu;</span><br><span class="line">  <span class="comment">//write your code here</span></span><br><span class="line"></span><br><span class="line">  qu.push(s);</span><br><span class="line">  visit[s] = <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">while</span>(!qu.empty())&#123;</span><br><span class="line">      <span class="keyword">int</span> sz = qu.size();</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sz; ++i)&#123;</span><br><span class="line">          <span class="keyword">int</span> curr = qu.front();</span><br><span class="line">          qu.pop();</span><br><span class="line">          <span class="keyword">if</span>(curr == t) <span class="keyword">return</span> step;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">for</span>(<span class="keyword">auto</span> v : adj[curr])&#123;</span><br><span class="line">              <span class="keyword">if</span>(visit[v]) <span class="keyword">continue</span>;</span><br><span class="line">              qu.push(v);</span><br><span class="line">              visit[v] = <span class="literal">true</span>;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      step++;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n, m;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; adj(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">    <span class="keyword">int</span> x, y;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y;</span><br><span class="line">    adj[x - <span class="number">1</span>].push_back(y - <span class="number">1</span>);</span><br><span class="line">    adj[y - <span class="number">1</span>].push_back(x - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">int</span> s, t;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; s &gt;&gt; t;</span><br><span class="line">  s--, t--;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; distance(adj, s, t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="2-Problem-Checking-whether-a-Graph-is-Bipartite"><a href="#2-Problem-Checking-whether-a-Graph-is-Bipartite" class="headerlink" title="2. Problem: Checking whether a Graph is Bipartite"></a>2. Problem: Checking whether a Graph is Bipartite</h3><p><strong>Task</strong>. Given an undirected graph with ğ‘› vertices and ğ‘š edges, check whether it is bipartite.<br><strong>Input Format</strong>. A graph is given in the standard format.<br><strong>Constraints</strong>. 1 â‰¤ ğ‘› â‰¤ 105, 0 â‰¤ ğ‘š â‰¤ 105.<br><strong>Output Format</strong>. Output 1 if the graph is bipartite and 0 otherwise.</p><h4 id="æ€è·¯-5"><a href="#æ€è·¯-5" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>BFSéå†å³å¯ï¼Œéå¸¸ç®€å•ï¼Œleetcodeä¹Ÿæœ‰åŸé¢˜ã€‚<h5 id="ä»£ç -5"><a href="#ä»£ç -5" class="headerlink" title="ä»£ç "></a>ä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">queue</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> WHITE = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> BLACK = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; pii;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bipartite</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; &amp;adj)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n = adj.size();</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; visit(n,<span class="literal">false</span>);</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; color(n,<span class="literal">false</span>);</span><br><span class="line">  <span class="built_in">queue</span>&lt;pii&gt; qu;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//write your code here</span></span><br><span class="line">  qu.push(make_pair(<span class="number">0</span>,WHITE));</span><br><span class="line">  visit[<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">  color[<span class="number">0</span>] = WHITE;</span><br><span class="line">  <span class="keyword">while</span>(!qu.empty())&#123;</span><br><span class="line">      pii curr = qu.front();</span><br><span class="line">      qu.pop();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">auto</span> v : adj[curr.first])&#123;</span><br><span class="line">          <span class="keyword">if</span>(visit[v])&#123;</span><br><span class="line">              <span class="keyword">if</span>(color[curr.first] == color[v]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">              <span class="keyword">continue</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          qu.push(make_pair(v,!curr.second));</span><br><span class="line">          visit[v] = <span class="literal">true</span>;</span><br><span class="line">          color[v] = !curr.second;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n, m;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; adj(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">    <span class="keyword">int</span> x, y;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y;</span><br><span class="line">    adj[x - <span class="number">1</span>].push_back(y - <span class="number">1</span>);</span><br><span class="line">    adj[y - <span class="number">1</span>].push_back(x - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; bipartite(adj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="week4-Paths-in-Graphs"><a href="#week4-Paths-in-Graphs" class="headerlink" title="week4: Paths in Graphs"></a>week4: Paths in Graphs</h2><p>è¿™ç« ä¸»è¦æ˜¯dijistraç®—æ³•å’Œbellman fordç®—æ³•</p><h3 id="Problem-Detecting-Anomalies-in-Currency-Exchange-Rates"><a href="#Problem-Detecting-Anomalies-in-Currency-Exchange-Rates" class="headerlink" title="Problem: Detecting Anomalies in Currency Exchange Rates"></a>Problem: Detecting Anomalies in Currency Exchange Rates</h3><p><strong>Task</strong>. Given an directed graph with possibly negative edge weights and with ğ‘› vertices and ğ‘š edges, check<br>whether it contains a cycle of negative weight.<br><strong>Input Format</strong>. A graph is given in the standard format.<br><strong>Constraints</strong>. 1 â‰¤ ğ‘› â‰¤ 103, 0 â‰¤ ğ‘š â‰¤ 104, edge weights are integers of absolute value at most 103.<br><strong>Output Format</strong>. Output 1 if the graph contains a cycle of negative weight and 0 otherwise.</p><h4 id="æ€è·¯-6"><a href="#æ€è·¯-6" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>ç›´æ¥ç”¨dijistraç®—æ³•æ±‚æœ€çŸ­è·ç¦»å³å¯<h4 id="ä»£ç -6"><a href="#ä»£ç -6" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;limits.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">queue</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::priority_queue;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; pii;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">distance</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; &amp;adj, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; &amp;cost, <span class="keyword">int</span> s, <span class="keyword">int</span> t)</span> </span>&#123;</span><br><span class="line">  <span class="comment">//write your code her</span></span><br><span class="line">  <span class="keyword">int</span> n = adj.size();</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dist(n,INT_MAX);</span><br><span class="line">  <span class="built_in">queue</span>&lt;pii&gt; qu;</span><br><span class="line"></span><br><span class="line">  dist[s] = <span class="number">0</span>;</span><br><span class="line">  qu.push(make_pair(s,<span class="number">0</span>));</span><br><span class="line">  <span class="keyword">while</span>(!qu.empty())&#123;</span><br><span class="line">      pii curr = qu.front();</span><br><span class="line">      qu.pop();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; adj[curr.first].size(); ++i)&#123;</span><br><span class="line">          <span class="keyword">int</span> v = adj[curr.first][i];</span><br><span class="line">          <span class="keyword">int</span> w = cost[curr.first][i];</span><br><span class="line">          <span class="keyword">if</span>((curr.second + w) &lt; dist[v])&#123;</span><br><span class="line">              dist[v] = curr.second + w;</span><br><span class="line">              qu.push(make_pair(v,dist[v]));</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(dist[t] == INT_MAX) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">return</span> dist[t];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n, m;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; adj(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; cost(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">    <span class="keyword">int</span> x, y, w;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y &gt;&gt; w;</span><br><span class="line">    adj[x - <span class="number">1</span>].push_back(y - <span class="number">1</span>);</span><br><span class="line">    cost[x - <span class="number">1</span>].push_back(w);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">int</span> s, t;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; s &gt;&gt; t;</span><br><span class="line">  s--, t--;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; distance(adj, cost, s, t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="2-Problem-Detecting-Anomalies-in-Currency-Exchange-Rates"><a href="#2-Problem-Detecting-Anomalies-in-Currency-Exchange-Rates" class="headerlink" title="2. Problem: Detecting Anomalies in Currency Exchange Rates"></a>2. Problem: Detecting Anomalies in Currency Exchange Rates</h3><p><strong>Task</strong>. Given an directed graph with possibly negative edge weights and with ğ‘› vertices and ğ‘š edges, check<br>whether it contains a cycle of negative weight.<br><strong>Input Format</strong>. A graph is given in the standard format.<br><strong>Constraints</strong>. 1 â‰¤ ğ‘› â‰¤ 103, 0 â‰¤ ğ‘š â‰¤ 104, edge weights are integers of absolute value at most 103.<br><strong>Output Format</strong>. Output 1 if the graph contains a cycle of negative weight and 0 otherwise.</p><h4 id="æ€è·¯-7"><a href="#æ€è·¯-7" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>æ±‚å›¾ä¸­æ˜¯å¦æœ‰å’Œä¸ºè´Ÿçš„æœ‰å‘ç¯ï¼Œç›´æ¥BFç®—æ³•ã€‚å…ˆè¿›è¡Œ<code>v-1</code>æ¬¡å¾ªç¯å¯¹è¾¹è¿›è¡Œå åŠ ï¼Œå†è¿›è¡Œä¸€æ¬¡å¾ªç¯è¿›è¡Œè¿­ä»£ï¼Œç»è¿‡Væ¬¡å¾ªç¯åï¼Œå¦‚æœå‘ç°ä»æœ‰è¾¹å¯ä»¥è¿­ä»£ï¼Œåˆ™è®¤ä¸ºæ­¤æ—¶è¯¥å›¾ä¸­å­˜åœ¨è´Ÿçš„æœ‰å‘ç¯ã€‚<h4 id><a href="#" class="headerlink" title=" "></a> </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;limits.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u;</span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">int</span> weight;</span><br><span class="line">    Edge(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> weight)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;u = u;</span><br><span class="line">        <span class="keyword">this</span>-&gt;v = v;</span><br><span class="line">        <span class="keyword">this</span>-&gt;weight = weight;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">relax</span><span class="params">(Edge &amp; e,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; dist,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; parent)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">negative_cycle</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;adj, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;cost)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//write your code here</span></span><br><span class="line">    <span class="keyword">int</span> n = adj.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dist(n,<span class="number">1e9</span>+<span class="number">7</span>);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; parent(n,<span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">vector</span>&lt;Edge&gt; edges;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*check edges*/</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; adj[i].size(); ++j)&#123;</span><br><span class="line">            edges.push_back(Edge(i,adj[i][j],cost[i][j]));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*bell-man */</span></span><br><span class="line">    dist[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n<span class="number">-1</span>; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; edges.size(); ++j)&#123;</span><br><span class="line">          <span class="keyword">int</span> u = edges[j].u;</span><br><span class="line">          <span class="keyword">int</span> v = edges[j].v;</span><br><span class="line">          <span class="keyword">int</span> w = edges[j].weight;</span><br><span class="line">          <span class="keyword">if</span>(dist[u] + w &lt; dist[v])&#123;</span><br><span class="line">              dist[v] = w + dist[u];</span><br><span class="line">              parent[v] = u;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*check cycle*/</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; edges.size(); ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> u = edges[i].u;</span><br><span class="line">        <span class="keyword">int</span> v = edges[i].v;</span><br><span class="line">        <span class="keyword">int</span> w = edges[i].weight;</span><br><span class="line">        <span class="comment">//cout&lt;&lt;u&lt;&lt;":"&lt;&lt;v&lt;&lt;" ="&lt;&lt;w&lt;&lt;endl;</span></span><br><span class="line">        <span class="keyword">if</span>(dist[u] + w &lt; dist[v])&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n, m;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; adj(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; cost(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">    <span class="keyword">int</span> x, y, w;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y &gt;&gt; w;</span><br><span class="line">    adj[x - <span class="number">1</span>].push_back(y - <span class="number">1</span>);</span><br><span class="line">    cost[x - <span class="number">1</span>].push_back(w);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; negative_cycle(adj, cost);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-Advanced-Problem-Exchanging-Money-Optimally"><a href="#3-Advanced-Problem-Exchanging-Money-Optimally" class="headerlink" title="3. Advanced Problem: Exchanging Money Optimally"></a>3. Advanced Problem: Exchanging Money Optimally</h3><strong>Task</strong>. Given an directed graph with possibly negative edge weights and with ğ‘› vertices and ğ‘š edges as well as its vertex ğ‘ , compute the length of shortest paths from ğ‘  to all other vertices of the graph.<br><strong>Input Format</strong>. A graph is given in the standard format.<br><strong>Constraints</strong>. 1 â‰¤ ğ‘› â‰¤ 103, 0 â‰¤ ğ‘š â‰¤ 104, 1 â‰¤ ğ‘  â‰¤ ğ‘›, edge weights are integers of absolute value at most 109.<br><strong>Output Format</strong>. For all vertices ğ‘– from 1 to ğ‘› output the following on a separate line:<h4 id="æ€è·¯-8"><a href="#æ€è·¯-8" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4></li><li>è¿™ä¸ªé¢˜ç›®ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œ<code>bellman-ford</code>ç®—æ³•ï¼Œå…ˆè¿›è¡ŒVæ¬¡è¿­ä»£åï¼Œå°†æ‰€æœ‰è¿˜å¯ç»§ç»­è¿­ä»£çš„èŠ‚ç‚¹å…¥é˜Ÿåˆ—ï¼Œç„¶åç”¨BFSç®—æ³•ï¼Œå°†æ‰€æœ‰è¿™äº›å¯è¿­ä»£çš„ç‚¹éå†ï¼Œæ‰€æœ‰å¯ä»¥è¾¾åˆ°çš„ç‚¹ï¼Œéƒ½è®¤ä¸ºä¸å­˜åœ¨æœ€å°å€¼ã€‚<h4 id="ä»£ç -7"><a href="#ä»£ç -7" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;limits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;limits.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">queue</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::priority_queue;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u;</span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">int</span> weight;</span><br><span class="line">    Edge(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> weight)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;u = u;</span><br><span class="line">        <span class="keyword">this</span>-&gt;v = v;</span><br><span class="line">        <span class="keyword">this</span>-&gt;weight = weight;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">shortest_paths</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; &amp;adj, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; &amp;cost, <span class="keyword">int</span> s, <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; &amp;distance, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;reachable, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;shortest)</span> </span>&#123;</span><br><span class="line">   <span class="comment">//write your code here</span></span><br><span class="line">    <span class="keyword">int</span> n = adj.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; dist(n,INT_MAX);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; parent(n,<span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">vector</span>&lt;Edge&gt; edges;</span><br><span class="line">    <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; visit;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; qu;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*check edges*/</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; adj[i].size(); ++j)&#123;</span><br><span class="line">            edges.push_back(Edge(i,adj[i][j],cost[i][j]));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*bell-man */</span></span><br><span class="line">    dist[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n<span class="number">-1</span>; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; edges.size(); ++j)&#123;</span><br><span class="line">          <span class="keyword">int</span> u = edges[j].u;</span><br><span class="line">          <span class="keyword">int</span> v = edges[j].v;</span><br><span class="line">          <span class="keyword">int</span> w = edges[j].weight;</span><br><span class="line">          <span class="keyword">if</span>(dist[u] != INT_MAX &amp;&amp; dist[u] + w &lt; dist[v])&#123;</span><br><span class="line">              dist[v] = w + dist[u];</span><br><span class="line">              parent[v] = u;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*check cycle*/</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; edges.size(); ++i)&#123;</span><br><span class="line">      <span class="keyword">int</span> u = edges[i].u;</span><br><span class="line">      <span class="keyword">int</span> v = edges[i].v;</span><br><span class="line">      <span class="keyword">int</span> w = edges[i].weight;</span><br><span class="line">      <span class="comment">// get all relaxed node</span></span><br><span class="line">      <span class="keyword">if</span>(dist[u] != INT_MAX &amp;&amp; dist[u] + w &lt; dist[v])&#123;</span><br><span class="line">          visit.insert(v);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v : visit)&#123;</span><br><span class="line">        qu.push(v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!qu.empty())&#123;</span><br><span class="line">        <span class="keyword">int</span> curr = qu.front();</span><br><span class="line">        qu.pop();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v : adj[curr])&#123;</span><br><span class="line">            <span class="keyword">if</span>(visit.count(v)) <span class="keyword">continue</span>;</span><br><span class="line">            qu.push(v);</span><br><span class="line">            visit.insert(v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*check answer*/</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(dist[i] == INT_MAX)&#123;</span><br><span class="line">            reachable[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            reachable[i] = <span class="number">1</span>;</span><br><span class="line">            distance[i] = dist[i];</span><br><span class="line">            <span class="keyword">if</span>(visit.count(i)) shortest[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n, m, s;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; adj(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; cost(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">    <span class="keyword">int</span> x, y, w;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y &gt;&gt; w;</span><br><span class="line">    adj[x - <span class="number">1</span>].push_back(y - <span class="number">1</span>);</span><br><span class="line">    cost[x - <span class="number">1</span>].push_back(w);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">  s--;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; distance(n, <span class="built_in">std</span>::numeric_limits&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt;::max());</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; reachable(n, <span class="number">0</span>);</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; shortest(n, <span class="number">1</span>);</span><br><span class="line">  shortest_paths(adj, cost, s, distance, reachable, shortest);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!reachable[i]) &#123;</span><br><span class="line">      <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"*\n"</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!shortest[i]) &#123;</span><br><span class="line">      <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"-\n"</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; distance[i] &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="week5-Dynamic-Programming-1"><a href="#week5-Dynamic-Programming-1" class="headerlink" title="week5:Dynamic Programming 1"></a>week5:Dynamic Programming 1</h2><p>æœ¬ç« ä¸ºåŠ¨æ€è§„åˆ’ï¼Œæ¯”è¾ƒç®€å•ã€‚å‰é¢4é“é¢˜ç›®éƒ½éå¸¸ç®€å•ï¼Œæœ€åä¸€é¢˜ç¨å¾®éš¾ç‚¹ã€‚</p><h3 id="Problem-Building-Roads-to-Connect-Cities"><a href="#Problem-Building-Roads-to-Connect-Cities" class="headerlink" title="Problem: Building Roads to Connect Cities"></a>Problem: Building Roads to Connect Cities</h3><p><strong>Task</strong>. Given ğ‘› points on a plane, connect them with segments of minimum total length such that there is a<br>path between any two points. Recall that the length of a segment with endpoints (ğ‘¥1, ğ‘¦1) and (ğ‘¥2, ğ‘¦2)<br>is equal to<br>âˆšï¸€<br>(ğ‘¥1 âˆ’ ğ‘¥2)2 + (ğ‘¦1 âˆ’ ğ‘¦2)2.<br><strong>Input Format</strong>. The first line contains the number ğ‘› of points. Each of the following ğ‘› lines defines a point<br>(ğ‘¥ğ‘–, ğ‘¦ğ‘–).<br><strong>Constraints</strong>. 1 â‰¤ ğ‘› â‰¤ 200; âˆ’103 â‰¤ ğ‘¥ğ‘–, ğ‘¦ğ‘– â‰¤ 103 are integers. All points are pairwise different, no three<br>points lie on the same line.<br><strong>Output Format</strong>. Output the minimum total length of segments. The absolute value of the difference<br>between the answer of your program and the optimal value should be at most 10âˆ’6. To ensure this,<br>output your answer with at least seven digits after the decimal point (otherwise your answer, while<br>being computed correctly, can turn out to be wrong because of rounding issues).</p><h4 id="æ€è·¯-9"><a href="#æ€è·¯-9" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>å…¸å‹çš„<code>kruskal</code>æœ€å°ç”Ÿæˆæ ‘ï¼Œæ±‚æœ€çŸ­è·ç¦»ã€‚</li><li>é‡ç‚¹è€ƒå¯Ÿå¯¹å¹¶æŸ¥é›†çš„åº”ç”¨ï¼Œ<code>kruskal</code> ç®—æ³•ä¸­å¸¸ç”¨çš„æ±‚æœ€çŸ­è·ç¦»ã€‚<h4 id="ä»£ç -8"><a href="#ä»£ç -8" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">  <span class="keyword">int</span> x;</span><br><span class="line">  <span class="keyword">int</span> y;</span><br><span class="line">  <span class="keyword">double</span> d;</span><br><span class="line">  Node(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">double</span> d)&#123;</span><br><span class="line">      <span class="keyword">this</span>-&gt;x = x;</span><br><span class="line">      <span class="keyword">this</span>-&gt;y = y;</span><br><span class="line">      <span class="keyword">this</span>-&gt;d = d;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">cmp</span>&#123;</span></span><br><span class="line">   <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">const</span> Node &amp; a,<span class="keyword">const</span> Node &amp; b)</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> a.d &gt; b.d;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; f,<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(x != f[x])&#123;</span><br><span class="line">        x = f[x];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">uni</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; f,<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x1 = find(f,x);</span><br><span class="line">    <span class="keyword">int</span> y1 = find(f,y);</span><br><span class="line">    <span class="keyword">if</span>(x1 == y1) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    f[x1] = y1;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">minimum_distance</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; x, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; y)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">double</span> result = <span class="number">0.0</span>;</span><br><span class="line">  <span class="keyword">int</span> n = x.size();</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; visit(n,<span class="literal">false</span>);</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; f(n,<span class="number">0</span>);</span><br><span class="line">  priority_queue&lt;Node,<span class="built_in">vector</span>&lt;Node&gt;,cmp&gt; pq;</span><br><span class="line">  <span class="comment">//write your code here</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">auto</span> distance = [&amp;](<span class="keyword">int</span> p1,<span class="keyword">int</span> p2)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">sqrt</span>(<span class="built_in">pow</span>(x[p1]-x[p2],<span class="number">2</span>) + <span class="built_in">pow</span>(y[p1]-y[p2],<span class="number">2</span>));</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">      f[i] = i;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; ++j)&#123;</span><br><span class="line">          pq.push(Node(i,j,distance(i,j)));</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(!pq.empty())&#123;</span><br><span class="line">      Node curr = pq.top();</span><br><span class="line">      pq.pop();</span><br><span class="line">      <span class="keyword">int</span> x = curr.x;</span><br><span class="line">      <span class="keyword">int</span> y = curr.y;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span>(find(f,x) == find(f,y)) <span class="keyword">continue</span>;</span><br><span class="line">      uni(f,x,y);</span><br><span class="line">      result += curr.d;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">size_t</span> n;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; x(n), y(n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x[i] &gt;&gt; y[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::setprecision(<span class="number">10</span>) &lt;&lt; minimum_distance(x, y) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="2-Partitioning-Souvenirs"><a href="#2-Partitioning-Souvenirs" class="headerlink" title="2 Partitioning Souvenirs"></a>2 Partitioning Souvenirs</h3><p><strong>Task</strong>. Given ğ‘› points on a plane and an integer ğ‘˜, compute the largest possible value of ğ‘‘ such that the<br>given points can be partitioned into ğ‘˜ non-empty subsets in such a way that the distance between any<br>two points from different subsets is at least ğ‘‘.<br><strong>Input Format</strong>. The first line contains the number ğ‘› of points. Each of the following ğ‘› lines defines a point<br>(ğ‘¥ğ‘–, ğ‘¦ğ‘–). The last line contains the number ğ‘˜ of clusters.<br><strong>Constraints</strong>. 2 â‰¤ ğ‘˜ â‰¤ ğ‘› â‰¤ 200; âˆ’103 â‰¤ ğ‘¥ğ‘–, ğ‘¦ğ‘– â‰¤ 103 are integers. All points are pairwise different.<br><strong>Output Format</strong>. Output the largest value of ğ‘‘. The absolute value of the difference between the answer of<br>your program and the optimal value should be at most 10âˆ’6. To ensure this, output your answer with<br>at least seven digits after the decimal point (otherwise your answer, while being computed correctly,<br>can turn out to be wrong because of rounding issues).</p><h4 id="æ€è·¯-10"><a href="#æ€è·¯-10" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>å…¸å‹çš„<code>kruskal</code>ç®—æ³•çš„å˜ç§ï¼Œæ±‚æœ€çŸ­è·ç¦»æ—¶è¿›è¡Œé›†åˆåˆå¹¶ã€‚</li><li>å½“åˆå¹¶çš„å•å…ƒåˆ°è¾¾<code>k</code>æ—¶ï¼Œæ±‚å‡ºæœ€é•¿æ»¡è¶³è¦æ±‚çš„è¾¹å³å¯ã€‚<h4 id="ä»£ç -9"><a href="#ä»£ç -9" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">double</span> distance;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">    Node(<span class="keyword">double</span> d,<span class="keyword">int</span> x,<span class="keyword">int</span> y)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;distance = d;</span><br><span class="line">        <span class="keyword">this</span>-&gt;x = x;</span><br><span class="line">        <span class="keyword">this</span>-&gt;y = y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; f,<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(x!=f[x]) x = f[x];</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">uni</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; f,<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x1 = find(f,x);</span><br><span class="line">    <span class="keyword">int</span> y1 = find(f,y);</span><br><span class="line">    f[x1] = y1;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">cmp</span>&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">const</span> Node &amp; a,<span class="keyword">const</span> Node &amp; b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.distance &gt; b.distance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countCluster</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; f)</span></span>&#123;</span><br><span class="line">    <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; visit;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; f.size(); ++i)&#123;</span><br><span class="line">        visit.insert(find(f,i));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>)visit.size();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">clustering</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; x, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; y, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">double</span> d = <span class="number">0.0</span>;</span><br><span class="line">  <span class="keyword">int</span> n = x.size();</span><br><span class="line">  <span class="keyword">int</span> count = n;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; f(n,<span class="number">0</span>);</span><br><span class="line">  priority_queue&lt;Node,<span class="built_in">vector</span>&lt;Node&gt;,cmp&gt; pq;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">      f[i] = i;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; ++j)&#123;</span><br><span class="line">          <span class="keyword">double</span> d = <span class="built_in">sqrt</span>(<span class="built_in">pow</span>(x[i]-x[j],<span class="number">2</span>) + <span class="built_in">pow</span>(y[i]-y[j],<span class="number">2</span>));</span><br><span class="line">          pq.push(Node(d,i,j));</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">while</span>(!pq.empty() &amp;&amp; count &gt;= k)&#123;</span><br><span class="line">      Node curr = pq.top();</span><br><span class="line">      pq.pop();</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">int</span> x = curr.x;</span><br><span class="line">      <span class="keyword">int</span> y = curr.y;</span><br><span class="line">      <span class="keyword">if</span>(find(f,x) != find(f,y))&#123;</span><br><span class="line">          uni(f,x,y);</span><br><span class="line">          count--;   </span><br><span class="line">      &#125;</span><br><span class="line">      d = max(d,curr.distance);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//write your code here</span></span><br><span class="line">  <span class="keyword">return</span> d;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">size_t</span> n;</span><br><span class="line">  <span class="keyword">int</span> k;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; x(n), y(n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x[i] &gt;&gt; y[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; k;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::setprecision(<span class="number">10</span>) &lt;&lt; clustering(x, y, k) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Algorithmic-Graphs&quot;&gt;&lt;a href=&quot;#Algorithmic-Graphs&quot; class=&quot;headerlink&quot; title=&quot;Algorithmic Graphs&quot;&gt;&lt;/a&gt;Algorithmic Graphs&lt;/h1&gt;&lt;p&gt;æœ€è¿‘å‡†å¤‡å­¦ä¹ &lt;code&gt;coursera&lt;/code&gt;ä¸Šçš„ã€Šç®—æ³•ä¸æ•°æ®ç»“æ„ç³»åˆ—è¯¾ç¨‹ã€‹ï¼Œå·²ç»æŠŠç¬¬äºŒéƒ¨åˆ†è¯¾ç¨‹ã€ŠAlgorithmic Toolboxã€‹å­¦ä¹ å®Œäº†ï¼Œå›¾çš„å‰5ç« æ¯”è¾ƒç®€å•ï¼Œé™¤äº†æœ‰å‡ é“é¢˜ç›®ç¨å¾®æ¯”è¾ƒ&lt;code&gt;trikly&lt;/code&gt;ä»¥å¤–ï¼Œå…¶ä½™çš„éƒ½æ˜¯æ¯”è¾ƒå®¹æ˜“çš„é¢˜ç›®ã€‚å¾—åˆ†æ˜¯&lt;code&gt;100&lt;/code&gt; åˆ†ï¼Œè¯ä¹¦å¦‚ä¸‹ï¼š&lt;br&gt;&lt;a href=&quot;https://www.coursera.org/account/accomplishments/certificate/TS4US3YKWDB6&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Algorithms on Graphs&lt;/a&gt;&lt;br&gt;ä¸‹é¢å°†è¯¥è¯¾ç¨‹çš„é¢˜ç›®çš„è§£æ³•ã€‚&lt;br&gt;è¯¥è¯¾ç¨‹æ‰€æœ‰æäº¤çš„ä»£ç å¦‚ä¸‹ï¼š&lt;br&gt;&lt;a href=&quot;https://github.com/mike-box/coursera/tree/master/Algorithms%20on%20graphs&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;source code&lt;/a&gt;&lt;br&gt;æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªè¯¾ç¨‹æ¯”å¦å¤–ä¸¤ä¸ªè¯¾ç¨‹ç®€å•ä¸€äº›ï¼Œå½“ç„¶è¿˜æœ‰æœ€åä¸€èŠ‚å›¾çš„é«˜çº§åº”ç”¨ï¼Œè¿˜æ˜¯ç¨å¾®å¤æ‚ä¸€äº›ï¼Œç›®å‰æ­£åœ¨å­¦ä¹ ä¸­ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ã€ŠAlgorithms on Graphsã€‹" scheme="http://yoursite.com/tags/%E3%80%8AAlgorithms-on-Graphs%E3%80%8B/"/>
    
  </entry>
  
  <entry>
    <title>ã€Leetcodeã€‘ 181å‘¨æ¯”èµ›</title>
    <link href="http://yoursite.com/2020/05/10/159/"/>
    <id>http://yoursite.com/2020/05/10/159/</id>
    <published>2020-05-10T09:31:20.124Z</published>
    <updated>2020-05-10T09:31:26.408Z</updated>
    
    <content type="html"><![CDATA[<h1 id="181å‘¨æ¯”èµ›"><a href="#181å‘¨æ¯”èµ›" class="headerlink" title="181å‘¨æ¯”èµ›"></a>181å‘¨æ¯”èµ›</h1><p>å‘¨èµ›çš„é¢˜ç›®è´¨é‡æœçœŸéå¸¸é«˜ã€‚</p><h2 id="5404-ç”¨æ ˆæ“ä½œæ„å»ºæ•°ç»„"><a href="#5404-ç”¨æ ˆæ“ä½œæ„å»ºæ•°ç»„" class="headerlink" title="5404. ç”¨æ ˆæ“ä½œæ„å»ºæ•°ç»„"></a>5404. ç”¨æ ˆæ“ä½œæ„å»ºæ•°ç»„</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªç›®æ ‡æ•°ç»„ <code>target</code>å’Œä¸€ä¸ªæ•´æ•° <code>n</code>ã€‚æ¯æ¬¡è¿­ä»£ï¼Œéœ€è¦ä»  <code>list = {1,2,3..., n}</code> ä¸­ä¾åºè¯»å–ä¸€ä¸ªæ•°å­—ã€‚</p><p>è¯·ä½¿ç”¨ä¸‹è¿°æ“ä½œæ¥æ„å»ºç›®æ ‡æ•°ç»„ <code>target</code> ï¼š<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Pushï¼šä» </span>list ä¸­è¯»å–ä¸€ä¸ªæ–°å…ƒç´ ï¼Œ å¹¶å°†å…¶æ¨å…¥æ•°ç»„ä¸­ã€‚</span><br><span class="line"><span class="keyword">Popï¼šåˆ é™¤æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</span></span><br><span class="line"><span class="keyword">å¦‚æœç›®æ ‡æ•°ç»„æ„å»ºå®Œæˆï¼Œå°±åœæ­¢è¯»å–æ›´å¤šå…ƒç´ ã€‚</span></span><br></pre></td></tr></table></figure><br>é¢˜ç›®æ•°æ®ä¿è¯ç›®æ ‡æ•°ç»„ä¸¥æ ¼é€’å¢ï¼Œå¹¶ä¸”åªåŒ…å« 1 åˆ° n ä¹‹é—´çš„æ•°å­—ã€‚</p><a id="more"></a><p>è¯·è¿”å›æ„å»ºç›®æ ‡æ•°ç»„æ‰€ç”¨çš„æ“ä½œåºåˆ—ã€‚</p><p>é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆæ˜¯å”¯ä¸€çš„ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = [<span class="number">1</span>,<span class="number">3</span>], n = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">"Push"</span>,<span class="string">"Push"</span>,<span class="string">"Pop"</span>,<span class="string">"Push"</span>]</span><br><span class="line">è§£é‡Šï¼š </span><br><span class="line">è¯»å– <span class="number">1</span> å¹¶è‡ªåŠ¨æ¨å…¥æ•°ç»„ -&gt; [<span class="number">1</span>]</span><br><span class="line">è¯»å– <span class="number">2</span> å¹¶è‡ªåŠ¨æ¨å…¥æ•°ç»„ï¼Œç„¶ååˆ é™¤å®ƒ -&gt; [<span class="number">1</span>]</span><br><span class="line">è¯»å– <span class="number">3</span> å¹¶è‡ªåŠ¨æ¨å…¥æ•°ç»„ -&gt; [<span class="number">1</span>,<span class="number">3</span>]</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], n = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">"Push"</span>,<span class="string">"Push"</span>,<span class="string">"Push"</span>]</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = [<span class="number">1</span>,<span class="number">2</span>], n = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">"Push"</span>,<span class="string">"Push"</span>]</span><br><span class="line">è§£é‡Šï¼šåªéœ€è¦è¯»å–å‰ <span class="number">2</span> ä¸ªæ•°å­—å°±å¯ä»¥åœæ­¢ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], n = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">"Push"</span>,<span class="string">"Pop"</span>,<span class="string">"Push"</span>,<span class="string">"Push"</span>,<span class="string">"Push"</span>]</span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><pre><code>1 &lt;= target.length &lt;= 1001 &lt;= target[i] &lt;= 1001 &lt;= n &lt;= 100target æ˜¯ä¸¥æ ¼é€’å¢çš„</code></pre><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/build-an-array-with-stack-operations" target="_blank" rel="noopener">https://leetcode-cn.com/problems/build-an-array-with-stack-operations</a></p><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æš´åŠ›</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>è®°å½•å½“å‰çš„æœ€å¤§å€¼ï¼Œå¦‚æœå‘ç°å½“å‰çš„å€¼å°äºåºåˆ—çš„å€¼ï¼Œåˆ™è¿›è¡Œâ€pushâ€å’Œâ€œpopâ€åŒæ“ä½œã€‚</li><li>å¦‚æœå½“å‰çš„å€¼ç­‰äºåºåˆ—çš„å€¼ï¼Œåˆ™åªè¿›è¡Œ<code>push</code>æ“ä½œå³å¯ã€‚<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; buildArray(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; target, <span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; res;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; target.size(); ++i)&#123;</span><br><span class="line">            <span class="keyword">while</span>(start &lt; target[i])&#123;</span><br><span class="line">                res.push_back(<span class="string">"Push"</span>);</span><br><span class="line">                res.push_back(<span class="string">"Pop"</span>);</span><br><span class="line">                start++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(start == target[i])&#123;</span><br><span class="line">                res.push_back(<span class="string">"Push"</span>);</span><br><span class="line">                start++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5405-å½¢æˆä¸¤ä¸ªå¼‚æˆ–ç›¸ç­‰æ•°ç»„çš„ä¸‰å…ƒç»„æ•°ç›®"><a href="#5405-å½¢æˆä¸¤ä¸ªå¼‚æˆ–ç›¸ç­‰æ•°ç»„çš„ä¸‰å…ƒç»„æ•°ç›®" class="headerlink" title="5405. å½¢æˆä¸¤ä¸ªå¼‚æˆ–ç›¸ç­‰æ•°ç»„çš„ä¸‰å…ƒç»„æ•°ç›®"></a>5405. å½¢æˆä¸¤ä¸ªå¼‚æˆ–ç›¸ç­‰æ•°ç»„çš„ä¸‰å…ƒç»„æ•°ç›®</h2><h3 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„<code>arr</code> ã€‚</p><p>ç°éœ€è¦ä»æ•°ç»„ä¸­å–ä¸‰ä¸ªä¸‹æ ‡ <code>iã€j</code>å’Œ k ï¼Œå…¶ä¸­ <code>(0 &lt;= i &lt; j &lt;= k &lt; arr.length)</code> ã€‚</p><p><code>a</code>å’Œ <code>b</code>å®šä¹‰å¦‚ä¸‹ï¼š<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">a</span> = arr[i]<span class="regexp"> ^</span> arr[i + <span class="number">1</span>]<span class="regexp"> ^</span> ...<span class="regexp"> ^</span> arr[j - <span class="number">1</span>]</span><br><span class="line">b = arr[j]<span class="regexp"> ^</span> arr[j + <span class="number">1</span>]<span class="regexp"> ^</span> ...<span class="regexp"> ^</span> arr[k]</span><br></pre></td></tr></table></figure><br>æ³¨æ„ï¼š^ è¡¨ç¤º æŒ‰ä½å¼‚æˆ– æ“ä½œã€‚</p><p>è¯·è¿”å›èƒ½å¤Ÿä»¤ <code>a == b</code> æˆç«‹çš„ä¸‰å…ƒç»„<code>(i, j , k)</code> çš„æ•°ç›®ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">7</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šæ»¡è¶³é¢˜æ„çš„ä¸‰å…ƒç»„åˆ†åˆ«æ˜¯ (<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>), (<span class="number">0</span>,<span class="number">2</span>,<span class="number">2</span>), (<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>) ä»¥åŠ (<span class="number">2</span>,<span class="number">4</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">10</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 5ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">7</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">9</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">17</span>,<span class="number">22</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">8</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š<br><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">1 </span>&lt;= arr.length &lt;= <span class="number">300</span></span><br><span class="line"><span class="symbol">1 </span>&lt;= arr[i] &lt;= <span class="number">10</span>^<span class="number">8</span></span><br></pre></td></tr></table></figure><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/count-triplets-that-can-form-two-arrays-of-equal-xor" target="_blank" rel="noopener">https://leetcode-cn.com/problems/count-triplets-that-can-form-two-arrays-of-equal-xor</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><h3 id="åœ°å€-1"><a href="#åœ°å€-1" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/check-if-all-1s-are-at-least-length-k-places-away" target="_blank" rel="noopener">https://leetcode-cn.com/problems/check-if-all-1s-are-at-least-length-k-places-away</a></p><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æ•°å­¦è¿ç®—</p><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>æˆ‘ä»¬å¯ä»¥æ•°å­¦è¿ç®—å…¬å¼å¦‚ä¸‹ï¼š<script type="math/tex; mode=display">xor(i,j) = arr[i]\bigoplus arr[i+1]\bigoplus arr[i+2]\bigoplus arr[i+3]\bigoplus arr[i+4]\bigoplus arr[i+5]\bigoplus... arr[j]\bigoplus</script>æˆ‘ä»¬çŸ¥é“å‡å¦‚<script type="math/tex; mode=display">a \bigoplus b = 0</script>åˆ™ä¸€å®šæ˜¯å¯ä»¥å¾—åˆ°<strong>a == b</strong>.</li><li>å®é™…è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§å¦‚ä¸‹å°†<code>xor(i,j) = 0</code>æŒ‰ç…§å¦‚ä¸‹æ¥åˆ†è§£ï¼š<script type="math/tex; mode=display">xor(i,j) = \left\{\begin{aligned}xor(i,i)\bigoplus xor(i+1,j) = 0 \\xor(i,i+1)\bigoplus xor(i+2,j)  = 0\\xor(i,i+2)\bigoplus xor(i+3,j)  = 0\\...                           \\xor(i,j-2)\bigoplus xor(j-1,j) = 0 \\xor(i,j-1)\bigoplus xor(j,j) = 0 \\\end{aligned}\right.</script>æŒ‰ç…§æˆ‘ä»¬çš„æ¨ç®—åˆ™åº”è¯¥æœ‰å¦‚ä¸‹ç­‰å¼æˆç«‹ï¼š<script type="math/tex; mode=display">\left\{\begin{aligned}xor(i,i) ==  xor(i+1,j) \\xor(i,i+1) ==  xor(i+2,j) \\xor(i,i+2) ==  xor(i+3,j) \\...                           \\xor(i,j-2) == xor(j-1,j)  \\xor(i,j-1) == xor(j,j)  \\\end{aligned}\right.</script>å› æ­¤æ€»å…±æœ‰<code>j-i</code>ç§ç»„åˆæ»¡è¶³é¢˜ç›®è¦æ±‚ã€‚</li></ol></blockquote><h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">countTriplets</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = arr.size();</span><br><span class="line">        <span class="keyword">int</span> curr = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; mask(n+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            mask[i+<span class="number">1</span>] = mask[i]^arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="keyword">int</span> curr = arr[i];</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; ++j)&#123;</span><br><span class="line">                curr = curr^arr[j];</span><br><span class="line">                <span class="keyword">if</span>(curr == <span class="number">0</span>)&#123;</span><br><span class="line">                    res += j - i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="5406-æ”¶é›†æ ‘ä¸Šæ‰€æœ‰è‹¹æœçš„æœ€å°‘æ—¶é—´"><a href="#5406-æ”¶é›†æ ‘ä¸Šæ‰€æœ‰è‹¹æœçš„æœ€å°‘æ—¶é—´" class="headerlink" title="5406. æ”¶é›†æ ‘ä¸Šæ‰€æœ‰è‹¹æœçš„æœ€å°‘æ—¶é—´"></a>5406. æ”¶é›†æ ‘ä¸Šæ‰€æœ‰è‹¹æœçš„æœ€å°‘æ—¶é—´</h2><h3 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€æ£µæœ‰ n ä¸ªèŠ‚ç‚¹çš„æ— å‘æ ‘ï¼ŒèŠ‚ç‚¹ç¼–å·ä¸º 0 åˆ° n-1 ï¼Œå®ƒä»¬ä¸­æœ‰ä¸€äº›èŠ‚ç‚¹æœ‰è‹¹æœã€‚é€šè¿‡æ ‘ä¸Šçš„ä¸€æ¡è¾¹ï¼Œéœ€è¦èŠ±è´¹ 1 ç§’é’Ÿã€‚ä½ ä» èŠ‚ç‚¹ 0 å‡ºå‘ï¼Œè¯·ä½ è¿”å›æœ€å°‘éœ€è¦å¤šå°‘ç§’ï¼Œå¯ä»¥æ”¶é›†åˆ°æ‰€æœ‰è‹¹æœï¼Œå¹¶å›åˆ°èŠ‚ç‚¹ 0 ã€‚</p><p>æ— å‘æ ‘çš„è¾¹ç”±<code>edges</code> ç»™å‡ºï¼Œå…¶ä¸­ <code>edges[i] = [fromi, toi]</code>ï¼Œè¡¨ç¤ºæœ‰ä¸€æ¡è¾¹è¿æ¥ <code>from</code>å’Œ<code>toi</code>ã€‚é™¤æ­¤ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå¸ƒå°”æ•°ç»„ <code>hasApple</code>ï¼Œå…¶ä¸­ <code>hasApple[i] = true</code>ä»£è¡¨èŠ‚ç‚¹<code>i</code>æœ‰ä¸€ä¸ªè‹¹æœï¼Œå¦åˆ™ï¼ŒèŠ‚ç‚¹<code>i</code>æ²¡æœ‰è‹¹æœã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">7</span>, edges = [[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">4</span>],[<span class="number">1</span>,<span class="number">5</span>],[<span class="number">2</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">6</span>]], hasApple = [<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">true</span>,<span class="literal">false</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="literal">false</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">8</span> </span><br><span class="line">è§£é‡Šï¼šä¸Šå›¾å±•ç¤ºäº†ç»™å®šçš„æ ‘ï¼Œå…¶ä¸­çº¢è‰²èŠ‚ç‚¹è¡¨ç¤ºæœ‰è‹¹æœã€‚ä¸€ä¸ªèƒ½æ”¶é›†åˆ°æ‰€æœ‰è‹¹æœçš„æœ€ä¼˜æ–¹æ¡ˆç”±ç»¿è‰²ç®­å¤´è¡¨ç¤ºã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">7</span>, edges = [[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">4</span>],[<span class="number">1</span>,<span class="number">5</span>],[<span class="number">2</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">6</span>]], hasApple = [<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">true</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">true</span>,<span class="literal">false</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">6</span></span><br><span class="line">è§£é‡Šï¼šä¸Šå›¾å±•ç¤ºäº†ç»™å®šçš„æ ‘ï¼Œå…¶ä¸­çº¢è‰²èŠ‚ç‚¹è¡¨ç¤ºæœ‰è‹¹æœã€‚ä¸€ä¸ªèƒ½æ”¶é›†åˆ°æ‰€æœ‰è‹¹æœçš„æœ€ä¼˜æ–¹æ¡ˆç”±ç»¿è‰²ç®­å¤´è¡¨ç¤ºã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">7</span>, edges = [[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">4</span>],[<span class="number">1</span>,<span class="number">5</span>],[<span class="number">2</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">6</span>]], hasApple = [<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= n &lt;= 10^5</code></li><li><code>edges.length == n-1</code></li><li><code>edges[i].length == 2</code></li><li><code>0 &lt;= fromi, toi &lt;= n-1</code></li><li><code>fromi &lt; toi</code></li><li><code>hasApple.length == n</code></li></ul><h3 id="åœ°å€-2"><a href="#åœ°å€-2" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/minimum-time-to-collect-all-apples-in-a-tree" target="_blank" rel="noopener">https://leetcode-cn.com/problems/minimum-time-to-collect-all-apples-in-a-tree</a></p><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> DFS</p><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>æˆ‘ä»¬çŸ¥é“æ¯æ¬¡ä»æ ¹èŠ‚ç‚¹ä¸‹å»å–å­©å­èŠ‚ç‚¹çš„è‹¹æœæ—¶ï¼Œéƒ½ä¼šæœ‰ä¸¤æ­¥ä¸Šä¸‹æ“ä½œï¼Œå› æ­¤æˆ‘ä»¬æ¯æ¬¡åˆ¤æ–­å‘ç°æœ¬æ¬¡çš„å½“å‰èŠ‚ç‚¹çš„å­©å­èŠ‚ç‚¹çš„å­æ ‘æœ‰è‹¹æœå­˜åœ¨æ—¶ï¼Œåˆ™å°†è·¯å¾„+2.</li><li>é‡‡ç”¨DFSå³å¯ï¼Œæˆ‘ä»¬æ¯æ¬¡è¿”å›å­æ ‘æ˜¯å¦æœ‰è‹¹æœï¼Œå¦‚æœæœ‰è‹¹æœå­˜åœ¨ï¼Œåˆ™åŠ 2.<h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> curr,<span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp; tree,<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; &amp; apples,<span class="keyword">int</span> &amp; res)</span></span>&#123;</span><br><span class="line">        <span class="keyword">bool</span> hasapple = <span class="literal">false</span>;        </span><br><span class="line">        <span class="keyword">if</span>(apples[curr]) hasapple = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v : tree[curr])&#123;</span><br><span class="line">            <span class="keyword">if</span>(dfs(v,tree,apples,res))&#123;</span><br><span class="line">                res += <span class="number">2</span>;</span><br><span class="line">                hasapple = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> hasapple;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minTime</span><span class="params">(<span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; edges, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; hasApple)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; tree;        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; edges.size(); ++i)&#123;</span><br><span class="line">            tree[edges[i][<span class="number">0</span>]].push_back(edges[i][<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        dfs(<span class="number">0</span>,tree,hasApple,res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5407-åˆ‡æŠ«è¨çš„æ–¹æ¡ˆæ•°"><a href="#5407-åˆ‡æŠ«è¨çš„æ–¹æ¡ˆæ•°" class="headerlink" title="5407. åˆ‡æŠ«è¨çš„æ–¹æ¡ˆæ•°"></a>5407. åˆ‡æŠ«è¨çš„æ–¹æ¡ˆæ•°</h2><h3 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ª <code>rows x cols</code>å¤§å°çš„çŸ©å½¢æŠ«è¨å’Œä¸€ä¸ªæ•´æ•° k ï¼ŒçŸ©å½¢åŒ…å«ä¸¤ç§å­—ç¬¦ï¼š<code>&#39;A&#39;</code>ï¼ˆè¡¨ç¤ºè‹¹æœï¼‰å’Œ â€˜.â€™ ï¼ˆè¡¨ç¤ºç©ºç™½æ ¼å­ï¼‰ã€‚ä½ éœ€è¦åˆ‡æŠ«è¨ <code>k-1</code>æ¬¡ï¼Œå¾—åˆ° <code>k</code> å—æŠ«è¨å¹¶é€ç»™åˆ«äººã€‚</p><p>åˆ‡æŠ«è¨çš„æ¯ä¸€åˆ€ï¼Œå…ˆè¦é€‰æ‹©æ˜¯å‘å‚ç›´è¿˜æ˜¯æ°´å¹³æ–¹å‘åˆ‡ï¼Œå†åœ¨çŸ©å½¢çš„è¾¹ç•Œä¸Šé€‰ä¸€ä¸ªåˆ‡çš„ä½ç½®ï¼Œå°†æŠ«è¨ä¸€åˆ†ä¸ºäºŒã€‚å¦‚æœå‚ç›´åœ°åˆ‡æŠ«è¨ï¼Œé‚£ä¹ˆéœ€è¦æŠŠå·¦è¾¹çš„éƒ¨åˆ†é€ç»™ä¸€ä¸ªäººï¼Œå¦‚æœæ°´å¹³åœ°åˆ‡ï¼Œé‚£ä¹ˆéœ€è¦æŠŠä¸Šé¢çš„éƒ¨åˆ†é€ç»™ä¸€ä¸ªäººã€‚åœ¨åˆ‡å®Œæœ€åä¸€åˆ€åï¼Œéœ€è¦æŠŠå‰©ä¸‹æ¥çš„ä¸€å—é€ç»™æœ€åä¸€ä¸ªäººã€‚</p><p>è¯·ä½ è¿”å›ç¡®ä¿æ¯ä¸€å—æŠ«è¨åŒ…å« è‡³å°‘ ä¸€ä¸ªè‹¹æœçš„åˆ‡æŠ«è¨æ–¹æ¡ˆæ•°ã€‚ç”±äºç­”æ¡ˆå¯èƒ½æ˜¯ä¸ªå¾ˆå¤§çš„æ•°å­—ï¼Œè¯·ä½ è¿”å›å®ƒå¯¹ <code>10^9 + 7</code>å–ä½™çš„ç»“æœã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špizza = [<span class="string">"A.."</span>,<span class="string">"AAA"</span>,<span class="string">"..."</span>], k = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span> </span><br><span class="line">è§£é‡Šï¼šä¸Šå›¾å±•ç¤ºäº†ä¸‰ç§åˆ‡æŠ«è¨çš„æ–¹æ¡ˆã€‚æ³¨æ„æ¯ä¸€å—æŠ«è¨éƒ½è‡³å°‘åŒ…å«ä¸€ä¸ªè‹¹æœã€‚</span><br></pre></td></tr></table></figure></p><p>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špizza = [<span class="string">"A.."</span>,<span class="string">"AA."</span>,<span class="string">"..."</span>], k = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špizza = [<span class="string">"A.."</span>,<span class="string">"A.."</span>,<span class="string">"..."</span>], k = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> &lt;= rows, cols &lt;= <span class="number">50</span></span><br><span class="line">rows == pizza.length</span><br><span class="line">cols == pizza[i].length</span><br><span class="line"><span class="number">1</span> &lt;= k &lt;= <span class="number">10</span></span><br><span class="line">pizza åªåŒ…å«å­—ç¬¦ <span class="string">'A'</span> å’Œ <span class="string">'.'</span> ã€‚</span><br></pre></td></tr></table></figure></p><h3 id="åœ°å€-3"><a href="#åœ°å€-3" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/contest/weekly-contest-188/problems/number-of-ways-of-cutting-a-pizza/" target="_blank" rel="noopener">https://leetcode-cn.com/contest/weekly-contest-188/problems/number-of-ways-of-cutting-a-pizza/</a></p><h3 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  DP</p><h3 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>è®¾é€’æ¨å…¬å¼<code>dp[i][j][k]</code>ä»£è¡¨ä»å·¦ä¸Šå®šç‚¹<code>(i,j)</code>ä¸å³ä¸‹é¡¶ç‚¹<code>(m,n)</code>ç»„æˆçš„çŸ©å½¢ï¼Œåˆ‡åˆ†<code>k</code>æ¬¡çš„æ–¹æ¡ˆæ•°ï¼Œå¾ˆå®¹æ˜“æƒ³åˆ°é€’æ¨å…¬å¼:<script type="math/tex; mode=display">dp[x][y][k] = \left\{\begin{aligned}\sum_{i=x+1}^{m-1}dp[i][y][k-1] \qquad if(sum[x][y] - sum[i][y] > 0) \\\sum_{j=y+1}^{n-1}dp[x][j][k-1] \qquad if(sum[x][y] - sum[x][j] > 0) \\\end{aligned}\right.</script></li><li><code>sum</code>ä»£è¡¨åç¼€å’Œï¼Œ<code>sum[i][j]</code>ä»£è¡¨ä»<code>(i,j)</code>åˆ°<code>(m,n)</code>ç»„æˆçš„çŸ©å½¢ä¸­è‹¹æœçš„æ€»æ•°ç›®ã€‚<script type="math/tex; mode=display">sum[x][y] = \sum_{i=x}^{m}\sum_{j=y}^{n}matrix[i][j]</script><script type="math/tex; mode=display">sum[x][y] = sum[x][y+1] + sum[x+1][y] - sum[x+1][y+1] + matrix[x][y]</script>é¢˜ç›®å…¶å®ä»”ç»†åˆ†æä¸‹æ¥æŒºç®€å•çš„ï¼Œå°±æ˜¯å†™çš„æ—¶å€™ç¨å¾®å¤æ‚ç‚¹ã€‚<h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">51</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">ways</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; pizza, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = pizza.size();</span><br><span class="line">        <span class="keyword">int</span> n = pizza[<span class="number">0</span>].size();</span><br><span class="line">        <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> dp[M][M][k];</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; sum(m+<span class="number">1</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n+<span class="number">1</span>,<span class="number">0</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">/*prefix sum*/</span></span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="keyword">sizeof</span>(dp),<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = m<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = n<span class="number">-1</span>; j &gt;= <span class="number">0</span>; --j)&#123;</span><br><span class="line">                sum[i][j] = sum[i+<span class="number">1</span>][j] + sum[i][j+<span class="number">1</span>] - sum[i+<span class="number">1</span>][j+<span class="number">1</span>] + (pizza[i][j] == <span class="string">'A'</span>?<span class="number">1</span>:<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(sum[i][j] &gt; <span class="number">0</span>) dp[i][j][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = m<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = n<span class="number">-1</span>; j &gt;= <span class="number">0</span>; --j)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> s = <span class="number">1</span>; s &lt; k; ++s)&#123;</span><br><span class="line">                    <span class="comment">/*cut row*/</span></span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> t = i+<span class="number">1</span>; t &lt; m; ++t)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(sum[i][j] - sum[t][j] &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                            dp[i][j][s] = (dp[i][j][s] + dp[t][j][s<span class="number">-1</span>])%mod;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">/*cut col*/</span></span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> t = j+<span class="number">1</span>; t &lt; n; ++t)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(sum[i][j] - sum[i][t] &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                            dp[i][j][s] = (dp[i][j][s] + dp[i][t][s<span class="number">-1</span>])%mod;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][<span class="number">0</span>][k<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;181å‘¨æ¯”èµ›&quot;&gt;&lt;a href=&quot;#181å‘¨æ¯”èµ›&quot; class=&quot;headerlink&quot; title=&quot;181å‘¨æ¯”èµ›&quot;&gt;&lt;/a&gt;181å‘¨æ¯”èµ›&lt;/h1&gt;&lt;p&gt;å‘¨èµ›çš„é¢˜ç›®è´¨é‡æœçœŸéå¸¸é«˜ã€‚&lt;/p&gt;&lt;h2 id=&quot;5404-ç”¨æ ˆæ“ä½œæ„å»ºæ•°ç»„&quot;&gt;&lt;a href=&quot;#5404-ç”¨æ ˆæ“ä½œæ„å»ºæ•°ç»„&quot; class=&quot;headerlink&quot; title=&quot;5404. ç”¨æ ˆæ“ä½œæ„å»ºæ•°ç»„&quot;&gt;&lt;/a&gt;5404. ç”¨æ ˆæ“ä½œæ„å»ºæ•°ç»„&lt;/h2&gt;&lt;h3 id=&quot;é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®&quot;&gt;&lt;/a&gt;é¢˜ç›®&lt;/h3&gt;&lt;p&gt;ç»™ä½ ä¸€ä¸ªç›®æ ‡æ•°ç»„ &lt;code&gt;target&lt;/code&gt;å’Œä¸€ä¸ªæ•´æ•° &lt;code&gt;n&lt;/code&gt;ã€‚æ¯æ¬¡è¿­ä»£ï¼Œéœ€è¦ä»  &lt;code&gt;list = {1,2,3..., n}&lt;/code&gt; ä¸­ä¾åºè¯»å–ä¸€ä¸ªæ•°å­—ã€‚&lt;/p&gt;&lt;p&gt;è¯·ä½¿ç”¨ä¸‹è¿°æ“ä½œæ¥æ„å»ºç›®æ ‡æ•°ç»„ &lt;code&gt;target&lt;/code&gt; ï¼š&lt;br&gt;&lt;figure class=&quot;highlight armasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;Pushï¼šä» &lt;/span&gt;list ä¸­è¯»å–ä¸€ä¸ªæ–°å…ƒç´ ï¼Œ å¹¶å°†å…¶æ¨å…¥æ•°ç»„ä¸­ã€‚&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;Popï¼šåˆ é™¤æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;å¦‚æœç›®æ ‡æ•°ç»„æ„å»ºå®Œæˆï¼Œå°±åœæ­¢è¯»å–æ›´å¤šå…ƒç´ ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;é¢˜ç›®æ•°æ®ä¿è¯ç›®æ ‡æ•°ç»„ä¸¥æ ¼é€’å¢ï¼Œå¹¶ä¸”åªåŒ…å« 1 åˆ° n ä¹‹é—´çš„æ•°å­—ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>ã€Leetcodeã€‘ 180å‘¨æ¯”èµ›</title>
    <link href="http://yoursite.com/2020/05/03/158/"/>
    <id>http://yoursite.com/2020/05/03/158/</id>
    <published>2020-05-03T06:16:42.499Z</published>
    <updated>2020-05-03T06:16:49.217Z</updated>
    
    <content type="html"><![CDATA[<h1 id="180å‘¨æ¯”èµ›"><a href="#180å‘¨æ¯”èµ›" class="headerlink" title="180å‘¨æ¯”èµ›"></a>180å‘¨æ¯”èµ›</h1><p>å‘¨èµ›çš„é¢˜ç›®è´¨é‡æœçœŸéå¸¸é«˜ã€‚</p><h2 id="5384-æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­"><a href="#5384-æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­" class="headerlink" title="5384. æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­"></a>5384. æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä»½æ—…æ¸¸çº¿è·¯å›¾ï¼Œè¯¥çº¿è·¯å›¾ä¸­çš„æ—…è¡Œçº¿è·¯ç”¨æ•°ç»„ <code>paths</code>è¡¨ç¤ºï¼Œå…¶ä¸­ <code>paths[i] = [cityAi, cityBi]</code>è¡¨ç¤ºè¯¥çº¿è·¯å°†ä¼šä» <code>cityAi</code>ç›´æ¥å‰å¾€ <code>cityBi</code>ã€‚è¯·ä½ æ‰¾å‡ºè¿™æ¬¡æ—…è¡Œçš„ç»ˆç‚¹ç«™ï¼Œå³æ²¡æœ‰ä»»ä½•å¯ä»¥é€šå¾€å…¶ä»–åŸå¸‚çš„çº¿è·¯çš„åŸå¸‚ã€‚</p><a id="more"></a><p>é¢˜ç›®æ•°æ®ä¿è¯çº¿è·¯å›¾ä¼šå½¢æˆä¸€æ¡ä¸å­˜åœ¨å¾ªç¯çš„çº¿è·¯ï¼Œå› æ­¤åªä¼šæœ‰ä¸€ä¸ªæ—…è¡Œç»ˆç‚¹ç«™ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špaths = [[<span class="string">"London"</span>,<span class="string">"New York"</span>],[<span class="string">"New York"</span>,<span class="string">"Lima"</span>],[<span class="string">"Lima"</span>,<span class="string">"Sao Paulo"</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="string">"Sao Paulo"</span> </span><br><span class="line">è§£é‡Šï¼šä» <span class="string">"London"</span> å‡ºå‘ï¼Œæœ€åæŠµè¾¾ç»ˆç‚¹ç«™ <span class="string">"Sao Paulo"</span> ã€‚æœ¬æ¬¡æ—…è¡Œçš„è·¯çº¿æ˜¯ <span class="string">"London"</span> -&gt; <span class="string">"New York"</span> -&gt; <span class="string">"Lima"</span> -&gt; <span class="string">"Sao Paulo"</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špaths = [[<span class="string">"B"</span>,<span class="string">"C"</span>],[<span class="string">"D"</span>,<span class="string">"B"</span>],[<span class="string">"C"</span>,<span class="string">"A"</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="string">"A"</span></span><br><span class="line">è§£é‡Šï¼šæ‰€æœ‰å¯èƒ½çš„çº¿è·¯æ˜¯ï¼š</span><br><span class="line"><span class="string">"D"</span> -&gt; <span class="string">"B"</span> -&gt; <span class="string">"C"</span> -&gt; <span class="string">"A"</span>.Â </span><br><span class="line"><span class="string">"B"</span> -&gt; <span class="string">"C"</span> -&gt; <span class="string">"A"</span>.Â </span><br><span class="line"><span class="string">"C"</span> -&gt; <span class="string">"A"</span>.Â </span><br><span class="line"><span class="string">"A"</span>.Â </span><br><span class="line">æ˜¾ç„¶ï¼Œæ—…è¡Œç»ˆç‚¹ç«™æ˜¯ <span class="string">"A"</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špaths = [[<span class="string">"A"</span>,<span class="string">"Z"</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="string">"Z"</span></span><br><span class="line">```Â </span><br><span class="line"></span><br><span class="line">æç¤ºï¼š</span><br><span class="line">+ `<span class="number">1</span> &lt;= paths.length &lt;= <span class="number">100</span>`</span><br><span class="line">+ `paths[i].length == <span class="number">2</span>`</span><br><span class="line">+ `<span class="number">1</span> &lt;=Â cityAi.length,Â cityBi.length &lt;= <span class="number">10</span>`</span><br><span class="line">+ `cityAiÂ !=Â cityBi`</span><br><span class="line">+ æ‰€æœ‰å­—ç¬¦ä¸²å‡ç”±å¤§å°å†™è‹±æ–‡å­—æ¯å’Œç©ºæ ¼å­—ç¬¦ç»„æˆã€‚</span><br><span class="line"></span><br><span class="line">### åœ°å€</span><br><span class="line">https:<span class="comment">//leetcode-cn.com/problems/destination-city</span></span><br><span class="line">### é¢˜æ„</span><br><span class="line">&gt;  æ±‚å…¥åº¦</span><br><span class="line">### æ€è·¯</span><br><span class="line"><span class="number">1.</span> è¿™ä¸ªé¢˜ç›®å¯ä»¥ç”¨BFSæ¥è§£å†³ï¼Œä½†æ˜¯ä½œä¸ºç®€å•é¢˜ç›®çœŸå¿ƒæ²¡å¿…è¦ã€‚</span><br><span class="line"><span class="number">2.</span> æˆ‘ä»¬æ±‚å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦å’Œå‡ºåº¦ï¼Œæ±‚å‡ºå…¥åº¦å¤§äº<span class="number">0</span>ä¸”å‡ºåº¦ä¸º<span class="number">0</span>çš„èŠ‚ç‚¹å³ä¸ºç›®æ ‡èŠ‚ç‚¹ã€‚</span><br><span class="line">### ä»£ç </span><br><span class="line">```c++</span><br><span class="line"><span class="keyword">class</span> <span class="symbol">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">string</span> destCity(vector&lt;vector&lt;<span class="built_in">string</span>&gt;&gt;&amp; paths) &#123;</span><br><span class="line">        unordered_map&lt;<span class="built_in">string</span>,<span class="built_in">int</span>&gt; <span class="keyword">out</span>;</span><br><span class="line">        unordered_map&lt;<span class="built_in">string</span>,<span class="built_in">int</span>&gt; <span class="keyword">in</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">auto</span> s : paths)&#123;</span><br><span class="line">            <span class="keyword">out</span>[s[<span class="number">0</span>]]++;</span><br><span class="line">            <span class="keyword">in</span>[s[<span class="number">1</span>]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">auto</span> x : <span class="keyword">in</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="keyword">out</span>.count(x.first)) <span class="keyword">return</span> x.first;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h2 id="5401-æ˜¯å¦æ‰€æœ‰-1-éƒ½è‡³å°‘ç›¸éš”-k-ä¸ªå…ƒç´ "><a href="#5401-æ˜¯å¦æ‰€æœ‰-1-éƒ½è‡³å°‘ç›¸éš”-k-ä¸ªå…ƒç´ " class="headerlink" title="5401. æ˜¯å¦æ‰€æœ‰ 1 éƒ½è‡³å°‘ç›¸éš” k ä¸ªå…ƒç´ "></a>5401. æ˜¯å¦æ‰€æœ‰ 1 éƒ½è‡³å°‘ç›¸éš” k ä¸ªå…ƒç´ </h2><h3 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªç”±è‹¥å¹² 0 å’Œ 1 ç»„æˆçš„æ•°ç»„ nums ä»¥åŠæ•´æ•° kã€‚å¦‚æœæ‰€æœ‰ 1 éƒ½è‡³å°‘ç›¸éš” k ä¸ªå…ƒç´ ï¼Œåˆ™è¿”å› True ï¼›å¦åˆ™ï¼Œè¿”å› False ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>], k = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šæ¯ä¸ª <span class="number">1</span> éƒ½è‡³å°‘ç›¸éš” <span class="number">2</span> ä¸ªå…ƒç´ ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>], k = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br><span class="line">è§£é‡Šï¼šç¬¬äºŒä¸ª <span class="number">1</span> å’Œç¬¬ä¸‰ä¸ª <span class="number">1</span> ä¹‹é—´åªéš”äº† <span class="number">1</span> ä¸ªå…ƒç´ ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>], k = <span class="number">0</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>], k = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">```Â </span><br><span class="line"></span><br><span class="line">æç¤ºï¼š</span><br><span class="line">+ `<span class="number">1</span> &lt;= nums.length &lt;= <span class="number">10</span>^<span class="number">5</span>`</span><br><span class="line">+ `<span class="number">0</span> &lt;= k &lt;= nums.length`</span><br><span class="line">+ ` nums[i] `çš„å€¼ä¸º <span class="number">0</span> æˆ– <span class="number">1</span></span><br><span class="line"></span><br><span class="line">### åœ°å€</span><br><span class="line">https:<span class="comment">//leetcode-cn.com/problems/check-if-all-1s-are-at-least-length-k-places-away</span></span><br><span class="line">### é¢˜æ„</span><br><span class="line">&gt;  æ°´é¢˜</span><br><span class="line">### æ€è·¯</span><br><span class="line"><span class="number">1.</span> æŠŠæ‰€æœ‰å…ƒç´ å€¼ä¸º<span class="number">1</span>çš„ç´¢å¼•æ±‚å‡ºæ¥ï¼Œç„¶åæŸ¥çœ‹ç›¸é‚»çš„å…ƒç´ æ˜¯å¦é—´éš”æ»¡è¶³æ¡ä»¶.</span><br><span class="line">### ä»£ç </span><br><span class="line">```c++</span><br><span class="line"><span class="keyword">class</span> <span class="symbol">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">bool</span> kLengthApart(vector&lt;<span class="built_in">int</span>&gt;&amp; nums, <span class="built_in">int</span> k) &#123;</span><br><span class="line">        vector&lt;<span class="built_in">int</span>&gt; arr;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; nums.size(); ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] == <span class="number">1</span>)&#123;</span><br><span class="line">                arr.push_back(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">1</span>; i &lt; arr.size(); ++i)&#123;</span><br><span class="line">            cout&lt;&lt;arr[i]&lt;&lt;endl;</span><br><span class="line">            <span class="keyword">if</span>(arr[i] - arr[i<span class="number">-1</span>] &lt;= k) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h2 id="5402-ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„"><a href="#5402-ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„" class="headerlink" title="5402. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„"></a>5402. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„</h2><h3 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œå’Œä¸€ä¸ªè¡¨ç¤ºé™åˆ¶çš„æ•´æ•° <code>limit</code>ï¼Œè¯·ä½ è¿”å›æœ€é•¿è¿ç»­å­æ•°ç»„çš„é•¿åº¦ï¼Œè¯¥å­æ•°ç»„ä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„ç»å¯¹å·®å¿…é¡»å°äºæˆ–è€…ç­‰äº limit ã€‚</p><p>å¦‚æœä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ï¼Œåˆ™è¿”å› 0 ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>], limit = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span> </span><br><span class="line">è§£é‡Šï¼šæ‰€æœ‰å­æ•°ç»„å¦‚ä¸‹ï¼š</span><br><span class="line">[<span class="number">8</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">8</span><span class="number">-8</span>| = <span class="number">0</span> &lt;= <span class="number">4.</span></span><br><span class="line">[<span class="number">8</span>,<span class="number">2</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">8</span><span class="number">-2</span>| = <span class="number">6</span> &gt; <span class="number">4.</span> </span><br><span class="line">[<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">8</span><span class="number">-2</span>| = <span class="number">6</span> &gt; <span class="number">4.</span></span><br><span class="line">[<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">8</span><span class="number">-2</span>| = <span class="number">6</span> &gt; <span class="number">4.</span></span><br><span class="line">[<span class="number">2</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">2</span><span class="number">-2</span>| = <span class="number">0</span> &lt;= <span class="number">4.</span></span><br><span class="line">[<span class="number">2</span>,<span class="number">4</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">2</span><span class="number">-4</span>| = <span class="number">2</span> &lt;= <span class="number">4.</span></span><br><span class="line">[<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">2</span><span class="number">-7</span>| = <span class="number">5</span> &gt; <span class="number">4.</span></span><br><span class="line">[<span class="number">4</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">4</span><span class="number">-4</span>| = <span class="number">0</span> &lt;= <span class="number">4.</span></span><br><span class="line">[<span class="number">4</span>,<span class="number">7</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">4</span><span class="number">-7</span>| = <span class="number">3</span> &lt;= <span class="number">4.</span></span><br><span class="line">[<span class="number">7</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">7</span><span class="number">-7</span>| = <span class="number">0</span> &lt;= <span class="number">4.</span> </span><br><span class="line">å› æ­¤ï¼Œæ»¡è¶³é¢˜æ„çš„æœ€é•¿å­æ•°ç»„çš„é•¿åº¦ä¸º <span class="number">2</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">10</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">2</span>], limit = <span class="number">5</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span> </span><br><span class="line">è§£é‡Šï¼šæ»¡è¶³é¢˜æ„çš„æœ€é•¿å­æ•°ç»„æ˜¯ [<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">2</span>]ï¼Œå…¶æœ€å¤§ç»å¯¹å·® |<span class="number">2</span><span class="number">-7</span>| = <span class="number">5</span> &lt;= <span class="number">5</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">4</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">2</span>], limit = <span class="number">0</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= nums.length &lt;= 10^5</code></li><li><code>1 &lt;= nums[i] &lt;= 10^9</code></li><li><code>0 &lt;= limit &lt;= 10^9</code></li></ul><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit" target="_blank" rel="noopener">https://leetcode-cn.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit</a></p><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æ»‘åŠ¨çª—å£</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>ä¿è¯å½“å‰çª—å£çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ä¹‹å·®å°äºç­‰äº<code>limit</code>å³å¯ã€‚</li><li>ç”¨multisetä¿å­˜å½“å‰ä½ç½®ä¸ºç»ˆç‚¹çš„æœ€é•¿è¿ç»­å­åºåˆ—ï¼Œå¦‚æœæœ€å¤§å€¼ä¸æœ€å°å€¼ä¹‹å·®å°äºç­‰äº<code>limit</code>ï¼Œåˆ™è¯¥è¿ç»­å­åºåˆ—è‚¯å®šå¯ä»¥æ»¡è¶³è¦æ±‚ã€‚<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">longestSubarray</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> limit)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> curr = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt; prev;</span><br><span class="line">        prev.insert(nums[<span class="number">0</span>]);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            prev.insert(nums[i]);</span><br><span class="line">            <span class="keyword">while</span>(curr &lt; i &amp;&amp; <span class="built_in">abs</span>(*prev.rbegin()-*prev.begin()) &gt; limit)&#123;</span><br><span class="line">                prev.erase(nums[curr]);</span><br><span class="line">                curr++;</span><br><span class="line">            &#125;</span><br><span class="line">            res = max(res,(<span class="keyword">int</span>)prev.size());</span><br><span class="line">        &#125;</span><br><span class="line">                  </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5403-æœ‰åºçŸ©é˜µä¸­çš„ç¬¬-k-ä¸ªæœ€å°æ•°ç»„å’Œ"><a href="#5403-æœ‰åºçŸ©é˜µä¸­çš„ç¬¬-k-ä¸ªæœ€å°æ•°ç»„å’Œ" class="headerlink" title="5403. æœ‰åºçŸ©é˜µä¸­çš„ç¬¬ k ä¸ªæœ€å°æ•°ç»„å’Œ"></a>5403. æœ‰åºçŸ©é˜µä¸­çš„ç¬¬ k ä¸ªæœ€å°æ•°ç»„å’Œ</h2><h3 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ª <code>m * n</code> çš„çŸ©é˜µ <code>mat</code>ï¼Œä»¥åŠä¸€ä¸ªæ•´æ•° <code>k</code> ï¼ŒçŸ©é˜µä¸­çš„æ¯ä¸€è¡Œéƒ½ä»¥éé€’å‡çš„é¡ºåºæ’åˆ—ã€‚</p><p>ä½ å¯ä»¥ä»æ¯ä¸€è¡Œä¸­é€‰å‡º 1 ä¸ªå…ƒç´ å½¢æˆä¸€ä¸ªæ•°ç»„ã€‚è¿”å›æ‰€æœ‰å¯èƒ½æ•°ç»„ä¸­çš„ç¬¬<code>k</code>ä¸ª æœ€å° æ•°ç»„å’Œã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šmat = [[<span class="number">1</span>,<span class="number">3</span>,<span class="number">11</span>],[<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>]], k = <span class="number">5</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">7</span></span><br><span class="line">è§£é‡Šï¼šä»æ¯ä¸€è¡Œä¸­é€‰å‡ºä¸€ä¸ªå…ƒç´ ï¼Œå‰ k ä¸ªå’Œæœ€å°çš„æ•°ç»„åˆ†åˆ«æ˜¯ï¼š</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>], [<span class="number">1</span>,<span class="number">4</span>], [<span class="number">3</span>,<span class="number">2</span>], [<span class="number">3</span>,<span class="number">4</span>], [<span class="number">1</span>,<span class="number">6</span>]ã€‚å…¶ä¸­ç¬¬ <span class="number">5</span> ä¸ªçš„å’Œæ˜¯ <span class="number">7</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šmat = [[<span class="number">1</span>,<span class="number">3</span>,<span class="number">11</span>],[<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>]], k = <span class="number">9</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">17</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šmat = [[<span class="number">1</span>,<span class="number">10</span>,<span class="number">10</span>],[<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>]], k = <span class="number">7</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">9</span></span><br><span class="line">è§£é‡Šï¼šä»æ¯ä¸€è¡Œä¸­é€‰å‡ºä¸€ä¸ªå…ƒç´ ï¼Œå‰ k ä¸ªå’Œæœ€å°çš„æ•°ç»„åˆ†åˆ«æ˜¯ï¼š</span><br><span class="line">[<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>], [<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>], [<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>], [<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>], [<span class="number">1</span>,<span class="number">1</span>,<span class="number">6</span>], [<span class="number">1</span>,<span class="number">5</span>,<span class="number">2</span>], [<span class="number">1</span>,<span class="number">5</span>,<span class="number">3</span>]ã€‚å…¶ä¸­ç¬¬ <span class="number">7</span> ä¸ªçš„å’Œæ˜¯ <span class="number">9</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šmat = [[<span class="number">1</span>,<span class="number">1</span>,<span class="number">10</span>],[<span class="number">2</span>,<span class="number">2</span>,<span class="number">9</span>]], k = <span class="number">7</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">12</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>m == mat.length</code></li><li><code>n == mat.length[i]</code></li><li><code>1 &lt;= m, n &lt;= 40</code></li><li><code>1 &lt;= k &lt;= min(200, n ^ m)</code></li><li><code>1 &lt;= mat[i][j] &lt;= 5000</code></li><li><code>mat[i]</code> æ˜¯ä¸€ä¸ªéé€’å‡æ•°ç»„</li></ul><h3 id="åœ°å€-1"><a href="#åœ°å€-1" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/find-the-kth-smallest-sum-of-a-matrix-with-sorted-rows" target="_blank" rel="noopener">https://leetcode-cn.com/problems/find-the-kth-smallest-sum-of-a-matrix-with-sorted-rows</a></p><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  BFS + ä¼˜å…ˆçº§é˜Ÿåˆ—</p><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>æƒ³åˆ°è¿™åˆ°é¢˜ç›®éœ€è¦ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œä½†æ˜¯æ¯”èµ›æ—¶æ²¡æœ‰åšå‡ºæ¥ã€‚</li><li>å°±æ˜¯BFS + ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œç”±äº<code>k</code>çš„å€¼ä¸è¶…è¿‡200ï¼Œæˆ‘ä»¬ç›´æ¥æš´åŠ›æœç´¢å³å¯ã€‚æ¯æ¬¡å°†å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰åç»­èŠ‚ç‚¹å…¥ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­å³å¯ï¼Œä¼˜å…ˆçº§èŠ‚ç‚¹æ¯”è¾ƒæ‰€æœ‰çš„åˆ—çš„å’Œã€‚</li><li>æˆ‘ä»¬ç”¨æ¯ä¸€è¡Œçš„åˆ—ç´¢å¼•ä½œä¸ºèŠ‚ç‚¹çš„çŠ¶æ€ï¼Œå®šä¹‰èŠ‚ç‚¹å¦‚ä¸‹ï¼š<script type="math/tex; mode=display">curr = (cols[0],cols[1],...,cols[n-1])</script>æ¯”å¦‚æœ‰<code>4*m</code>çš„çŸ©é˜µï¼Œæœ€å¼€å§‹çš„èŠ‚ç‚¹ä¸º<script type="math/tex; mode=display">[0,0,0,0]</script>é‚£ä¹ˆå®ƒçš„åç»­èŠ‚ç‚¹å³ä¸‹ä¸€ä¸ªæœ€å°å€¼çš„å¯èƒ½ç”±åˆ—çš„ç´¢å¼•æ„æˆ,æˆ‘ä»¬å°†åç»­çš„å››ä¸ªå¯èƒ½çš„èŠ‚ç‚¹å…¨éƒ¨å…¥é˜Ÿåˆ—ã€‚<script type="math/tex; mode=display">[1,0,0,0] \quad [0,1,0,0] \quad [0,0,1,0] \quad [0,0,0,1]</script>æ¯æ¬¡ä»ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­å–å‡ºæœ€å°çš„å€¼ã€‚<h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; mat, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> row = mat.size();</span><br><span class="line">        <span class="keyword">int</span> col = mat[<span class="number">0</span>].size();</span><br><span class="line">        <span class="built_in">set</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&gt; pq;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; idx(row,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">auto</span> get = [&amp;](<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; v)&#123;</span><br><span class="line">            <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; v.size(); ++i)&#123;</span><br><span class="line">                res += mat[i][v[i]];</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        pq.insert(&#123;get(idx),idx&#125;);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; k; ++i)&#123;</span><br><span class="line">            <span class="keyword">auto</span> [val,v] = *pq.begin();</span><br><span class="line">            pq.erase(pq.begin());</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; row; ++j)&#123;</span><br><span class="line">                v[j]++;</span><br><span class="line">                <span class="keyword">if</span>(v[j] &lt; col)&#123;</span><br><span class="line">                    pq.insert(&#123;get(v),v&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">                v[j]--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> pq.begin()-&gt;first;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;180å‘¨æ¯”èµ›&quot;&gt;&lt;a href=&quot;#180å‘¨æ¯”èµ›&quot; class=&quot;headerlink&quot; title=&quot;180å‘¨æ¯”èµ›&quot;&gt;&lt;/a&gt;180å‘¨æ¯”èµ›&lt;/h1&gt;&lt;p&gt;å‘¨èµ›çš„é¢˜ç›®è´¨é‡æœçœŸéå¸¸é«˜ã€‚&lt;/p&gt;&lt;h2 id=&quot;5384-æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­&quot;&gt;&lt;a href=&quot;#5384-æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­&quot; class=&quot;headerlink&quot; title=&quot;5384. æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­&quot;&gt;&lt;/a&gt;5384. æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­&lt;/h2&gt;&lt;h3 id=&quot;é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®&quot;&gt;&lt;/a&gt;é¢˜ç›®&lt;/h3&gt;&lt;p&gt;ç»™ä½ ä¸€ä»½æ—…æ¸¸çº¿è·¯å›¾ï¼Œè¯¥çº¿è·¯å›¾ä¸­çš„æ—…è¡Œçº¿è·¯ç”¨æ•°ç»„ &lt;code&gt;paths&lt;/code&gt;è¡¨ç¤ºï¼Œå…¶ä¸­ &lt;code&gt;paths[i] = [cityAi, cityBi]&lt;/code&gt;è¡¨ç¤ºè¯¥çº¿è·¯å°†ä¼šä» &lt;code&gt;cityAi&lt;/code&gt;ç›´æ¥å‰å¾€ &lt;code&gt;cityBi&lt;/code&gt;ã€‚è¯·ä½ æ‰¾å‡ºè¿™æ¬¡æ—…è¡Œçš„ç»ˆç‚¹ç«™ï¼Œå³æ²¡æœ‰ä»»ä½•å¯ä»¥é€šå¾€å…¶ä»–åŸå¸‚çš„çº¿è·¯çš„åŸå¸‚ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>ã€Leetcodeã€‘ 25å‘¨åŒå‘¨æ¯”èµ›</title>
    <link href="http://yoursite.com/2020/05/03/157/"/>
    <id>http://yoursite.com/2020/05/03/157/</id>
    <published>2020-05-03T02:15:25.433Z</published>
    <updated>2020-05-03T02:15:30.546Z</updated>
    
    <content type="html"><![CDATA[<h1 id="25å‘¨æ¯”èµ›"><a href="#25å‘¨æ¯”èµ›" class="headerlink" title="25å‘¨æ¯”èµ›"></a>25å‘¨æ¯”èµ›</h1><p>åŒå‘¨èµ›çš„é¢˜ç›®éš¾åº¦æ¯”å‘¨èµ›ç¨å¾®å·®ç‚¹</p><h2 id="5384-æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­"><a href="#5384-æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­" class="headerlink" title="5384. æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­"></a>5384. æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>candies</code>å’Œä¸€ä¸ªæ•´æ•° <code>extraCandies</code>ï¼Œå…¶ä¸­ <code>candies[i]</code> ä»£è¡¨ç¬¬ i ä¸ªå­©å­æ‹¥æœ‰çš„ç³–æœæ•°ç›®ã€‚</p><p>å¯¹æ¯ä¸€ä¸ªå­©å­ï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ç§æ–¹æ¡ˆï¼Œå°†é¢å¤–çš„ <code>extraCandies</code>ä¸ªç³–æœåˆ†é…ç»™å­©å­ä»¬ä¹‹åï¼Œæ­¤å­©å­æœ‰ æœ€å¤š çš„ç³–æœã€‚æ³¨æ„ï¼Œå…è®¸æœ‰å¤šä¸ªå­©å­åŒæ—¶æ‹¥æœ‰ æœ€å¤š çš„ç³–æœæ•°ç›®ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcandies = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">3</span>], extraCandies = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="literal">true</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="literal">false</span>,<span class="literal">true</span>] </span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">å­©å­ <span class="number">1</span> æœ‰ <span class="number">2</span> ä¸ªç³–æœï¼Œå¦‚æœä»–å¾—åˆ°æ‰€æœ‰é¢å¤–çš„ç³–æœï¼ˆ<span class="number">3</span>ä¸ªï¼‰ï¼Œé‚£ä¹ˆä»–æ€»å…±æœ‰ <span class="number">5</span> ä¸ªç³–æœï¼Œä»–å°†æˆä¸ºæ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­ã€‚</span><br><span class="line">å­©å­ <span class="number">2</span> æœ‰ <span class="number">3</span> ä¸ªç³–æœï¼Œå¦‚æœä»–å¾—åˆ°è‡³å°‘ <span class="number">2</span> ä¸ªé¢å¤–ç³–æœï¼Œé‚£ä¹ˆä»–å°†æˆä¸ºæ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­ã€‚</span><br><span class="line">å­©å­ <span class="number">3</span> æœ‰ <span class="number">5</span> ä¸ªç³–æœï¼Œä»–å·²ç»æ˜¯æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­ã€‚</span><br><span class="line">å­©å­ <span class="number">4</span> æœ‰ <span class="number">1</span> ä¸ªç³–æœï¼Œå³ä½¿ä»–å¾—åˆ°æ‰€æœ‰é¢å¤–çš„ç³–æœï¼Œä»–ä¹Ÿåªæœ‰ <span class="number">4</span> ä¸ªç³–æœï¼Œæ— æ³•æˆä¸ºæ‹¥æœ‰ç³–æœæœ€å¤šçš„å­©å­ã€‚</span><br><span class="line">å­©å­ <span class="number">5</span> æœ‰ <span class="number">3</span> ä¸ªç³–æœï¼Œå¦‚æœä»–å¾—åˆ°è‡³å°‘ <span class="number">2</span> ä¸ªé¢å¤–ç³–æœï¼Œé‚£ä¹ˆä»–å°†æˆä¸ºæ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcandies = [<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>], extraCandies = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="literal">true</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>] </span><br><span class="line">è§£é‡Šï¼šåªæœ‰ <span class="number">1</span> ä¸ªé¢å¤–ç³–æœï¼Œæ‰€ä»¥ä¸ç®¡é¢å¤–ç³–æœç»™è°ï¼Œåªæœ‰å­©å­ <span class="number">1</span> å¯ä»¥æˆä¸ºæ‹¥æœ‰ç³–æœæœ€å¤šçš„å­©å­ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcandies = [<span class="number">12</span>,<span class="number">1</span>,<span class="number">12</span>], extraCandies = <span class="number">10</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="literal">true</span>,<span class="literal">false</span>,<span class="literal">true</span>]</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">æç¤ºï¼š</span><br><span class="line">+ `<span class="number">2</span> &lt;= candies.length &lt;= <span class="number">100</span>`</span><br><span class="line">+ `<span class="number">1</span> &lt;= candies[i] &lt;= <span class="number">100</span>`</span><br><span class="line">+ `<span class="number">1</span> &lt;= extraCandies &lt;= <span class="number">50</span>`</span><br><span class="line"></span><br><span class="line">### åœ°å€</span><br><span class="line">https:<span class="comment">//leetcode-cn.com/contest/biweekly-contest-25/problems/kids-with-the-greatest-number-of-candies/</span></span><br><span class="line">### é¢˜æ„</span><br><span class="line">&gt;  æš´åŠ›</span><br><span class="line">### æ€è·¯</span><br><span class="line"><span class="number">1.</span> é¦–å…ˆæ‰¾åˆ°æ•°ç»„ä¸­æœ€å¤§çš„æ•°`maxval`ï¼Œéå†æ•°ç»„æ¯ä¸ªå…ƒç´ ï¼Œå°†è¯¥å…ƒç´ ä¸`extra`ç›¸åŠ æ¯”è¾ƒä¸`maxval`çš„å¤§å°ï¼Œå¦‚æœæ¯”`maxval`å°åˆ™è¿”å›`<span class="literal">false</span>`ï¼Œå¦åˆ™ä¸º`<span class="literal">true</span>`.</span><br><span class="line">### ä»£ç </span><br><span class="line">```c++</span><br><span class="line"><span class="keyword">class</span> <span class="symbol">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;<span class="built_in">bool</span>&gt; kidsWithCandies(vector&lt;<span class="built_in">int</span>&gt;&amp; candies, <span class="built_in">int</span> extraCandies) &#123;</span><br><span class="line">        <span class="built_in">int</span> n = candies.size();</span><br><span class="line">        vector&lt;<span class="built_in">bool</span>&gt; res(n,<span class="literal">false</span>);</span><br><span class="line">        <span class="built_in">int</span> maxv = *max_element(candies.begin(),candies.end());</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(candies[i] + extraCandies &gt;= maxv)&#123;</span><br><span class="line">                res[i] = <span class="literal">true</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                res[i] = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h2 id="5385-æ”¹å˜ä¸€ä¸ªæ•´æ•°èƒ½å¾—åˆ°çš„æœ€å¤§å·®å€¼"><a href="#5385-æ”¹å˜ä¸€ä¸ªæ•´æ•°èƒ½å¾—åˆ°çš„æœ€å¤§å·®å€¼" class="headerlink" title="5385. æ”¹å˜ä¸€ä¸ªæ•´æ•°èƒ½å¾—åˆ°çš„æœ€å¤§å·®å€¼"></a>5385. æ”¹å˜ä¸€ä¸ªæ•´æ•°èƒ½å¾—åˆ°çš„æœ€å¤§å·®å€¼</h2><h3 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•° num ã€‚ä½ å¯ä»¥å¯¹å®ƒè¿›è¡Œå¦‚ä¸‹æ­¥éª¤æ°å¥½ ä¸¤æ¬¡ ï¼š</p><p>é€‰æ‹©ä¸€ä¸ªæ•°å­— <code>x (0 &lt;= x &lt;= 9)</code>.<br>é€‰æ‹©å¦ä¸€ä¸ªæ•°å­—<code>y (0 &lt;= y &lt;= 9)</code>ã€‚æ•°å­— <code>y</code>å¯ä»¥ç­‰äº<code>x</code> ã€‚<br>å°† num ä¸­æ‰€æœ‰å‡ºç° x çš„æ•°ä½éƒ½ç”¨ y æ›¿æ¢ã€‚<br>å¾—åˆ°çš„æ–°çš„æ•´æ•° ä¸èƒ½ æœ‰å‰å¯¼ 0 ï¼Œå¾—åˆ°çš„æ–°æ•´æ•°ä¹Ÿ ä¸èƒ½ æ˜¯ 0 ã€‚<br>ä»¤ä¸¤æ¬¡å¯¹<code>num</code>çš„æ“ä½œå¾—åˆ°çš„ç»“æœåˆ†åˆ«ä¸º <code>a</code>å’Œ <code>b</code>ã€‚</p><p>è¯·ä½ è¿”å› <code>a</code> å’Œ<code>b</code>çš„ æœ€å¤§å·®å€¼ ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnum = <span class="number">555</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">888</span></span><br><span class="line">è§£é‡Šï¼šç¬¬ä¸€æ¬¡é€‰æ‹© x = <span class="number">5</span> ä¸” y = <span class="number">9</span> ï¼Œå¹¶æŠŠå¾—åˆ°çš„æ–°æ•°å­—ä¿å­˜åœ¨ a ä¸­ã€‚</span><br><span class="line">ç¬¬äºŒæ¬¡é€‰æ‹© x = <span class="number">5</span> ä¸” y = <span class="number">1</span> ï¼Œå¹¶æŠŠå¾—åˆ°çš„æ–°æ•°å­—ä¿å­˜åœ¨ b ä¸­ã€‚</span><br><span class="line">ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ a = <span class="number">999</span> å’Œ b = <span class="number">111</span> ï¼Œæœ€å¤§å·®å€¼ä¸º <span class="number">888</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnum = <span class="number">9</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">8</span></span><br><span class="line">è§£é‡Šï¼šç¬¬ä¸€æ¬¡é€‰æ‹© x = <span class="number">9</span> ä¸” y = <span class="number">9</span> ï¼Œå¹¶æŠŠå¾—åˆ°çš„æ–°æ•°å­—ä¿å­˜åœ¨ a ä¸­ã€‚</span><br><span class="line">ç¬¬äºŒæ¬¡é€‰æ‹© x = <span class="number">9</span> ä¸” y = <span class="number">1</span> ï¼Œå¹¶æŠŠå¾—åˆ°çš„æ–°æ•°å­—ä¿å­˜åœ¨ b ä¸­ã€‚</span><br><span class="line">ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ a = <span class="number">9</span> å’Œ b = <span class="number">1</span> ï¼Œæœ€å¤§å·®å€¼ä¸º <span class="number">8</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnum = <span class="number">123456</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">820000</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnum = <span class="number">10000</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">80000</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 5ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnum = <span class="number">9288</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">8700</span></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">æç¤ºï¼š</span><br><span class="line">+ `<span class="number">1</span> &lt;= num &lt;= <span class="number">10</span>^<span class="number">8</span>`</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### åœ°å€</span><br><span class="line">https:<span class="comment">//leetcode-cn.com/contest/biweekly-contest-25/problems/max-difference-you-can-get-from-changing-an-integer/</span></span><br><span class="line">### é¢˜æ„</span><br><span class="line">&gt;  æ•°å­¦</span><br><span class="line">### æ€è·¯</span><br><span class="line"><span class="number">1.</span> æ‰€è°“æœ€å¤§çš„æ•°å³å°†ä»å·¦å¾€å³ç¬¬ä¸€ä¸ªå°äº**<span class="number">9</span>**çš„æ•°å­—æ”¹ä¸º**<span class="number">9</span>**.</span><br><span class="line"><span class="number">2.</span> æ‰€è°“æœ€å°çš„æ•°åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œå¦‚æœæœ€é«˜ä½ä¸ä¸º`<span class="number">1</span>`,å°†æ‰€æœ‰æœ€é«˜ä½ç›¸åŒçš„æ•°å­—æ”¹ä¸º**<span class="number">1</span>**;å¦‚æœæœ€é«˜ä½ä¸º`<span class="number">1</span>`,å°†ä»å·¦å¾€å³ç¬¬<span class="number">2</span>ä½å¼€å§‹ç¬¬ä¸€ä¸ªå¤§äº**<span class="number">1</span>**çš„æ•°å­—æ”¹ä¸º**<span class="number">0</span>**.</span><br><span class="line">### ä»£ç </span><br><span class="line">```c++</span><br><span class="line"><span class="keyword">class</span> <span class="symbol">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">int</span> minChange(<span class="built_in">int</span> num)&#123;</span><br><span class="line">        <span class="built_in">string</span> s = to_string(num);</span><br><span class="line">        char c;</span><br><span class="line">        <span class="built_in">int</span> last = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; s.size(); ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i] &gt; <span class="string">'1'</span>)&#123;</span><br><span class="line">                last = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(last == <span class="number">-1</span>) <span class="keyword">return</span> num;</span><br><span class="line">        c = s[last];</span><br><span class="line">        <span class="keyword">if</span>(last == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; s.size(); ++i)&#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i] == c) s[i] = <span class="string">'1'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; s.size(); ++i)&#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i] == c) s[i] = <span class="string">'0'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> stoi(s);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">int</span> maxChange(<span class="built_in">int</span> num)&#123;</span><br><span class="line">        <span class="built_in">string</span> s = to_string(num);</span><br><span class="line">        char c;</span><br><span class="line">        <span class="built_in">int</span> last = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; s.size(); ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i] &lt; <span class="string">'9'</span>)&#123;</span><br><span class="line">                last = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(last == <span class="number">-1</span>) <span class="keyword">return</span> num;</span><br><span class="line">        c = s[last];</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; s.size(); ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i] == c) s[i] = <span class="string">'9'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stoi(s);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">int</span> maxDiff(<span class="built_in">int</span> num) &#123;</span><br><span class="line">        cout&lt;&lt;maxChange(num)&lt;&lt;endl;</span><br><span class="line">        cout&lt;&lt;minChange(num)&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> maxChange(num) - minChange(num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h2 id="5386-æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å¯ä»¥æ‰“ç ´å¦ä¸€ä¸ªå­—ç¬¦ä¸²"><a href="#5386-æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å¯ä»¥æ‰“ç ´å¦ä¸€ä¸ªå­—ç¬¦ä¸²" class="headerlink" title="5386. æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å¯ä»¥æ‰“ç ´å¦ä¸€ä¸ªå­—ç¬¦ä¸²"></a>5386. æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å¯ä»¥æ‰“ç ´å¦ä¸€ä¸ªå­—ç¬¦ä¸²</h2><h3 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸²<code>s1</code> å’Œ <code>s2</code>ï¼Œå®ƒä»¬é•¿åº¦ç›¸ç­‰ï¼Œè¯·ä½ æ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ä¸ª s1  çš„æ’åˆ—å¯ä»¥æ‰“ç ´ s2 çš„ä¸€ä¸ªæ’åˆ—ï¼Œæˆ–è€…æ˜¯å¦å­˜åœ¨ä¸€ä¸ª s2 çš„æ’åˆ—å¯ä»¥æ‰“ç ´ s1 çš„ä¸€ä¸ªæ’åˆ—ã€‚</p><p>å­—ç¬¦ä¸² x å¯ä»¥æ‰“ç ´å­—ç¬¦ä¸² <code>y</code>ï¼ˆä¸¤è€…é•¿åº¦éƒ½ä¸º <code>n</code> ï¼‰éœ€æ»¡è¶³å¯¹äºæ‰€æœ‰ iï¼ˆåœ¨ <code>0</code> åˆ° <code>n - 1</code> ä¹‹é—´ï¼‰éƒ½æœ‰<code>x[i] &gt;= y[i]</code>ï¼ˆå­—å…¸åºæ„ä¹‰ä¸‹çš„é¡ºåºï¼‰ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="built_in">s1</span> = <span class="string">"abc"</span>, <span class="built_in">s2</span> = <span class="string">"xya"</span></span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼š<span class="string">"ayx"</span> æ˜¯ <span class="built_in">s2</span>=<span class="string">"xya"</span> çš„ä¸€ä¸ªæ’åˆ—ï¼Œ<span class="string">"abc"</span> æ˜¯å­—ç¬¦ä¸² <span class="built_in">s1</span>=<span class="string">"abc"</span> çš„ä¸€ä¸ªæ’åˆ—ï¼Œä¸” <span class="string">"ayx"</span> å¯ä»¥æ‰“ç ´ <span class="string">"abc"</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="built_in">s1</span> = <span class="string">"abe"</span>, <span class="built_in">s2</span> = <span class="string">"acd"</span></span><br><span class="line">è¾“å‡ºï¼šfalse </span><br><span class="line">è§£é‡Šï¼š<span class="built_in">s1</span>=<span class="string">"abe"</span> çš„æ‰€æœ‰æ’åˆ—åŒ…æ‹¬ï¼š<span class="string">"abe"</span>ï¼Œ<span class="string">"aeb"</span>ï¼Œ<span class="string">"bae"</span>ï¼Œ<span class="string">"bea"</span>ï¼Œ<span class="string">"eab"</span> å’Œ <span class="string">"eba"</span> ï¼Œ<span class="built_in">s2</span>=<span class="string">"acd"</span> çš„æ‰€æœ‰æ’åˆ—åŒ…æ‹¬ï¼š<span class="string">"acd"</span>ï¼Œ<span class="string">"adc"</span>ï¼Œ<span class="string">"cad"</span>ï¼Œ<span class="string">"cda"</span>ï¼Œ<span class="string">"dac"</span> å’Œ <span class="string">"dca"</span>ã€‚ç„¶è€Œæ²¡æœ‰ä»»ä½• <span class="built_in">s1</span> çš„æ’åˆ—å¯ä»¥æ‰“ç ´ <span class="built_in">s2</span> çš„æ’åˆ—ã€‚ä¹Ÿæ²¡æœ‰ <span class="built_in">s2</span> çš„æ’åˆ—èƒ½æ‰“ç ´ <span class="built_in">s1</span> çš„æ’åˆ—ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs1 = <span class="string">"leetcodee"</span>, s2 = <span class="string">"interview"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">æç¤ºï¼š</span><br><span class="line">+ `s1.length == n`</span><br><span class="line">+ `s2.length == n`</span><br><span class="line">+ `<span class="number">1</span> &lt;= n &lt;= <span class="number">10</span>^<span class="number">5</span>`</span><br><span class="line">+ æ‰€æœ‰å­—ç¬¦ä¸²éƒ½åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚</span><br><span class="line"></span><br><span class="line"><span class="meta">### åœ°å€</span></span><br><span class="line">https:<span class="comment">//leetcode-cn.com/contest/biweekly-contest-25/problems/check-if-a-string-can-break-another-string/</span></span><br><span class="line"><span class="meta">### é¢˜æ„</span></span><br><span class="line">&gt;  æ•°å­¦é—®é¢˜</span><br><span class="line"><span class="meta">### æ€è·¯</span></span><br><span class="line"><span class="number">1.</span> æˆ‘ä»¬å°†ä¸¤ä¸ªå­—ç¬¦ä¸²æŒ‰ç…§å­—ç¬¦å¤§å°æ’åºã€‚å®é™…ä¹Ÿä¸ºè´ªå¿ƒæ³•ï¼Œå¦‚æœå­—ç¬¦ä¸²`s`å­˜åœ¨ä¸¥æ ¼æ„ä¹‰ä¸Šæ¯ä¸€ä½å­—ç¬¦éƒ½æ¯”å­—ç¬¦ä¸²`t`çš„æ¯ä¸€ä½éƒ½å¤§ï¼Œæˆ–è€…å­—ç¬¦ä¸²`t`å­˜åœ¨ä¸¥æ ¼æ„ä¹‰ä¸Šæ¯ä¸€ä½å­—ç¬¦éƒ½æ¯”å­—ç¬¦ä¸²`s`çš„æ¯ä¸€ä½éƒ½å¤§ï¼Œåˆ™ä¸€å®šå­˜åœ¨ä¸¥æ ¼æ„ä¹‰ä¸Šçš„æ‰“ç ´æ’åºã€‚</span><br><span class="line"><span class="meta">### ä»£ç </span></span><br><span class="line">```c++</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">bool</span> checkIfCanBreak(<span class="keyword">string</span> s1, <span class="keyword">string</span> s2) &#123;</span><br><span class="line">        sort(s1.begin(),s1.end());</span><br><span class="line">        sort(s2.begin(),s2.end());</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">bool</span> ret1 = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">bool</span> ret2 = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s1.size(); ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s1[i] &lt; s2[i]) ret1 = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span>(s1[i] &gt; s2[i]) ret2 = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ret1||ret2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h2 id="5387-æ¯ä¸ªäººæˆ´ä¸åŒå¸½å­çš„æ–¹æ¡ˆæ•°"><a href="#5387-æ¯ä¸ªäººæˆ´ä¸åŒå¸½å­çš„æ–¹æ¡ˆæ•°" class="headerlink" title="5387. æ¯ä¸ªäººæˆ´ä¸åŒå¸½å­çš„æ–¹æ¡ˆæ•°"></a>5387. æ¯ä¸ªäººæˆ´ä¸åŒå¸½å­çš„æ–¹æ¡ˆæ•°</h2><h3 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>æ€»å…±æœ‰ <code>n</code> ä¸ªäººå’Œ <code>40</code>ç§ä¸åŒçš„å¸½å­ï¼Œå¸½å­ç¼–å·ä» 1 åˆ° 40 ã€‚</p><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°åˆ—è¡¨çš„åˆ—è¡¨ <code>hats</code> ï¼Œå…¶ä¸­ <code>hats[i]</code> æ˜¯ç¬¬ i ä¸ªäººæ‰€æœ‰å–œæ¬¢å¸½å­çš„åˆ—è¡¨ã€‚</p><p>è¯·ä½ ç»™æ¯ä¸ªäººå®‰æ’ä¸€é¡¶ä»–å–œæ¬¢çš„å¸½å­ï¼Œç¡®ä¿æ¯ä¸ªäººæˆ´çš„å¸½å­è·Ÿåˆ«äººéƒ½ä¸ä¸€æ ·ï¼Œå¹¶è¿”å›æ–¹æ¡ˆæ•°ã€‚</p><p>ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·è¿”å›å®ƒå¯¹ <code>10^9 + 7</code>å–ä½™åçš„ç»“æœã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhats = [[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">4</span>,<span class="number">5</span>],[<span class="number">5</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šç»™å®šæ¡ä»¶ä¸‹åªæœ‰ä¸€ç§æ–¹æ³•é€‰æ‹©å¸½å­ã€‚</span><br><span class="line">ç¬¬ä¸€ä¸ªäººé€‰æ‹©å¸½å­ <span class="number">3</span>ï¼Œç¬¬äºŒä¸ªäººé€‰æ‹©å¸½å­ <span class="number">4</span>ï¼Œæœ€åä¸€ä¸ªäººé€‰æ‹©å¸½å­ <span class="number">5</span>ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhats = [[<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>],[<span class="number">3</span>,<span class="number">5</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šæ€»å…±æœ‰ <span class="number">4</span> ç§å®‰æ’å¸½å­çš„æ–¹æ³•ï¼š</span><br><span class="line">(<span class="number">3</span>,<span class="number">5</span>)ï¼Œ(<span class="number">5</span>,<span class="number">3</span>)ï¼Œ(<span class="number">1</span>,<span class="number">3</span>) å’Œ (<span class="number">1</span>,<span class="number">5</span>)</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhats = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">24</span></span><br><span class="line">è§£é‡Šï¼šæ¯ä¸ªäººéƒ½å¯ä»¥ä»ç¼–å·ä¸º <span class="number">1</span> åˆ° <span class="number">4</span> çš„å¸½å­ä¸­é€‰ã€‚</span><br><span class="line">(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>) <span class="number">4</span> ä¸ªå¸½å­çš„æ’åˆ—æ–¹æ¡ˆæ•°ä¸º <span class="number">24</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhats = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">1</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">9</span>],[<span class="number">1</span>,<span class="number">8</span>,<span class="number">9</span>],[<span class="number">2</span>,<span class="number">5</span>,<span class="number">7</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">111</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>n == hats.length</code></li><li><code>1 &lt;= n &lt;= 10</code></li><li><code>1 &lt;= hats[i].length &lt;= 40</code></li><li><code>1 &lt;= hats[i][j] &lt;= 40</code></li><li><code>hats[i]</code> åŒ…å«ä¸€ä¸ªæ•°å­—äº’ä¸ç›¸åŒçš„æ•´æ•°åˆ—è¡¨ã€‚</li></ul><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/number-of-ways-to-wear-different-hats-to-each-other" target="_blank" rel="noopener">https://leetcode-cn.com/problems/number-of-ways-to-wear-different-hats-to-each-other</a></p><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  çŠ¶æ€å‹ç¼© + åŠ¨æ€è§„åˆ’</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>å¯¹äº<code>leetcode</code>ä¸Šçš„é¢˜ç›®åšå¤šäº†çš„è¯ï¼Œæœ¬é¢˜ä¸€çœ‹å°±çŸ¥é“è¦ç”¨çŠ¶æ€å‹ç¼©dp.æœ¬æ¥æˆ‘ä»¥ä¸ºæœ¬é¢˜ä¼šå‡ºä¸€ä¸ªç±»ä¼¼äºæœ€å¤§äºŒåˆ†å›¾çš„é¢˜ç›®ï¼Œå¯ä»¥ç”¨æœ€å¤§æµæ¥è§£å†³ã€‚è¿™ç§é¢˜ç›®åŸºæœ¬ä¸Šå·²ç»éå¸¸å¸¸è§äº†ï¼Œè¿™ä¸ªé¢˜ç›®åœ¨lcå¹³å°ä¸Šå·²ç»å‡ºç°äº†å¾ˆå¤šæ¬¡ã€‚lcå¹³å°ç‰¹åˆ«å–œæ¬¢å‡ºè¿™ç§çŠ¶æ€å‹ç¼©çš„dpã€‚æ¯”å¦‚å…¸å‹çš„ï¼š</li></ol><ul><li><a href="https://leetcode-cn.com/problems/maximum-students-taking-exam/" target="_blank" rel="noopener">1349. å‚åŠ è€ƒè¯•çš„æœ€å¤§å­¦ç”Ÿæ•°</a></li><li><a href="https://leetcode-cn.com/problems/find-the-shortest-superstring/" target="_blank" rel="noopener">943. æœ€çŸ­è¶…çº§ä¸²</a></li><li><a href="https://leetcode-cn.com/problems/number-of-ways-to-paint-n-x-3-grid/" target="_blank" rel="noopener">1411. ç»™ N x 3 ç½‘æ ¼å›¾æ¶‚è‰²çš„æ–¹æ¡ˆæ•°</a></li><li><a href="https://leetcode-cn.com/problems/shortest-path-to-get-all-keys/" target="_blank" rel="noopener">864. è·å–æ‰€æœ‰é’¥åŒ™çš„æœ€çŸ­è·¯å¾„</a></li></ul><ol><li>ç¨å¾®å¤æ‚ç‚¹ï¼Œè¿™æ¬¡ç¨å¾®è¿·æƒ‘çš„æ˜¯çŠ¶æ€å®šä¹‰ã€‚å¸¸è§„æ€è·¯è‚¯å®šæ˜¯<code>n</code>ä¸ªäººé€‰<code>m</code>ç§é¢œè‰²,<code>m</code>ç§é¢œè‰²çš„é€‰æ‹©ä½œä¸ºä¸€ä¸ªçŠ¶æ€ï¼Œä½†æ˜¯è¿™ä¸ªé¢˜ç›®ç»™çš„æ•°æ®æ˜¯é¢œè‰²çš„ç§ç±»è¿œå¤§äºäººçš„æ•°ç›®ï¼Œæ‰€ä»¥æŒ‰ç…§è¿™ç§å¸¸è§„æ€è·¯è‚¯å®šä¼šå‡ºç°è¶…æ—¶ã€‚åè¿‡æ¥æ¥çœ‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·çœ‹å¾…ï¼Œ<code>m</code>ç§é¢œè‰²éœ€è¦é€‰æ‹©<code>n</code>ä¸ªäººè¿›è¡Œåˆ†é…ï¼Œè®¡ç®—æ¯ä¸ªäººéƒ½èƒ½åˆ†é…åˆ°ä¸€ç§é¢œè‰²çš„æ–¹æ¡ˆæ•°ç›®ï¼Œè¿™æ ·å®é™…ç­‰æ•ˆè¿‡ç¨‹æ˜¯ä¸€æ ·çš„ã€‚</li><li>æˆ‘ä»¬è®¾é€’æ¨å…¬å¼ä½<code>dp[i][state]</code>,ä»£è¡¨å‰<code>i</code>ä¸ªå…ƒç´ åˆ†ä¸ºç»™<code>state</code>ä»£è¡¨çš„ä½å›¾çš„äººæ•°çš„æ–¹æ¡ˆæ•°,æˆ‘ä»¬å¯ä»¥çŸ¥é“å½“åŠ å…¥ç¬¬<code>i+1</code>ç§é¢œè‰²æ—¶ï¼Œè¦ä¹ˆè¯¥é¢œè‰²ä¸åˆ†é…ç»™ä»»ä½•äººï¼Œè¦ä¹ˆå°†è¯¥é¢œè‰²åˆ†é…ç»™å…è®¸è¯¥é¢œè‰²çš„äºº<code>p</code>,ä¸”å‰<code>i-1</code>ç§é¢œè‰²æœªåˆ†é…ç»™<code>p</code>ã€‚<script type="math/tex; mode=display">dp[i][state] = dp[i-1][state] + \sum_{j = 1}^{n}dp[i-1][state-(1<<j)] \qquad if \quad valid[i][j] = true</script><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">bitTst</span><span class="params">(<span class="keyword">int</span> mask,<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>((mask&amp;(<span class="number">1</span>&lt;&lt;n))&gt;&gt;n) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">bitSet</span><span class="params">(<span class="keyword">int</span> mask,<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mask|(<span class="number">1</span>&lt;&lt;n);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">bitClr</span><span class="params">(<span class="keyword">int</span> mask,<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mask&amp;(~(<span class="number">1</span>&lt;&lt;n));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numberWays</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; hats)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = hats.size();</span><br><span class="line">        <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line">        <span class="keyword">int</span> m = <span class="number">1</span>&lt;&lt;n;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(<span class="number">41</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">1</span>&lt;&lt;n,<span class="number">0</span>));</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt; valid(<span class="number">41</span>,<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;(n,<span class="literal">false</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; hats[i].size(); ++j)&#123;</span><br><span class="line">                valid[hats[i][j]][i] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">40</span>; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; ++j)&#123;</span><br><span class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j];</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; n; ++k)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(bitTst(j,k)&amp;&amp;valid[i][k])&#123;</span><br><span class="line">                        dp[i][j] = (dp[i][j] + dp[i<span class="number">-1</span>][bitClr(j,k)])%mod;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">40</span>][m<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;25å‘¨æ¯”èµ›&quot;&gt;&lt;a href=&quot;#25å‘¨æ¯”èµ›&quot; class=&quot;headerlink&quot; title=&quot;25å‘¨æ¯”èµ›&quot;&gt;&lt;/a&gt;25å‘¨æ¯”èµ›&lt;/h1&gt;&lt;p&gt;åŒå‘¨èµ›çš„é¢˜ç›®éš¾åº¦æ¯”å‘¨èµ›ç¨å¾®å·®ç‚¹&lt;/p&gt;&lt;h2 id=&quot;5384-æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­&quot;&gt;&lt;a href=&quot;#5384-æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­&quot; class=&quot;headerlink&quot; title=&quot;5384. æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­&quot;&gt;&lt;/a&gt;5384. æ‹¥æœ‰æœ€å¤šç³–æœçš„å­©å­&lt;/h2&gt;&lt;h3 id=&quot;é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®&quot;&gt;&lt;/a&gt;é¢˜ç›®&lt;/h3&gt;&lt;p&gt;ç»™ä½ ä¸€ä¸ªæ•°ç»„ &lt;code&gt;candies&lt;/code&gt;å’Œä¸€ä¸ªæ•´æ•° &lt;code&gt;extraCandies&lt;/code&gt;ï¼Œå…¶ä¸­ &lt;code&gt;candies[i]&lt;/code&gt; ä»£è¡¨ç¬¬ i ä¸ªå­©å­æ‹¥æœ‰çš„ç³–æœæ•°ç›®ã€‚&lt;/p&gt;&lt;p&gt;å¯¹æ¯ä¸€ä¸ªå­©å­ï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ç§æ–¹æ¡ˆï¼Œå°†é¢å¤–çš„ &lt;code&gt;extraCandies&lt;/code&gt;ä¸ªç³–æœåˆ†é…ç»™å­©å­ä»¬ä¹‹åï¼Œæ­¤å­©å­æœ‰ æœ€å¤š çš„ç³–æœã€‚æ³¨æ„ï¼Œå…è®¸æœ‰å¤šä¸ªå­©å­åŒæ—¶æ‹¥æœ‰ æœ€å¤š çš„ç³–æœæ•°ç›®ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>ã€Courseraã€‘ ç®—æ³•è¯¾ç¨‹ã€ŠAlgorithmic Toolboxã€‹</title>
    <link href="http://yoursite.com/2020/05/02/156/"/>
    <id>http://yoursite.com/2020/05/02/156/</id>
    <published>2020-05-02T10:23:04.359Z</published>
    <updated>2020-05-02T10:51:58.797Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Algorithmic-Toolbox"><a href="#Algorithmic-Toolbox" class="headerlink" title="Algorithmic Toolbox"></a>Algorithmic Toolbox</h1><p>æœ€è¿‘å‡†å¤‡å­¦ä¹ <code>coursera</code>ä¸Šçš„ã€Šç®—æ³•ä¸æ•°æ®ç»“æ„ç³»åˆ—è¯¾ç¨‹ã€‹ï¼Œç›®å‰å·²ç»æŠŠç¬¬ä¸€éƒ¨åˆ†è¯¾ç¨‹ã€ŠAlgorithmic Toolboxã€‹å­¦ä¹ å®Œäº†ï¼Œè¿™éƒ¨åˆ†çš„è¯¾ç¨‹éš¾åº¦æ¯”è¾ƒä½ï¼Œé™¤äº†æœ‰å‡ é“é¢˜ç›®ç¨å¾®æ¯”è¾ƒ<code>trikly</code>ä»¥å¤–ï¼Œå…¶ä½™çš„éƒ½æ˜¯åŸºæœ¬é¢˜ç›®ã€‚å¾—åˆ†æ˜¯<code>100</code> åˆ†ï¼Œè¯ä¹¦å¦‚ä¸‹ï¼š<br><a href="https://www.coursera.org/account/accomplishments/certificate/XNSXA54YM3ST" target="_blank" rel="noopener">Algorithmic Toolbox</a><br>ä¸‹é¢å°†è¯¥è¯¾ç¨‹çš„é¢˜ç›®çš„è§£æ³•ã€‚<br>è¯¥è¯¾ç¨‹æ‰€æœ‰æäº¤çš„ä»£ç å¦‚ä¸‹ï¼š<br><a href="https://github.com/mike-box/coursera/tree/master/Algorithmic%20Toolbox" target="_blank" rel="noopener">source code</a></p><a id="more"></a><h2 id="week1"><a href="#week1" class="headerlink" title="week1"></a>week1</h2><h3 id="1-Sum-of-Two-Digits"><a href="#1-Sum-of-Two-Digits" class="headerlink" title="1. Sum of Two Digits"></a>1. Sum of Two Digits</h3><p>We start from this ridiculously simple problem to show you the<br>pipeline of reading the problem statement, designing an algorithm, implementing<br>it, testing and debugging your program, and submitting it to<br>the grading system.<br>Input format. Integers a and b on the same line (separated by a space).<br>Output format. The sum of a and b.<br>Constraints. 0  a;b  9.<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Sample.</span><br><span class="line">Input:</span><br><span class="line"><span class="number">9</span> <span class="number">7</span></span><br><span class="line">Output:</span><br><span class="line"><span class="number">16</span></span><br></pre></td></tr></table></figure></p><h4 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h4><blockquote><p> ç›´æ¥ç›¸åŠ </p><h4 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>ç›¸åŠ å³å¯<h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum_of_two_digits</span><span class="params">(<span class="keyword">int</span> first_digit, <span class="keyword">int</span> second_digit)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> first_digit + second_digit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; a;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; b;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; sum_of_two_digits(a, b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h3 id="2-Maximum-Pairwise-Product"><a href="#2-Maximum-Pairwise-Product" class="headerlink" title="2 Maximum Pairwise Product"></a>2 Maximum Pairwise Product</h3><p>Given a sequence of non-negative integers a1; : : : ;an, compute<br>max<br>1i,jn<br>ai  aj :<br>Note that i and j should be different, though it may be the case that ai = aj .<br>Input format. The first line contains an integer n. The next line contains<br>n non-negative integers a1; : : : ;an (separated by spaces).<br>Output format. The maximum pairwise product.<br>Constraints. 2  n  2  105; 0  a1; : : : ;an  2  105.</p><p>Sample 1.<br>Input:<br><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span></span><br><span class="line"><span class="symbol">1 </span><span class="number">2</span> <span class="number">3</span></span><br></pre></td></tr></table></figure><br>Output:<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure></p><h4 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><p>1.æ‰¾åˆ°äºŒç»´æ•°ç»„ä¸­çš„æœ€å¤§çš„ä¸¤ä¸ªå…ƒç´ å³å¯ï¼Œè¿”å›ä»–ä»¬çš„ä¹˜ç§¯ï¼Œæ—¶é—´å¤æ‚åº¦$O(n)$ã€‚</p><h4 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">MaxPairwiseProduct</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; numbers)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = numbers.size();</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> first = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> second = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> max_product = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(numbers[i] &gt; first)&#123;</span><br><span class="line">            second = first;</span><br><span class="line">            first = numbers[i];</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(numbers[i] &gt; second)&#123;</span><br><span class="line">            second = numbers[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> first*second;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; numbers(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; numbers[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; MaxPairwiseProduct(numbers) &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="week2"><a href="#week2" class="headerlink" title="week2"></a>week2</h2><h3 id="Fibonacci-Number"><a href="#Fibonacci-Number" class="headerlink" title="Fibonacci Number"></a>Fibonacci Number</h3><p>Given an integer ğ‘›, find the ğ‘›th Fibonacci number ğ¹ğ‘›.</p><h4 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>éå¸¸ç®€å•äº†ï¼Œæ‰¾åˆ°ç¬¬<code>n</code>ä¸ªæ–æ³¢é‚£å¥‘æ•°ã€‚<h4 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The following code calls a naive algorithm for computing a Fibonacci number.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// What to do:</span></span><br><span class="line"><span class="comment">// 1. Compile the following code and run it on an input "40" to check that it is slow.</span></span><br><span class="line"><span class="comment">//    You may also want to submit it to the grader to ensure that it gets the "time limit exceeded" message.</span></span><br><span class="line"><span class="comment">// 2. Implement the fibonacci_fast procedure.</span></span><br><span class="line"><span class="comment">// 3. Remove the line that prints the result of the naive algorithm, comment the lines reading the input,</span></span><br><span class="line"><span class="comment">//    uncomment the line with a call to test_solution, compile the program, and run it.</span></span><br><span class="line"><span class="comment">//    This will ensure that your efficient algorithm returns the same as the naive one for small values of n.</span></span><br><span class="line"><span class="comment">// 4. If test_solution() reveals a bug in your implementation, debug it, fix it, and repeat step 3.</span></span><br><span class="line"><span class="comment">// 5. Remove the call to test_solution, uncomment the line with a call to fibonacci_fast (and the lines reading the input),</span></span><br><span class="line"><span class="comment">//    and submit it to the grader.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fibonacci_naive</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> fibonacci_naive(n - <span class="number">1</span>) + fibonacci_naive(n - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">fibonacci_fast</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// write your code here</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> f1 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> f2 = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> f3 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">1</span>) <span class="keyword">return</span> n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        f3 = f2 + f1;</span><br><span class="line">        f1 = f2;</span><br><span class="line">        f2 = f3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> f3;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test_solution</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    assert(fibonacci_fast(<span class="number">3</span>) == <span class="number">2</span>);</span><br><span class="line">    assert(fibonacci_fast(<span class="number">10</span>) == <span class="number">55</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">0</span>; n &lt; <span class="number">20</span>; ++n)</span><br><span class="line">        assert(fibonacci_fast(n) == fibonacci_naive(n));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//std::cout &lt;&lt; fibonacci_naive(n) &lt;&lt; '\n';</span></span><br><span class="line">    <span class="comment">//test_solution();</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; fibonacci_fast(n) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="2-Last-Digit-of-a-Large-Fibonacci-Number"><a href="#2-Last-Digit-of-a-Large-Fibonacci-Number" class="headerlink" title="2 Last Digit of a Large Fibonacci Number"></a>2 Last Digit of a Large Fibonacci Number</h3><p>Your goal in this problem is to find the last digit of ğ‘›-th Fibonacci number. Recall that Fibonacci numbers<br>grow exponentially fast. For example,<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ğ¹<span class="number">200</span> = <span class="number">280</span> <span class="number">571</span> <span class="number">172</span> <span class="number">992</span> <span class="number">510</span> <span class="number">140</span> <span class="number">037</span> <span class="number">611</span> <span class="number">932</span> <span class="number">413</span> <span class="number">038</span> <span class="number">677</span> <span class="number">189</span> <span class="number">525</span> .</span><br></pre></td></tr></table></figure></p><h4 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>æ‰¾åˆ°æ–æ³¢é‚£å¥‘æ•°çš„ä¸ªä½æ•°ã€‚</li><li>æˆ‘ä»¬ç›´æ¥å¯¹æ¯ä¸€ä½å–æ¨¡å³å¯ã€‚<h4 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_fibonacci_last_digit_naive</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">1</span>) <span class="keyword">return</span> n;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> previous = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> current  = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> tmp_previous = previous%<span class="number">10</span>;</span><br><span class="line">        previous = current%<span class="number">10</span>;</span><br><span class="line">        current = (tmp_previous + current)%<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> current % <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">int</span> c = get_fibonacci_last_digit_naive(n);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; c &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-Greatest-Common-Divisor"><a href="#3-Greatest-Common-Divisor" class="headerlink" title="3 Greatest Common Divisor"></a>3 Greatest Common Divisor</h3>The greatest common divisor GCD(ğ‘, ğ‘) of two non-negative integers ğ‘ and ğ‘<br>(which are not both equal to 0) is the greatest integer ğ‘‘ that divides both ğ‘ and ğ‘.<br>Your goal in this problem is to implement the Euclidean algorithm for computing<br>the greatest common divisor.<br>Efficient algorithm for computing the greatest common divisor is an important<br>basic primitive of commonly used cryptographic algorithms like RSA.</li></ol><h4 id="æ€è·¯-4"><a href="#æ€è·¯-4" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>ç‰›é¡¿æ³•æ‰¾åˆ°ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°å³å¯ã€‚<h4 id="ä»£ç -4"><a href="#ä»£ç -4" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd_naive</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a &lt; b) <span class="keyword">return</span> gcd_naive(b,a);</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> gcd_naive(a%b,b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> a, b;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; gcd_naive(a, b) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="4-Least-Common-Multiple"><a href="#4-Least-Common-Multiple" class="headerlink" title="4 Least Common Multiple"></a>4 Least Common Multiple</h3><p>Given two integers ğ‘ and ğ‘, find their least common multiple.</p><h4 id="æ€è·¯-5"><a href="#æ€è·¯-5" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>æ‰¾åˆ°ä¸¤ä¸ªæ•°çš„æœ€å°å…¬å€æ•°ã€‚</li><li>å…ˆæ‰¾ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°ï¼Œç„¶åä¹˜ä»¥ä»–ä»¬å„è‡ªé™¤ä»¥æœ€å¤§å…¬çº¦æ•°çš„ç»“æœã€‚<h4 id="ä»£ç -5"><a href="#ä»£ç -5" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd_fast</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a &lt; b) <span class="keyword">return</span> gcd_fast(b,a);</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> gcd_fast(a%b,b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">lcm_naive</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">long</span> l = <span class="number">1</span>; l &lt;= (<span class="keyword">long</span> <span class="keyword">long</span>) a * b; ++l)</span><br><span class="line">    <span class="keyword">if</span> (l % a == <span class="number">0</span> &amp;&amp; l % b == <span class="number">0</span>)</span><br><span class="line">      <span class="keyword">return</span> l;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (<span class="keyword">long</span> <span class="keyword">long</span>) a * b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">lcm_fast</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a, <span class="keyword">long</span> <span class="keyword">long</span> b)</span> </span>&#123;  </span><br><span class="line">  <span class="keyword">return</span> (<span class="keyword">long</span> <span class="keyword">long</span>) (a * b)/gcd_fast(a,b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test_solution</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    assert(lcm_fast(<span class="number">6</span>,<span class="number">8</span>) == <span class="number">24</span>);</span><br><span class="line">    assert(lcm_fast(<span class="number">761457</span>,<span class="number">614573</span>) == <span class="number">467970912861</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> a, b;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b;</span><br><span class="line">  test_solution();</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; lcm_fast(a, b) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-Fibonacci-Number-Again"><a href="#5-Fibonacci-Number-Again" class="headerlink" title="5 Fibonacci Number Again"></a>5 Fibonacci Number Again</h3>In this problem, your goal is to compute ğ¹ğ‘› modulo ğ‘š, where ğ‘› may be really huge: up to 1014. For such<br>values of ğ‘›, an algorithm looping for ğ‘› iterations will not fit into one second for sure. Therefore we need to<br>avoid such a loop.<br>To get an idea how to solve this problem without going through all ğ¹ğ‘– for ğ‘– from 0 to ğ‘›, letâ€™s see what<br>happens when ğ‘š is small â€” say, ğ‘š = 2 or ğ‘š = 3.</li></ol><h4 id="æ€è·¯-6"><a href="#æ€è·¯-6" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>ç”¨æ•°å­¦æ–¹æ³•å¯ä»¥è¯æ˜æ–æ³¢é‚£å¥‘æ•°åˆ—å¯¹æŸä¸ªè‡ªç„¶æ•°å–æ¨¡åçš„ç»“æœä¸€å®šå­˜åœ¨å¾ªç¯ï¼Œæ•°å­¦è¯æ˜æ–¹æ³•æ¯”è¾ƒå¤æ‚å°±ä¸å±•å¼€è®²äº†ï¼ŒçŸ¥é“å®ƒè‚¯å®šä¼šå¾ªç¯ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°å®ƒçš„å¾ªç¯å‘¨æœŸ<code>T</code>,åˆ™åç»­å¤„ç†å°±éå¸¸ç®€å•ã€‚</li><li>æˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°è¿ç»­çš„ä¸¤ä¸ªæ•°å–æ¨¡åçš„ç»“æœåˆ†åˆ«ä¸º<code>0,1</code>è¿™å³ä¸ºå¾ªç¯åºåˆ—çš„å¼€å§‹ï¼Œé¢˜ç›®ç¨å¾®æœ‰ç‚¹å¤æ‚ã€‚<h4 id="ä»£ç -6"><a href="#ä»£ç -6" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">get_pisano_period</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> m)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(m &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> previous = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> current  = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">long</span> <span class="keyword">long</span> i = <span class="number">0</span>; i &lt; (m*m); ++i) &#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> tmp_previous = previous;</span><br><span class="line">        previous = current;</span><br><span class="line">        current = (tmp_previous + current)%m;</span><br><span class="line">        <span class="keyword">if</span>(previous == <span class="number">0</span> &amp;&amp; current == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> i+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">get_fibonacci_huge_naive</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> n, <span class="keyword">long</span> <span class="keyword">long</span> m)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> previous = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> current  = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> sum = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> period = get_pisano_period(m);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> mod = n%period;</span><br><span class="line">    <span class="keyword">if</span>(mod == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(mod == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">long</span> <span class="keyword">long</span> i = <span class="number">0</span>; i &lt; mod<span class="number">-1</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> tmp_previous = previous;</span><br><span class="line">        previous = current;</span><br><span class="line">        current = (tmp_previous + current)%m;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> current;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n, m;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; get_fibonacci_huge_naive(n, m) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="6-8-Last-Digit-of-the-Sum-of-Fibonacci-Numbers"><a href="#6-8-Last-Digit-of-the-Sum-of-Fibonacci-Numbers" class="headerlink" title="6-8 Last Digit of the Sum of Fibonacci Numbers"></a>6-8 Last Digit of the Sum of Fibonacci Numbers</h3><p>The goal in this problem is to find the last digit of a sum of the first ğ‘› Fibonacci numbers.</p><h4 id="æ€è·¯-7"><a href="#æ€è·¯-7" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>å¦‚æœä¼šè§£å†³ç¬¬5é¢˜ï¼Œåé¢çš„ä¸‰é“é¢˜ç›®éƒ½éå¸¸ç®€å•ï¼Œåœ¨è¿™é‡Œå°±ä¸è´´è¯¦ç»†çš„ä»£ç ã€‚</li><li>ä¸»è¦æ˜¯åˆ©ç”¨æ–æ³¢é‚£å¥‘æ•°åˆ—å–æ¨¡åçš„å¾ªç¯æ•°åˆ—çš„æŠ€å·§ï¼Œåˆ†åˆ«æ±‚å³å¯ã€‚</li></ol><h2 id="week-3-Greedy-Algorithms"><a href="#week-3-Greedy-Algorithms" class="headerlink" title="week 3 Greedy Algorithms"></a>week 3 Greedy Algorithms</h2><p>è´ªå¿ƒç®—æ³•ä¹Ÿæ˜¯éå¸¸å¸¸è§å’Œåº”ç”¨çš„ç®—æ³•ï¼Œå‰1-5é¢˜éå¸¸ç®€å•ã€‚é‡ç‚¹éœ€è¦å±•å¼€è®²è¿°ä¸€ä¸‹6-7é¢˜ã€‚</p><h3 id="6-Maximum-Number-of-Prizes"><a href="#6-Maximum-Number-of-Prizes" class="headerlink" title="6 Maximum Number of Prizes"></a>6 Maximum Number of Prizes</h3><p>You are organizing a funny competition for children. As a prize fund you have ğ‘›<br>candies. You would like to use these candies for top ğ‘˜ places in a competition<br>with a natural restriction that a higher place gets a larger number of candies.<br>To make as many children happy as possible, you are going to find the largest<br>value of ğ‘˜ for which it is possible.</p><h4 id="æ€è·¯-8"><a href="#æ€è·¯-8" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>æˆ‘ä»¬ä»<code>1</code>å¼€å§‹é¡ºåºçš„åŠ å…¥è‡ªç„¶æ•°å³å¯ï¼Œç›´åˆ°åŠ å…¥ç¬¬<code>i-1</code>ä¸ªæ•°åï¼Œå‰©ä½™çš„å…ƒç´ åº”è¯¥å¤§äºç­‰äº<code>i</code>.<script type="math/tex; mode=display">i \le n - (i-1)*i/2</script></li><li>æœ¬è´¨ä¹Ÿæ˜¯è´ªå¿ƒç®—æ³•<h4 id="ä»£ç -7"><a href="#ä»£ç -7" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; optimal_summands(<span class="keyword">int</span> n) &#123;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; summands;</span><br><span class="line">  <span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">      <span class="keyword">int</span> rest = n - (i*(i+<span class="number">1</span>)/<span class="number">2</span>);</span><br><span class="line">      <span class="keyword">if</span>(rest &lt;= i)&#123;</span><br><span class="line">          <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; i; ++j)&#123;</span><br><span class="line">              summands.push_back(j);</span><br><span class="line">          &#125;</span><br><span class="line">          summands.push_back(n-(i<span class="number">-1</span>)*i/<span class="number">2</span>);</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> summands;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; summands = optimal_summands(n);</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; summands.size() &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; summands.size(); ++i) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; summands[i] &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-Maximum-Salary"><a href="#7-Maximum-Salary" class="headerlink" title="7 Maximum Salary"></a>7 Maximum Salary</h3><strong>Task</strong>. Compose the largest number out of a set of integers.<br><strong>Input Format</strong>. The first line of the input contains an integer ğ‘›. The second line contains integers<br>ğ‘1, ğ‘2, . . . , ğ‘ğ‘›.<br><strong>Constraints</strong>. 1 â‰¤ ğ‘› â‰¤ 100; 1 â‰¤ ğ‘ğ‘– â‰¤ 103 for all 1 â‰¤ ğ‘– â‰¤ ğ‘›.<br><strong>Output Format</strong>. Output the largest number that can be composed out of ğ‘1, ğ‘2, . . . , ğ‘ğ‘›.<br><strong>Sample 1</strong>.<br>Input:<figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span></span><br><span class="line"><span class="symbol">21 </span><span class="number">2</span></span><br></pre></td></tr></table></figure>Output:<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">221</span></span><br></pre></td></tr></table></figure>Note that in this case the above algorithm also returns an incorrect answer <code>212</code>.<h4 id="æ€è·¯-9"><a href="#æ€è·¯-9" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4></li><li>ä»”ç»†çœ‹ä¸‹ä¼¼ä¹æ¯”è¾ƒéº»çƒ¦ï¼Œä½†æ˜¯å®é™…ä¸Šå¾ˆç®€å•ï¼Œæˆ‘ä»¬é‡‡å–è´ªå¿ƒçš„ç®—æ³•ï¼Œå°†å­—å…¸åºç»„åˆæœ€å¤§çš„æ’åœ¨å‰é¢å³å¯ã€‚æˆ‘ä»¬å°†å­—ç¬¦ä¸²æŒ‰ç…§<code>s1,s2</code>å¦‚ä¸‹é¡ºåºè¿›è¡Œæ’åˆ—ï¼š<script type="math/tex; mode=display">(s1 + s2) > (s2 + s1)</script></li><li>æˆ‘ä»¬ç›´æ¥æ’åºç„¶åè¾“å‡ºå­—ç¬¦ä¸²å³å¯ï¼Œå½“ç„¶äº†è¿™æ˜¯<code>leetcode</code>ä¸Šçš„åŸé¢˜ã€‚<h5 id="ä»£ç -8"><a href="#ä»£ç -8" class="headerlink" title="ä»£ç "></a>ä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="built_in">string</span> &amp; a,<span class="built_in">string</span> &amp; b)</span></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s1 = a + b;</span><br><span class="line">    <span class="built_in">string</span> s2 = b + a;</span><br><span class="line">    <span class="keyword">return</span> s1 &gt; s2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">largest_number</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; a)</span> </span>&#123;</span><br><span class="line">  <span class="comment">//write your code here</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">stringstream</span> ret;</span><br><span class="line">  sort(a.begin(),a.end(),cmp);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; a.size(); i++) &#123;</span><br><span class="line">    ret &lt;&lt; a[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">string</span> result;</span><br><span class="line">  ret &gt;&gt; result;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; a(n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; a.size(); i++) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; largest_number(a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="week4-Divide-and-Conquer"><a href="#week4-Divide-and-Conquer" class="headerlink" title="week4: Divide-and-Conquer"></a>week4: Divide-and-Conquer</h2><p>è¿™ä¸€ç« ä¸»è¦æ˜¯å°†åˆ†æ²»æ³•ï¼Œä¸»è¦æ¶‰åŠçš„å†…å®¹æœ‰äºŒåˆ†æŸ¥æ‰¾å’Œå½’å¹¶æ’åºçš„åº”ç”¨ã€‚éå¸¸éå¸¸é‡è¦çš„åŸºç¡€ç®—æ³•åº”ç”¨ã€‚é¢˜ç›®ç¨å¾®æ¯”è¾ƒéš¾ã€‚å‰2é¢˜æ¯”è¾ƒç®€å•ï¼Œé‡ç‚¹æŠŠå4é¢˜ç¨å¾®æ€è€ƒä¸€ä¸‹ã€‚<br>åˆ†æ²»æ³•çš„æ ¸å¿ƒæ€è·¯ä¹Ÿæ˜¯é€’å½’ã€‚å°†ä¸€ä¸ªå¤§çš„<strong>task</strong>åˆ’åˆ†æˆä¸ºnä¸ªå°çš„<strong>task</strong>å³å¯ã€‚ç„¶åå†å¯¹<code>n</code>ä¸ª<strong>task</strong>è¿›è¡Œå½’å¹¶è°ƒåº¦å³å¯ã€‚</p><h3 id="3-Improving-Quick-Sort"><a href="#3-Improving-Quick-Sort" class="headerlink" title="3 Improving Quick Sort"></a>3 Improving Quick Sort</h3><p>To force the given implementation of the quick sort algorithm to efficiently process sequences with<br>few unique elements, your goal is replace a 2-way partition with a 3-way partition. That is, your new<br>partition procedure should partition the array into three parts: &lt; ğ‘¥ part, = ğ‘¥ part, and &gt; ğ‘¥ part.</p><h4 id="æ€è·¯-10"><a href="#æ€è·¯-10" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>å¯¹å¿«é€Ÿæ’åºçš„æ”¹è¿›ï¼Œå®é™…ä¹Ÿæ˜¯æ‰€è°“çš„<strong>3-way-partion</strong>ï¼Œæ¯æ¬¡å°†æ•°ç»„åˆ’åˆ†ä¸º3éƒ¨åˆ†ï¼Œå³å°äº<code>pivot</code>,ç­‰äº<code>pivot</code>,å¤§äº<code>pivot</code>ä¸‰éƒ¨åˆ†ï¼Œç„¶åå°äº<code>pivot</code>å’Œå¤§äº<code>pivot</code>çš„éƒ¨åˆ†è¿›è¡Œä¸‹ä¸€è½®åˆ’åˆ†ï¼Œç­‰äº<code>piovt</code>çš„ä¿æŒä¸å˜å³å¯ã€‚</li><li>è¿™æ ·æ€»çš„åˆ’åˆ†æ•ˆæœè¾ƒå¥½ï¼Œç‰¹åˆ«æ˜¯è¾ƒå°‘äº†é€’å½’çš„æ¬¡æ•°ï¼Œæ¯æ¬¡ç›¸ç­‰çš„éƒ¨åˆ†ä½ç½®å°±å›ºå®šä¸‹æ¥ã€‚<h4 id="ä»£ç -9"><a href="#ä»£ç -9" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::swap;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">partition2</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;a, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> x = a[l];</span><br><span class="line">  <span class="keyword">int</span> j = l;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = l + <span class="number">1</span>; i &lt;= r; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a[i] &lt;= x) &#123;</span><br><span class="line">      j++;</span><br><span class="line">      swap(a[i], a[j]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  swap(a[l], a[j]);</span><br><span class="line">  <span class="keyword">return</span> j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; partition3(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; a,<span class="keyword">int</span> l,<span class="keyword">int</span> r)&#123;</span><br><span class="line">    <span class="keyword">int</span> x = a[l];</span><br><span class="line">    <span class="keyword">int</span> j = l;</span><br><span class="line">    <span class="keyword">int</span> k = l+<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ret;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = l + <span class="number">1</span>; i &lt;= r; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (a[i] &lt; x) &#123;</span><br><span class="line">            swap(a[k],a[i]);</span><br><span class="line">            swap(a[k++],a[j++]);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(a[i] == x)&#123;</span><br><span class="line">            swap(a[k++],a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ret.push_back(j);</span><br><span class="line">    ret.push_back(k);</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">threeway_quick_sort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;a, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (l &gt;= r) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">int</span> k = l + rand() % (r - l + <span class="number">1</span>);</span><br><span class="line">  swap(a[l], a[k]);</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; partion = partition3(a, l, r);</span><br><span class="line">  threeway_quick_sort(a, l, partion[<span class="number">0</span>]<span class="number">-1</span>);</span><br><span class="line">  threeway_quick_sort(a, partion[<span class="number">1</span>], r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">randomized_quick_sort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;a, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (l &gt;= r) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">int</span> k = l + rand() % (r - l + <span class="number">1</span>);</span><br><span class="line">  swap(a[l], a[k]);</span><br><span class="line">  <span class="keyword">int</span> m = partition2(a, l, r);</span><br><span class="line"></span><br><span class="line">  randomized_quick_sort(a, l, m - <span class="number">1</span>);</span><br><span class="line">  randomized_quick_sort(a, m + <span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a(n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; a.size(); ++i) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">  &#125;</span><br><span class="line">  threeway_quick_sort(a, <span class="number">0</span>, a.size() - <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; a.size(); ++i) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; a[i] &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="4-Number-of-Inversions"><a href="#4-Number-of-Inversions" class="headerlink" title="4 Number of Inversions"></a>4 Number of Inversions</h3><p>An inversion of a sequence ğ‘0, ğ‘1, . . . , ğ‘ğ‘›âˆ’1 is a pair of indices 0 â‰¤ ğ‘– &lt; ğ‘— &lt; ğ‘› such that ğ‘ğ‘– &gt; ğ‘ğ‘— . The number of inversions of a sequence in some sense measures how close the sequence is to being sorted. For example, a sorted (in non-descending order) sequence contains no inversions at all, while in a sequence sorted in descending order any two elements constitute an inversion (for a total of ğ‘›(ğ‘› âˆ’ 1)/2 inversions).The goal in this problem is to count the number of inversions of a given sequence.</p><h4 id="æ€è·¯-11"><a href="#æ€è·¯-11" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>è¿™ä¸ªæ˜¯<code>leetcode</code>ä¸Šçš„åŸé¢˜ï¼Œæœ¬è´¨æ˜¯å½’å¹¶æ’åºã€‚</li><li>æ¯æ¬¡æˆ‘ä»¬å°†æ•°ç»„åˆ’åˆ†ä¸ºå‰åŠéƒ¨åˆ†åååŠéƒ¨åˆ†ï¼Œå¹¶åˆ†åˆ«å¯¹å‰åŠéƒ¨åˆ†è¿›è¡Œå½’å¹¶æ’åºï¼Œå¹¶åŒæ—¶åˆ¤æ–­ä¸¤ä¸ªéƒ¨åˆ†çš„é€†åºå¯¹ã€‚</li><li>æ¯æ¬¡è¿›è¡Œå½’å¹¶æ—¶ï¼Œè®¡ç®—å‰åŠéƒ¨åˆ†çš„å…ƒç´ å¤§äºååŠéƒ¨åˆ†çš„æ•°çš„æœ‰å¤šå°‘ä¸ªï¼Œç„¶å…¶æ‰€æœ‰å¤§äºçš„æ•°ç»„ä¹‹å’Œç›¸åŠ å³å¯ã€‚</li><li>æˆ‘ä»¬åˆšå¥½åˆ©ç”¨å½’å¹¶æ—¶å³å¯ï¼Œå°†ä¸¤ä¸ªæœ‰åºçš„æ•°ç»„è¿›è¡Œå½’å¹¶ï¼Œæ‰€ä»¥è¿™æ¬¡å½’å¹¶æ—¶åœ¨<code>O(n)</code>æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæœ¬æ¬¡é€†åºå¯¹çš„è®¡ç®—å’Œæ’åºã€‚<h4 id><a href="#" class="headerlink" title=" "></a> </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">get_number_of_inversions</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;a, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;b, <span class="keyword">size_t</span> left, <span class="keyword">size_t</span> right)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">long</span> <span class="keyword">long</span> number_of_inversions = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> (right &lt;= left + <span class="number">1</span>) <span class="keyword">return</span> number_of_inversions;</span><br><span class="line">  <span class="keyword">size_t</span> ave = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">  number_of_inversions += get_number_of_inversions(a, b, left, ave);</span><br><span class="line">  number_of_inversions += get_number_of_inversions(a, b, ave, right);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">int</span> l = left;</span><br><span class="line">  <span class="keyword">int</span> r = ave;</span><br><span class="line">  <span class="keyword">int</span> curr = left;</span><br><span class="line">  <span class="keyword">while</span>(l &lt; ave || r &lt; right)&#123;</span><br><span class="line">      <span class="keyword">if</span>(l &lt; ave &amp;&amp; r &lt; right)&#123;</span><br><span class="line">          <span class="keyword">if</span>(a[r] &lt; a[l])&#123;</span><br><span class="line">              number_of_inversions += ave - l;</span><br><span class="line">              b[curr++] = a[r++];</span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">              b[curr++] = a[l++];</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(l &lt; ave) b[curr++] = a[l++];</span><br><span class="line">      <span class="keyword">if</span>(r &lt; right) b[curr++] = a[r++];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = left; i &lt; right; ++i)&#123;</span><br><span class="line">      a[i] = b[i];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> number_of_inversions;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a(n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; a.size(); i++) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; b(a.size());</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; get_number_of_inversions(a, b, <span class="number">0</span>, a.size()) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-Organizing-a-Lottery"><a href="#5-Organizing-a-Lottery" class="headerlink" title="5 Organizing a Lottery"></a>5 Organizing a Lottery</h3>You are organizing an online lottery. To participate, a person bets on a single integer. You then draw several ranges of consecutive integers at random.A participantâ€™s payoff then is proportional to the number of ranges that<br>contain the participantâ€™s number minus the number of ranges that does not contain it. You need an efficient algorithm for computing the payoffs for all participants. A naive way to do this is to simply scan, for all participants, the<br>list of all ranges. However, you lottery is very popular: you have thousands of participants and thousands of ranges. For this reason, you cannot afford a slow naive algorithm.<h4 id="æ€è·¯-12"><a href="#æ€è·¯-12" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4></li><li>è¿™ä¸ªé¢˜ç›®éå¸¸å¥½ï¼Œè´¨é‡å¾ˆé«˜ã€‚å…¶å®æ‹¿åˆ°è¿™ä¸ªé¢˜ç›®æˆ‘ä¸€å¼€å§‹æƒ³åˆ°çš„å°±æ˜¯<code>segmentTree</code>ï¼Œç»“æœå°±æ˜¯è¶…æ—¶äº†ã€‚</li><li>åæ¥æ€è€ƒäº†å¥½é•¿æ—¶é—´æ²¡æœ‰æƒ³åˆ°æ›´ç®€å•çš„åšæ³•ã€‚ç„¶åå»è®ºå›æ‰¾äº†æç¤ºï¼Œå‘ç°è¿™ä¸ªè§£æ³•éå¸¸éå¸¸çš„å·§å¦™ã€‚</li><li>æˆ‘ä»¬å¯¹æ‰€æœ‰çš„å…ƒç´ è¿›è¡Œæ ‡è®°ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³åƒæŠŠçº¿æ®µçš„å·¦ç«¯ç‚¹æ ‡è®°ä¸ºå·¦æ‹¬å·<code>(</code>,çº¿æ®µçš„å³ç«¯ç‚¹æ ‡è®°ä¸ºå³æ‹¬å·<code>(</code>,éœ€è¦æŸ¥æ‰¾çš„ç‚¹æ ‡è®°ä¸º<code>p</code>,æˆ‘ä»¬å®é™…ä¸Šå°±æ˜¯åˆ¤æ–­ç‚¹pèƒ½å¦è¢«å‡ ä¸ªå®Œæˆçš„å·¦å³æ‹¬å·åŒæ—¶è¦†ç›–<code>()</code>.</li><li>è®°ä½ä¸Šé¢çš„å…³é”®ç‚¹çš„æ€è€ƒã€‚å®é™…æˆ‘ä»¬å¯èƒ½è¿˜æœ‰è®¸å¤šç»†èŠ‚è¦æ€è€ƒï¼Œæ¯”å¦‚è¿™ç§çº¿æ®µ<code>s:(x,x)</code>,ç‚¹pä¸º<code>x</code>,åˆ™è¿™æ—¶ç‚¹<code>p</code>åº”è¯¥æ˜¯è¢«çº¿æ®µ<code>s</code>åŒ…å›´çš„,è¿™ç‚¹æ‰€è°“çš„åŒ…å«æ€ç»´éœ€è¦ä»”ç»†çš„æ€è€ƒã€‚æˆ‘ä»¬å°†çº¿æ®µçš„å·¦ç«¯ç‚¹æ ‡è®°ä¸º<code>l</code>ï¼Œçº¿æ®µçš„å³ç«¯ç‚¹æ ‡è®°ä¸º<code>r</code>ï¼Œå°†pointæ ‡è®°ä¸º<code>p</code>ï¼Œç„¶åå°†å·¦ç«¯ç‚¹å’Œå³ç«¯ç‚¹åŠ åœ¨ä¸€èµ·æ’åºã€‚æˆ‘ä»¬åˆ¤æ–­æ—¶ï¼Œæ¯æ¬¡é‡åˆ°å·¦æ‹¬å·åˆ™è¿›è¡Œè®¡æ•°åŠ <code>1</code>,é‡åˆ°å³æ‹¬å·ï¼Œåˆ™å°†è®¡æ•°å‡<code>1</code>,åˆ°è¾¾å½“å‰ç‚¹<code>p</code>æ—¶çš„è®¡æ•°å¤§å°å³ä¸ºæ‰€æœ‰åŒ…å«ç‚¹<code>p</code>çš„çº¿æ®µæ•°ã€‚</li><li>å¦ä¸€ç§æ–¹æ³•å¯èƒ½æ›´å¿«ä¸€ç‚¹ï¼Œæˆ‘ä»¬ç›´æ¥åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚å¯¹äºå½“å‰ç‚¹<code>p:x</code>,æˆ‘ä»¬æŸ¥æ‰¾æœ‰å¤šå°‘ä¸ªå¤§äº<code>x</code>çš„å·¦ç«¯ç‚¹ï¼Œä¸ªæ•°å³ä¸º<code>lx</code>,åŒæ—¶æŸ¥æ‰¾å¤§äºç­‰äº<code>x</code>çš„å³ç«¯ç‚¹çš„ä¸ªæ•°ä¸º<code>rx</code>.åŒ…å«ç‚¹<code>p</code>çš„çº¿æ®µæ•°ä¸º<code>rx-lx</code>.<h4 id="ä»£ç -10"><a href="#ä»£ç -10" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;limits.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">vector&lt;int&gt; fast_count_segments(vector&lt;int&gt; starts, vector&lt;int&gt; ends, vector&lt;int&gt; points) &#123;</span></span><br><span class="line"><span class="comment">    vector&lt;int&gt; cnt(points.size());</span></span><br><span class="line"><span class="comment">    int n = starts.size();</span></span><br><span class="line"><span class="comment">    int m = points.size();</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    sort(starts.begin(),starts.end());</span></span><br><span class="line"><span class="comment">    sort(ends.begin(),ends.end());</span></span><br><span class="line"><span class="comment">    for(int i = 0; i &lt; m; ++i)&#123;</span></span><br><span class="line"><span class="comment">        auto it1 = upper_bound(starts.begin(),starts.end(),points[i]);</span></span><br><span class="line"><span class="comment">        auto it2 = lower_bound(ends.begin(),ends.end(),points[i]);</span></span><br><span class="line"><span class="comment">        int x = it1 - starts.begin();</span></span><br><span class="line"><span class="comment">        int y = it2 - ends.begin();</span></span><br><span class="line"><span class="comment">        cnt[i] = x - y;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    return cnt;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; fast_count_segments(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; starts, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ends, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; points) &#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; cnt(points.size());</span><br><span class="line">    <span class="keyword">int</span> n = starts.size();</span><br><span class="line">    <span class="keyword">int</span> m = points.size();</span><br><span class="line"></span><br><span class="line">    sort(starts.begin(),starts.end());</span><br><span class="line">    sort(ends.begin(),ends.end());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i)&#123;</span><br><span class="line">        <span class="keyword">auto</span> it1 = upper_bound(starts.begin(),starts.end(),points[i]);</span><br><span class="line">        <span class="keyword">auto</span> it2 = lower_bound(ends.begin(),ends.end(),points[i]);</span><br><span class="line">        <span class="keyword">int</span> x = it1 - starts.begin();</span><br><span class="line">        <span class="keyword">int</span> y = it2 - ends.begin();</span><br><span class="line">        cnt[i] = x - y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; naive_count_segments(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; starts, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ends, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; points) &#123;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; cnt(points.size());</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; points.size(); i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">size_t</span> j = <span class="number">0</span>; j &lt; starts.size(); j++) &#123;</span><br><span class="line">      cnt[i] += starts[j] &lt;= points[i] &amp;&amp; points[i] &lt;= ends[j];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n, m;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; starts(n), ends(n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; starts.size(); i++) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; starts[i] &gt;&gt; ends[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; points(m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; points.size(); i++) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; points[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//use fast_count_segments</span></span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; cnt = fast_count_segments(starts, ends, points);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; cnt.size(); i++) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; cnt[i] &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="6-Closest-Points"><a href="#6-Closest-Points" class="headerlink" title="6 Closest Points"></a>6 Closest Points</h3><p>In this problem, your goal is to find the closest pair of points among the given ğ‘›<br>points. This is a basic primitive in computational geometry having applications in,<br>for example, graphics, computer vision, traffic-control systems.</p><h4 id="æ€è·¯-13"><a href="#æ€è·¯-13" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>é¢˜ç›®ä¸­çš„è¦æ±‚æ±‚å‡ºä¸€å †ç‚¹çš„é›†åˆä¸­è·ç¦»æœ€çŸ­çš„ä¸¤ä¸ªç‚¹çš„è·ç¦»ã€‚è¿™ä¸ªé¢˜ç›®æˆ‘æŒ‰ç…§æç¤ºçš„è¦æ±‚åšå‡ºæ¥äº†ï¼Œä½†æ˜¯è‡³ä»Šä¸ºæ­¢è¿˜æ²¡ææ‡‚åŸç†ã€‚</li><li>å°†ç‚¹çš„é›†åˆæŒ‰ç…§æ¨ªåæ ‡<code>x</code>çš„å¤§å°è¿›è¡Œæ’åºï¼Œç„¶åå°†é›†åˆæŒ‰ç…§æ¨ªåæ ‡çš„å¤§å°åˆ’åˆ†ä¸ºå·¦å³ä¸¤éƒ¨åˆ†ã€‚é€’å½’æ±‚å‡ºå·¦åŠéƒ¨åˆ†çš„æœ€å°è·ç¦»<code>dl</code>,å³åŠéƒ¨åˆ†çš„æœ€å°è·ç¦»<code>dr</code>.</li><li>ä»¤<code>d = min(dl,dr)</code>,ä»¤<code>mid = p[(l+r)/2]</code>,æ±‚å‡ºæ‰€æœ‰è·ç¦»çº¿æ®µ<code>x = mid</code>çš„è·ç¦»å°äºç­‰äº<code>d</code>çš„ç‚¹ã€‚</li><li>å°†ä¸Šè¿°æ±‚å¾—æ‰€æœ‰çš„ç‚¹æŒ‰ç…§çºµåæ ‡<code>y</code>çš„å¤§å°è¿›è¡Œæ’åºï¼Œæ¯æ¬¡æ±‚å‡ºè¿ç»­ç›¸é‚»<code>8</code>ä¸ªç‚¹çš„æœ€å°è·ç¦»ä¸º<code>d&#39;</code>ï¼Œä»¤<code>d = min(d,d&#39;)</code>,è¿”å›<code>d</code>å³å¯ã€‚</li><li>ä»£ç æœ¬èº«æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•ç¡®å®ä¸å®¹æ˜“æƒ³åˆ°ã€‚<h4 id="ä»£ç -11"><a href="#ä»£ç -11" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;float.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::min;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span>&#123;</span></span><br><span class="line">  <span class="keyword">int</span> x,y;</span><br><span class="line">  Point(<span class="keyword">int</span> x,<span class="keyword">int</span> y)&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;x = x;</span><br><span class="line">    <span class="keyword">this</span>-&gt;y = y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">cmpX</span><span class="params">(Point &amp; p1,Point &amp; p2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> p1.x &lt; p2.x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">cmpY</span><span class="params">(Point &amp; p1,Point &amp; p2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> p1.y &lt; p2.y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">helper</span><span class="params">(<span class="built_in">vector</span>&lt;Point&gt; &amp; arr, <span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(r - l &lt;= <span class="number">1</span>) <span class="keyword">return</span> DBL_MAX;</span><br><span class="line">    <span class="keyword">if</span>(r - l == <span class="number">2</span>) <span class="keyword">return</span> <span class="built_in">sqrt</span>(<span class="built_in">pow</span>(arr[l].x-arr[l+<span class="number">1</span>].x,<span class="number">2</span>) + <span class="built_in">pow</span>(arr[l].y - arr[l+<span class="number">1</span>].y,<span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">    sort(arr.begin()+l,arr.begin()+r,cmpX);</span><br><span class="line">    <span class="keyword">int</span> mid = (l+r)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">double</span> dl = helper(arr,l,mid);</span><br><span class="line">    <span class="keyword">double</span> dr = helper(arr,mid,r);</span><br><span class="line">    <span class="keyword">double</span> d = min(dl,dr);</span><br><span class="line">    <span class="keyword">int</span> ml = l;</span><br><span class="line">    <span class="keyword">int</span> mr = r<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(ml &lt; r &amp;&amp; <span class="built_in">abs</span>(arr[ml].x - arr[mid].x) &gt; d) ml++;</span><br><span class="line">    <span class="keyword">while</span>(mr &gt;= l &amp;&amp; <span class="built_in">abs</span>(arr[mr].x - arr[mid].x) &gt; d) mr--;</span><br><span class="line">    sort(arr.begin() + ml,arr.begin() + mr + <span class="number">1</span>,cmpY);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = l; i &lt;= mr ; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt;= mr &amp;&amp; j &lt;= i + <span class="number">7</span>; ++j)&#123;</span><br><span class="line">            <span class="keyword">double</span> dy = <span class="built_in">sqrt</span>(<span class="built_in">pow</span>(arr[i].x-arr[j].x,<span class="number">2</span>) + <span class="built_in">pow</span>(arr[i].y-arr[j].y,<span class="number">2</span>));</span><br><span class="line">            d = min(d,dy);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">minimal_distance</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; x, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; y)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n = x.size();</span><br><span class="line">  <span class="built_in">vector</span>&lt;Point&gt; arr;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n ; ++i)&#123;</span><br><span class="line">    arr.push_back(Point(x[i],y[i]));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> helper(arr,<span class="number">0</span>,n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">size_t</span> n;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; x(n);</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; y(n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x[i] &gt;&gt; y[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::fixed;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::setprecision(<span class="number">9</span>) &lt;&lt; minimal_distance(x, y) &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="week5-Dynamic-Programming-1"><a href="#week5-Dynamic-Programming-1" class="headerlink" title="week5:Dynamic Programming 1"></a>week5:Dynamic Programming 1</h2><p>æœ¬ç« ä¸ºåŠ¨æ€è§„åˆ’ï¼Œæ¯”è¾ƒç®€å•ã€‚å‰é¢4é“é¢˜ç›®éƒ½éå¸¸ç®€å•ï¼Œæœ€åä¸€é¢˜ç¨å¾®éš¾ç‚¹ã€‚</p><h3 id="5-Longest-Common-Subsequence-of-Three-Sequences"><a href="#5-Longest-Common-Subsequence-of-Three-Sequences" class="headerlink" title="5 Longest Common Subsequence of Three Sequences"></a>5 Longest Common Subsequence of Three Sequences</h3><p>Compute the length of a longest common subsequence of three sequences.</p><h4 id="æ€è·¯-14"><a href="#æ€è·¯-14" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>é¢˜ç›®æ˜¯æ±‚å‡ºä¸‰ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿å…¬å…±å­åºåˆ—ï¼Œç¨å¾®å¤æ‚ç‚¹ã€‚</li><li>æœ¬é¢˜ä¸­æœ‰ä¸‰ä¸ªå­—ç¬¦ä¸²<code>a,b,c</code>,æˆ‘ä»¬è®¾é€’æ¨å…¬å¼<code>dp[x][y][z]</code>ä¸ºå­—ç¬¦ä¸²<code>a</code>çš„åˆ°ç´¢å¼•<code>x</code>å¤„ï¼Œå­—ç¬¦ä¸²<code>b</code>çš„åˆ°ç´¢å¼•<code>y</code>å¤„ï¼Œå­—ç¬¦ä¸²<code>c</code>çš„åˆ°ç´¢å¼•<code>z</code>å¤„çš„æœ€é•¿å…¬å…±å­åºåˆ—æ•°ç›®ã€‚</li><li>é€’æ¨å…¬å¼å¦‚ä¸‹ï¼š<br>å¦‚æœå½“<code>a[x] = b[y]</code>ä¸”<code>b[y] = c[z]</code>æ—¶ï¼š<script type="math/tex; mode=display">dp[x][y][z] = dp[x-1][y-1][z-1] \qquad if(a[x] = b[y] = c[z])</script>å¦åˆ™ï¼š<script type="math/tex; mode=display">dp[x][y][z] = min\left\{\begin{aligned}dp[x-1][y][z] \\dp[x][y-1][z] \\dp[x][y][z-1] \\\end{aligned}\right.</script></li><li>æ ¹æ®ä»¥ä¸Šçš„é€’æ¨å…¬å¼å³å¯ã€‚<h4 id="ä»£ç -12"><a href="#ä»£ç -12" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lcs3</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;a, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;b, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;c)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = a.size();</span><br><span class="line">    <span class="keyword">int</span> n = b.size();</span><br><span class="line">    <span class="keyword">int</span> l = c.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&gt; dp(m+<span class="number">1</span>,<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;(n+<span class="number">1</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(l+<span class="number">1</span>,<span class="number">0</span>)));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= m; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)&#123;</span><br><span class="line">           <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= l; ++k)&#123;</span><br><span class="line">              <span class="keyword">if</span>(a[i<span class="number">-1</span>] == b[j<span class="number">-1</span>] &amp;&amp; b[j<span class="number">-1</span>] == c[k<span class="number">-1</span>])&#123;</span><br><span class="line">                  dp[i][j][k] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>][k<span class="number">-1</span>] + <span class="number">1</span>;</span><br><span class="line">              &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                  dp[i][j][k] = max(dp[i][j][k],dp[i<span class="number">-1</span>][j][k]);</span><br><span class="line">                  dp[i][j][k] = max(dp[i][j][k],dp[i][j<span class="number">-1</span>][k]);</span><br><span class="line">                  dp[i][j][k] = max(dp[i][j][k],dp[i][j][k<span class="number">-1</span>]);</span><br><span class="line">              &#125;</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp[m][n][l];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">size_t</span> an;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; an;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a(an);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; an; i++) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">size_t</span> bn;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; bn;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; b(bn);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; bn; i++) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; b[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">size_t</span> cn;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; cn;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; c(cn);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; cn; i++) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; c[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; lcs3(a, b, c) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="6-Dynamic-Programming-2"><a href="#6-Dynamic-Programming-2" class="headerlink" title="6:Dynamic Programming 2"></a>6:Dynamic Programming 2</h2><p>æœ€åä¸¤é“é¢˜ç›®ç¨å¾®æœ‰ç‚¹éš¾åº¦ï¼Œåˆ«çš„éƒ½è¿˜å¥½ï¼Œä¹Ÿæ˜¯<code>dp</code>çš„é‡è¦åº”ç”¨ã€‚<code>dp</code>çš„æ€æƒ³ï¼Œæœ€å…³é”®çš„æ˜¯é€’æ¨å…³ç³»çš„ç¡®ç«‹ã€‚é€’æ¨å…³ç³»ä¸€èˆ¬ä¸å¥½æ€è€ƒï¼Œè¿™ç‚¹éœ€è¦ç»éªŒã€‚ä¸è¿‡ä¸€èˆ¬éƒ½æ˜¯è·Ÿå…ƒç´ çš„å¤§å°æœ‰å…³ç³»ã€‚</p><h3 id="2-Partitioning-Souvenirs"><a href="#2-Partitioning-Souvenirs" class="headerlink" title="2 Partitioning Souvenirs"></a>2 Partitioning Souvenirs</h3><p>You and two of your friends have just returned back home after visiting various countries. Now you would<br>like to evenly split all the souvenirs that all three of you bought.</p><h4 id="æ€è·¯-15"><a href="#æ€è·¯-15" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>è¿™ä¸ªä¹Ÿæ˜¯åŠ¨æ€è§„åˆ’ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°é€’æ¨å…³ç³»è¿˜æ˜¯éœ€è¦èŠ±è´¹ä¸€å®šæ—¶é—´æ€è€ƒçš„ã€‚</li><li>é¦–å…ˆæ€è€ƒä¸€ä¸‹æ•°ç»„æœ¬èº«ï¼Œå¦‚æœæ•´ä¸ªæ•°ç»„çš„å’Œ<code>sum</code>ä¸èƒ½è¢«3æ•´é™¤ï¼Œé‚£ä¹ˆè¯¥æ•°ç»„è‚¯å®šä¸èƒ½åˆ’åˆ†æˆä¸ºç›¸ç­‰çš„3ä¸ªéé‡å¤çš„å­åºåˆ—ã€‚æœ€ç»ˆåˆ’åˆ†ä¸º3ä¸ªå­åºåˆ—ï¼Œæ¯ä¸ªå­åºåˆ—çš„å’Œä¸º$\frac{sum}{3}$.</li><li>æˆ‘ä»¬æ€è€ƒä¸€ä¸‹ï¼Œè®¾åŠ¨æ€è§„åˆ’é€’æ¨å…¬å¼<code>dp[i][x][y]</code>è¡¨ç¤ºå‰<code>i</code>ä¸ªå…ƒç´ èƒ½å¦è¢«åˆ’åˆ†æˆä¸º3ä¸ªå­åºåˆ—ï¼Œå…¶ä¸­æœ‰ä¸¤ä¸ªå­—åºåˆ—çš„å’Œä¸º<code>x,y</code>.å®é™…è¿™ä¸‰ä¸ªå­åºåˆ—çš„å’Œåº”è¯¥åˆ†åˆ«ä¸ºï¼š<code>x,y,sum[i]-x-y</code>,åˆ™å½“æˆ‘ä»¬åŠ å…¥ç¬¬<code>i+1</code>ä¸ªå…ƒç´ æ—¶ï¼Œç¬¬<code>i+1</code>ä¸ªå…ƒç´ å¯ä»¥åˆ†åˆ«åŠ å…¥åˆ°è¿™ä¸‰ä¸ªä¸åŒçš„å­åºåˆ—ï¼Œæˆ‘ä»¬åˆ¤æ–­å½“å…¶åŠ å…¥åˆ°è¿™ä¸‰ä¸ªä¸åŒçš„å­åºåˆ—ä¸­æ—¶ï¼Œç­‰å¼æ˜¯å¦æˆç«‹.æˆ‘ä»¬è®¾ç«‹é€’æ¨å…¬å¼ä¸ºå¦‚ä¸‹ï¼š<script type="math/tex; mode=display">dp[i][x][y] = dp[i-1][x][y] \quad or \quad dp[i-1][x-arr[i]][y] \quad or \quad dp[i-1][x][y-arr[i]]</script></li><li>å®é™…æˆ‘ä»¬å¯ä»¥å°†é¢˜ç›®æœ¬èº«çš„é—®é¢˜è½¬åŒ–ä¸ºnä¸ªå…ƒç´ åˆ’åˆ†ä¸ºä¸‰ä¸ªå­åºåˆ—ï¼Œæ˜¯å¦æœ‰å…¶ä¸­ä¸¤ä¸ªå­åºåˆ—çš„å’Œåˆ†åˆ«ä¸º$\frac{sum}{3}$.å³<code>dp[n][sum/3][sum/3]</code>æ˜¯å¦ä¸ºæˆç«‹ã€‚<h4 id="ä»£ç -13"><a href="#ä»£ç -13" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">21</span>][<span class="number">201</span>][<span class="number">201</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">partition3</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;A)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> all = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> div = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n = A.size();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; A.size(); ++i)&#123;</span><br><span class="line">        all += A[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(all%<span class="number">3</span> != <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    div = all/<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*intiail*/</span></span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= div; ++j)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt;= div; ++k)&#123;</span><br><span class="line">                dp[i][j][k] = dp[i][j][k]||dp[i<span class="number">-1</span>][j][k];</span><br><span class="line">                <span class="keyword">if</span>(j &gt;= A[i<span class="number">-1</span>]) dp[i][j][k] = dp[i][j][k]||dp[i<span class="number">-1</span>][j-A[i<span class="number">-1</span>]][k];</span><br><span class="line">                <span class="keyword">if</span>(k &gt;= A[i<span class="number">-1</span>]) dp[i][j][k] = dp[i][j][k]||dp[i<span class="number">-1</span>][j][k-A[i<span class="number">-1</span>]];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp[n][div][div];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; A(n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; A.size(); ++i) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; A[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; partition3(A) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="3-Maximum-Value-of-an-Arithmetic-Expression"><a href="#3-Maximum-Value-of-an-Arithmetic-Expression" class="headerlink" title="3 Maximum Value of an Arithmetic Expression"></a>3 Maximum Value of an Arithmetic Expression</h3><p>Find the maximum value of an arithmetic expression by specifying the order of applying its arithmetic<br>operations using additional parentheses.<br>In this problem, your goal is to add parentheses to a given arithmetic<br>expression to maximize its value. max(5âˆ’8+7Ã—4âˆ’8+9) =?</p><h4 id="æ€è·¯-16"><a href="#æ€è·¯-16" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>è¿™ä¸ªé¢˜ç›®éå¸¸ç±»ä¼¼äºæ‹¬å·åŒ¹é…çš„æœ€å¤§å€¼ï¼Œè·Ÿ<code>leetcode</code>æŸä¸ªé¢˜ç›®éå¸¸ç›¸ä¼¼ã€‚</li><li>é¢˜ç›®ä¸­ç”±äºåŠ å…¥äº†åŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ï¼Œå®é™…æƒ…å†µç¨å¾®å¤æ‚ä¸€äº›ã€‚æˆ‘ä»¬é¦–å…ˆè®¾ç«‹<code>dpmax[i][j]</code>ä»£è¡¨ç­‰å¼ä»ç¬¬<code>i</code>ä¸ªæ•°å­—åˆ°ç¬¬<code>j</code>ä¸ªæ•°å­—ä¹‹é—´çš„ç­‰å¼çš„æœ€å¤§å€¼,<code>dpmin[i][j]</code>ä»£è¡¨ç­‰å¼ä»ç¬¬<code>i</code>ä¸ªæ•°å­—åˆ°ç¬¬<code>j</code>ä¸ªæ•°å­—ä¹‹é—´çš„ç­‰å¼çš„æœ€å°å€¼.æˆ‘ä»¬ä»”ç»†åˆ¤æ–­ä¸€ä¸‹ï¼Œåˆ†ä¸ºä»¥ä¸‹ä¸‰ç§æƒ…å†µ,<code>l</code>ä»£è¡¨ç¬¦å·å·¦è¾¹çš„å€¼ï¼Œ<code>r</code>ä»£è¡¨ç¬¦å·å³è¾¹çš„å€¼ï¼š</li></ol><ul><li><code>+</code>ï¼šå½“ç¬¦å·ä¸ºåŠ å·æ—¶æˆ‘ä»¬è‚¯å®šå¸Œæœ›ç­‰å¼è¡¨ç¤ºå·¦å³ä¸¤è¾¹çš„åŠ æ•°æœ€å¤§ã€‚<script type="math/tex; mode=display">max(result) = max(l) + max(r) \qquad min(result) = min(l) + min(r)</script></li><li><code>-</code>ï¼šå½“ç¬¦å·ä¸ºå‡å·å·æ—¶æˆ‘ä»¬è‚¯å®šå¸Œæœ›ç­‰å¼è¡¨ç¤ºå·¦è¾¹çš„æ•°æœ€å¤§ï¼Œå³è¾¹çš„æ•°ã€‚<script type="math/tex; mode=display">max(result) = max(l) - min(r) \qquadmin(result) = min(l) - max(r)</script></li><li><code>*</code>ï¼šå½“ç¬¦å·ä¸ºä¹˜å·æ—¶ï¼Œæƒ…å†µæ¯”è¾ƒå¤æ‚ï¼Œå› ä¸ºæ¶‰åŠåˆ°ä¹˜ç§¯çš„ç¬¦å·çš„é—®é¢˜ï¼Œä½†æ˜¯<script type="math/tex; mode=display">max(result) = max\left\{\begin{aligned}max(l)*max(r)\\min(l)*max(r)\\    max(l)*min(r)\\min(l)*min(r)\\  \end{aligned}\right.</script><script type="math/tex; mode=display">min(result) = min\left\{\begin{aligned}max(l)*max(r)\\min(l)*max(r)\\    max(l)*min(r)\\min(l)*min(r)\\  \end{aligned}\right.</script></li></ul><ol><li>æˆ‘ä»¬æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦ä»”ç»†å¤„ç†ç­‰å¼åˆ’åˆ†çš„é—®é¢˜ï¼Œå› ä¸ºè¿™æ¶‰åŠåˆ°æ‹¬å·çš„é—®é¢˜ã€‚<code>dp[i][j]</code>ä»£è¡¨ä»<code>i</code>åˆ°<code>j</code>çš„è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¯ä»¥ä»<code>i+1</code>,<code>i+2</code>,<code>i+3</code>,â€¦,<code>j-1</code>å¤„è¿›è¡Œæ–­å¼€ã€‚</li><li>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ï¼š</li></ol><script type="math/tex; mode=display">dpmax[i][j]  =  max\left\{\begin{aligned}eval(dpmax[i][k],op[k],dpmax[k+1][j]\\eval(dpmax[i][k],op[k],dpmin[k+1][j]\\eval(dpmin[i][k],op[k],dpmax[k+1][j]\\eval(dpmin[i][k],op[k],dpmin[k+1][j]\\\end{aligned} \right. \qquad  (i \le k \le j)</script><script type="math/tex; mode=display">dpmin[i][j] = min\left\{\begin{aligned}eval(dpmax[i][k],op[k],dpmax[k+1][j]\\ eval(dpmax[i][k],op[k],dpmin[k+1][j]\\eval(dpmin[i][k],op[k],dpmax[k+1][j]\\eval(dpmin[i][k],op[k],dpmin[k+1][j]\\\end{aligned}\right. \qquad  (i \le k \le j)</script><h4 id="ä»£ç -14"><a href="#ä»£ç -14" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;limits.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::max;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::min;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">eval</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a, <span class="keyword">long</span> <span class="keyword">long</span> b, <span class="keyword">char</span> op)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (op == <span class="string">'*'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">'+'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">'-'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    assert(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isDigit</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> c &gt;= <span class="string">'0'</span> &amp;&amp; c &lt;= <span class="string">'9'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isOp</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> c == <span class="string">'+'</span>|| c == <span class="string">'-'</span> || c == <span class="string">'*'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">get_maximum_value</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;<span class="built_in">exp</span>)</span> </span>&#123;</span><br><span class="line">  <span class="comment">//write your code here</span></span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">exp</span>.size() == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">int</span> n = (<span class="built_in">exp</span>.size()+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; nums;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; op;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt;&gt; dp1(n,<span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt;(n,INT_MAX));</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt;&gt; dp2(n,<span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt;(n,INT_MIN));</span><br><span class="line">  <span class="comment">/*intial*/</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">exp</span>.size(); ++i)&#123;</span><br><span class="line">      <span class="keyword">if</span>(isDigit(<span class="built_in">exp</span>[i])) nums.push_back(<span class="built_in">exp</span>[i] - <span class="string">'0'</span>);</span><br><span class="line">      <span class="keyword">if</span>(isOp(<span class="built_in">exp</span>[i])) op.push_back(<span class="built_in">exp</span>[i]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">    dp1[i][i] = nums[i];</span><br><span class="line">    dp2[i][i] = nums[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j + i &lt; n; ++j)&#123;</span><br><span class="line">          <span class="keyword">for</span>(<span class="keyword">int</span> k = j+<span class="number">1</span>; k &lt;= j+i; ++k)&#123;</span><br><span class="line">              <span class="comment">/*min expression*/</span></span><br><span class="line">              dp1[j][j+i] = min(dp1[j][j+i],eval(dp1[j][k<span class="number">-1</span>],dp2[k][j+i],op[k<span class="number">-1</span>]));</span><br><span class="line">              dp1[j][j+i] = min(dp1[j][j+i],eval(dp2[j][k<span class="number">-1</span>],dp1[k][j+i],op[k<span class="number">-1</span>]));</span><br><span class="line">              dp1[j][j+i] = min(dp1[j][j+i],eval(dp1[j][k<span class="number">-1</span>],dp1[k][j+i],op[k<span class="number">-1</span>]));</span><br><span class="line">              dp1[j][j+i] = min(dp1[j][j+i],eval(dp2[j][k<span class="number">-1</span>],dp2[k][j+i],op[k<span class="number">-1</span>]));</span><br><span class="line"></span><br><span class="line">              <span class="comment">/*max expression*/</span></span><br><span class="line">              dp2[j][j+i] = max(dp2[j][j+i],eval(dp1[j][k<span class="number">-1</span>],dp2[k][j+i],op[k<span class="number">-1</span>]));</span><br><span class="line">              dp2[j][j+i] = max(dp2[j][j+i],eval(dp2[j][k<span class="number">-1</span>],dp1[k][j+i],op[k<span class="number">-1</span>]));</span><br><span class="line">              dp2[j][j+i] = max(dp2[j][j+i],eval(dp1[j][k<span class="number">-1</span>],dp1[k][j+i],op[k<span class="number">-1</span>]));</span><br><span class="line">              dp2[j][j+i] = max(dp2[j][j+i],eval(dp2[j][k<span class="number">-1</span>],dp2[k][j+i],op[k<span class="number">-1</span>]));</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> dp2[<span class="number">0</span>][n<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">string</span> s;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; get_maximum_value(s) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Algorithmic-Toolbox&quot;&gt;&lt;a href=&quot;#Algorithmic-Toolbox&quot; class=&quot;headerlink&quot; title=&quot;Algorithmic Toolbox&quot;&gt;&lt;/a&gt;Algorithmic Toolbox&lt;/h1&gt;&lt;p&gt;æœ€è¿‘å‡†å¤‡å­¦ä¹ &lt;code&gt;coursera&lt;/code&gt;ä¸Šçš„ã€Šç®—æ³•ä¸æ•°æ®ç»“æ„ç³»åˆ—è¯¾ç¨‹ã€‹ï¼Œç›®å‰å·²ç»æŠŠç¬¬ä¸€éƒ¨åˆ†è¯¾ç¨‹ã€ŠAlgorithmic Toolboxã€‹å­¦ä¹ å®Œäº†ï¼Œè¿™éƒ¨åˆ†çš„è¯¾ç¨‹éš¾åº¦æ¯”è¾ƒä½ï¼Œé™¤äº†æœ‰å‡ é“é¢˜ç›®ç¨å¾®æ¯”è¾ƒ&lt;code&gt;trikly&lt;/code&gt;ä»¥å¤–ï¼Œå…¶ä½™çš„éƒ½æ˜¯åŸºæœ¬é¢˜ç›®ã€‚å¾—åˆ†æ˜¯&lt;code&gt;100&lt;/code&gt; åˆ†ï¼Œè¯ä¹¦å¦‚ä¸‹ï¼š&lt;br&gt;&lt;a href=&quot;https://www.coursera.org/account/accomplishments/certificate/XNSXA54YM3ST&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Algorithmic Toolbox
&lt;/a&gt;&lt;br&gt;ä¸‹é¢å°†è¯¥è¯¾ç¨‹çš„é¢˜ç›®çš„è§£æ³•ã€‚&lt;br&gt;è¯¥è¯¾ç¨‹æ‰€æœ‰æäº¤çš„ä»£ç å¦‚ä¸‹ï¼š&lt;br&gt;&lt;a href=&quot;https://github.com/mike-box/coursera/tree/master/Algorithmic%20Toolbox&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;source code&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ã€ŠAlgorithmic Toolboxã€‹" scheme="http://yoursite.com/tags/%E3%80%8AAlgorithmic-Toolbox%E3%80%8B/"/>
    
  </entry>
  
  <entry>
    <title>ã€Leetcodeã€‘ ç¬¬186å‘¨æ¯”èµ›</title>
    <link href="http://yoursite.com/2020/04/26/155/"/>
    <id>http://yoursite.com/2020/04/26/155/</id>
    <published>2020-04-26T09:15:42.260Z</published>
    <updated>2020-04-26T09:15:44.468Z</updated>
    
    <content type="html"><![CDATA[<h1 id="186å‘¨æ¯”èµ›"><a href="#186å‘¨æ¯”èµ›" class="headerlink" title="186å‘¨æ¯”èµ›"></a>186å‘¨æ¯”èµ›</h1><p>æœ¬å‘¨é¢˜ç›®çš„è´¨é‡ä¸é”™ã€‚</p><h2 id="5392-åˆ†å‰²å­—ç¬¦ä¸²çš„æœ€å¤§å¾—åˆ†"><a href="#5392-åˆ†å‰²å­—ç¬¦ä¸²çš„æœ€å¤§å¾—åˆ†" class="headerlink" title="5392. åˆ†å‰²å­—ç¬¦ä¸²çš„æœ€å¤§å¾—åˆ†"></a>5392. åˆ†å‰²å­—ç¬¦ä¸²çš„æœ€å¤§å¾—åˆ†</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªç”±è‹¥å¹² <code>0</code> å’Œ<code>1</code> ç»„æˆçš„å­—ç¬¦ä¸² <code>s</code>ï¼Œè¯·ä½ è®¡ç®—å¹¶è¿”å›å°†è¯¥å­—ç¬¦ä¸²åˆ†å‰²æˆä¸¤ä¸ª éç©º å­å­—ç¬¦ä¸²ï¼ˆå³ å·¦ å­å­—ç¬¦ä¸²å’Œ å³ å­å­—ç¬¦ä¸²ï¼‰æ‰€èƒ½è·å¾—çš„æœ€å¤§å¾—åˆ†ã€‚ã€Œåˆ†å‰²å­—ç¬¦ä¸²çš„å¾—åˆ†ã€ä¸º å·¦ å­å­—ç¬¦ä¸²ä¸­ 0 çš„æ•°é‡åŠ ä¸Š å³ å­å­—ç¬¦ä¸²ä¸­ 1 çš„æ•°é‡ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"011101"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span> </span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">å°†å­—ç¬¦ä¸² s åˆ’åˆ†ä¸ºä¸¤ä¸ªéç©ºå­å­—ç¬¦ä¸²çš„å¯è¡Œæ–¹æ¡ˆæœ‰ï¼š</span><br><span class="line">å·¦å­å­—ç¬¦ä¸² = <span class="string">"0"</span> ä¸” å³å­å­—ç¬¦ä¸² = <span class="string">"11101"</span>ï¼Œå¾—åˆ† = <span class="number">1</span> + <span class="number">4</span> = <span class="number">5</span> </span><br><span class="line">å·¦å­å­—ç¬¦ä¸² = <span class="string">"01"</span> ä¸” å³å­å­—ç¬¦ä¸² = <span class="string">"1101"</span>ï¼Œå¾—åˆ† = <span class="number">1</span> + <span class="number">3</span> = <span class="number">4</span> </span><br><span class="line">å·¦å­å­—ç¬¦ä¸² = <span class="string">"011"</span> ä¸” å³å­å­—ç¬¦ä¸² = <span class="string">"101"</span>ï¼Œå¾—åˆ† = <span class="number">1</span> + <span class="number">2</span> = <span class="number">3</span> </span><br><span class="line">å·¦å­å­—ç¬¦ä¸² = <span class="string">"0111"</span> ä¸” å³å­å­—ç¬¦ä¸² = <span class="string">"01"</span>ï¼Œå¾—åˆ† = <span class="number">1</span> + <span class="number">1</span> = <span class="number">2</span> </span><br><span class="line">å·¦å­å­—ç¬¦ä¸² = <span class="string">"01110"</span> ä¸” å³å­å­—ç¬¦ä¸² = <span class="string">"1"</span>ï¼Œå¾—åˆ† = <span class="number">2</span> + <span class="number">1</span> = <span class="number">3</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"00111"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span></span><br><span class="line">è§£é‡Šï¼šå½“ å·¦å­å­—ç¬¦ä¸² = <span class="string">"00"</span> ä¸” å³å­å­—ç¬¦ä¸² = <span class="string">"111"</span> æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°æœ€å¤§å¾—åˆ† = <span class="number">2</span> + <span class="number">3</span> = <span class="number">5</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"1111"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure></p><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/maximum-score-after-splitting-a-string" target="_blank" rel="noopener">https://leetcode-cn.com/problems/maximum-score-after-splitting-a-string</a></p><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æš´åŠ›</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>æœ¬èº«æ•°æ®é‡éå¸¸å°ï¼Œæˆ‘ä»¬å®é™…åªéœ€æš´åŠ›åŒ¹é…å³å¯ã€‚éå¸¸ç®€å•<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxScore</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> one = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> zero = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> oneCurr = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.size(); ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i] == <span class="string">'1'</span>) one++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.size()<span class="number">-1</span>; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i] == <span class="string">'0'</span>) zero++;</span><br><span class="line">            <span class="keyword">if</span>(s[i] == <span class="string">'1'</span>) oneCurr++;</span><br><span class="line">            res = max(res,zero + one - oneCurr);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5393-å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°"><a href="#5393-å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°" class="headerlink" title="5393. å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°"></a>5393. å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°</h2><h3 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>å‡ å¼ å¡ç‰Œ æ’æˆä¸€è¡Œï¼Œæ¯å¼ å¡ç‰Œéƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç‚¹æ•°ã€‚ç‚¹æ•°ç”±æ•´æ•°æ•°ç»„ <code>cardPoints</code>ç»™å‡ºã€‚</p><p>æ¯æ¬¡è¡ŒåŠ¨ï¼Œä½ å¯ä»¥ä»è¡Œçš„å¼€å¤´æˆ–è€…æœ«å°¾æ‹¿ä¸€å¼ å¡ç‰Œï¼Œæœ€ç»ˆä½ å¿…é¡»æ­£å¥½æ‹¿ k å¼ å¡ç‰Œã€‚</p><p>ä½ çš„ç‚¹æ•°å°±æ˜¯ä½ æ‹¿åˆ°æ‰‹ä¸­çš„æ‰€æœ‰å¡ç‰Œçš„ç‚¹æ•°ä¹‹å’Œã€‚</p><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„<code>cardPoints</code> å’Œæ•´æ•°<code>k</code>ï¼Œè¯·ä½ è¿”å›å¯ä»¥è·å¾—çš„æœ€å¤§ç‚¹æ•°ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcardPoints = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">1</span>], k = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">12</span></span><br><span class="line">è§£é‡Šï¼šç¬¬ä¸€æ¬¡è¡ŒåŠ¨ï¼Œä¸ç®¡æ‹¿å“ªå¼ ç‰Œï¼Œä½ çš„ç‚¹æ•°æ€»æ˜¯ <span class="number">1</span> ã€‚ä½†æ˜¯ï¼Œå…ˆæ‹¿æœ€å³è¾¹çš„å¡ç‰Œå°†ä¼šæœ€å¤§åŒ–ä½ çš„å¯è·å¾—ç‚¹æ•°ã€‚æœ€ä¼˜ç­–ç•¥æ˜¯æ‹¿å³è¾¹çš„ä¸‰å¼ ç‰Œï¼Œæœ€ç»ˆç‚¹æ•°ä¸º <span class="number">1</span> + <span class="number">6</span> + <span class="number">5</span> = <span class="number">12</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcardPoints = [<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>], k = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šæ— è®ºä½ æ‹¿èµ·å“ªä¸¤å¼ å¡ç‰Œï¼Œå¯è·å¾—çš„ç‚¹æ•°æ€»æ˜¯ <span class="number">4</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcardPoints = [<span class="number">9</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">9</span>], k = <span class="number">7</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">55</span></span><br><span class="line">è§£é‡Šï¼šä½ å¿…é¡»æ‹¿èµ·æ‰€æœ‰å¡ç‰Œï¼Œå¯ä»¥è·å¾—çš„ç‚¹æ•°ä¸ºæ‰€æœ‰å¡ç‰Œçš„ç‚¹æ•°ä¹‹å’Œã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcardPoints = [<span class="number">1</span>,<span class="number">1000</span>,<span class="number">1</span>], k = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šä½ æ— æ³•æ‹¿åˆ°ä¸­é—´é‚£å¼ å¡ç‰Œï¼Œæ‰€ä»¥å¯ä»¥è·å¾—çš„æœ€å¤§ç‚¹æ•°ä¸º <span class="number">1</span> ã€‚</span><br><span class="line">``` </span><br><span class="line">ç¤ºä¾‹ <span class="number">5</span>ï¼š</span><br></pre></td></tr></table></figure><br>è¾“å…¥ï¼šcardPoints = [1,79,80,1,1,1,200,1], k = 3<br>è¾“å‡ºï¼š202<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">æç¤ºï¼š</span><br><span class="line"></span><br><span class="line">+ `<span class="number">1</span> &lt;= cardPoints.length &lt;= <span class="number">10</span>^<span class="number">5</span>`</span><br><span class="line">+ `<span class="number">1</span> &lt;= cardPoints[i] &lt;= <span class="number">10</span>^<span class="number">4</span>`</span><br><span class="line">+ `<span class="number">1</span> &lt;= k &lt;= cardPoints.length`</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### åœ°å€</span><br><span class="line">https:<span class="comment">//leetcode-cn.com/problems/maximum-points-you-can-obtain-from-cards</span></span><br><span class="line">### é¢˜æ„</span><br><span class="line">&gt;  æ»‘åŠ¨çª—å£</span><br><span class="line">### æ€è·¯</span><br><span class="line"><span class="number">1.</span> æ•°ç»„çš„å‰ç¼€å’Œåç¼€ç»„åˆï¼Œå‰`i`ä¸ªå‰ç¼€å’Œå`k-i`ä¸ªåç¼€ä¹‹å’Œçš„æœ€å¤§å€¼ã€‚</span><br><span class="line">$$</span><br><span class="line">f = max(prefix[i] + suffix[k-i])  \: i \<span class="keyword">in</span>(<span class="number">0</span>,...,k)</span><br><span class="line">$$</span><br><span class="line"><span class="number">2.</span> å¦ä¸€ç§æ€è·¯ï¼Œæ±‚æ»‘åŠ¨çª—å£ï¼Œæ±‚å‡ºå‰©ä½™çš„è¿ç»­`n-k`ä¸ªå…ƒç´ çš„æœ€å°å€¼ï¼Œæ€»æ•°å‡å»è¿™ä¸ªå€¼å³å¯ã€‚</span><br><span class="line">$$</span><br><span class="line">f = \sum_&#123;i=<span class="number">1</span>&#125;^&#123;n&#125; p[i] - min(sum(i,i+n-k<span class="number">-1</span>))  \: i \<span class="keyword">in</span>(<span class="number">1</span>,...,k)</span><br><span class="line">$$</span><br><span class="line">### ä»£ç </span><br><span class="line">```c++</span><br><span class="line"><span class="keyword">class</span> <span class="symbol">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">int</span> maxScore(vector&lt;<span class="built_in">int</span>&gt;&amp; cardPoints, <span class="built_in">int</span> k) &#123;</span><br><span class="line">        <span class="built_in">int</span> n = cardPoints.size();</span><br><span class="line">        <span class="built_in">int</span> m = n-k;</span><br><span class="line">        <span class="built_in">int</span> curr = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">int</span> remove = INT_MAX;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            curr += cardPoints[i];</span><br><span class="line">            sum += cardPoints[i];</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= m<span class="number">-1</span> &amp;&amp; m &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                remove = min(curr,remove);</span><br><span class="line">                curr -= cardPoints[i-m+<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(remove == INT_MAX) remove = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> sum - remove;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h2 id="5394-å¯¹è§’çº¿éå†-II"><a href="#5394-å¯¹è§’çº¿éå†-II" class="headerlink" title="5394. å¯¹è§’çº¿éå† II"></a>5394. å¯¹è§’çº¿éå† II</h2><h3 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªåˆ—è¡¨ <code>nums</code>ï¼Œé‡Œé¢æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæ•´æ•°åˆ—è¡¨ã€‚è¯·ä½ ä¾ç…§ä¸‹é¢å„å›¾çš„è§„åˆ™ï¼ŒæŒ‰é¡ºåºè¿”å› <code>nums</code> ä¸­å¯¹è§’çº¿ä¸Šçš„æ•´æ•°ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">9</span>]</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">6</span>,<span class="number">7</span>],[<span class="number">8</span>],[<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>],[<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>]]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">12</span>,<span class="number">10</span>,<span class="number">5</span>,<span class="number">13</span>,<span class="number">11</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>]</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>],[<span class="number">8</span>],[<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>]]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">10</span>,<span class="number">11</span>]</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> &lt;= nums.length &lt;= <span class="number">10</span>^<span class="number">5</span></span><br><span class="line"><span class="number">1</span> &lt;= nums[i].length &lt;=Â <span class="number">10</span>^<span class="number">5</span></span><br><span class="line"><span class="number">1</span> &lt;= nums[i][j] &lt;= <span class="number">10</span>^<span class="number">9</span></span><br><span class="line">numsÂ ä¸­æœ€å¤šæœ‰Â <span class="number">10</span>^<span class="number">5</span>Â ä¸ªæ•°å­—ã€‚</span><br></pre></td></tr></table></figure></p><h3 id="åœ°å€-1"><a href="#åœ°å€-1" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/diagonal-traverse-ii" target="_blank" rel="noopener">https://leetcode-cn.com/problems/diagonal-traverse-ii</a></p><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æ’åº</p><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>è¿™ä¸ªé¢˜ç›®è¿˜æ˜¯è›®æœ‰æ„æ€ã€‚é¦–å…ˆå¯¹è§’çº¿æ‰“å°å…¶å®å¾ˆç®€å•ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦çš„è¯ ä¼šè¶…æ—¶ã€‚</li><li>æˆ‘ä»¬åº”è¯¥æ‰¾è§„å¾‹ï¼Œæƒ³æ›´å¿«çš„åŠæ³•ï¼Œåæ¥ä»”ç»†åˆ†æä¸€ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯ä¸ªå…ƒç´ çš„ä¸‹æ ‡è¿›è¡Œæ’åºï¼ŒæŒ‰ç…§<code>rowindex</code>å’Œ<code>colindex</code>çš„å’Œçš„å¤§å°è¿›è¡Œé¡ºåºæ’åºï¼Œå¦‚æœå’Œç›¸ç­‰ï¼Œå†æŒ‰ç…§<code>rowindex</code>ä»å¤§åˆ°å°æ’åºã€‚</li><li>æ ¹æ®ç´¢å¼•çš„æ’åºç»“æœè¾“å…¥æ‰€æœ‰å…ƒç´ ã€‚<h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &amp; a,pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &amp; b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sa = a.first + a.second;</span><br><span class="line">        <span class="keyword">int</span> sb = b.first + b.second;</span><br><span class="line">        <span class="keyword">if</span>(sa == sb) <span class="keyword">return</span> a.first &gt; b.first;</span><br><span class="line">        <span class="keyword">return</span> sa &lt; sb;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; findDiagonalOrder(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="keyword">int</span> m = nums[n<span class="number">-1</span>].size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&gt; idx;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; nums[i].size(); ++j)&#123;</span><br><span class="line">                idx.push_back(make_pair(i,j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(idx.begin(),idx.end(),cmp);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; idx.size(); ++i)&#123;</span><br><span class="line">            res.push_back(nums[idx[i].first][idx[i].second]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5180-å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ"><a href="#5180-å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ" class="headerlink" title="5180. å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ"></a>5180. å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ</h2><h3 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ï¼Œè¯·ä½ è¿”å› éç©º å­åºåˆ—å…ƒç´ å’Œçš„æœ€å¤§å€¼ï¼Œå­åºåˆ—éœ€è¦æ»¡è¶³ï¼šå­åºåˆ—ä¸­æ¯ä¸¤ä¸ª ç›¸é‚» çš„æ•´æ•° <code>nums[i]</code> å’Œ <code>nums[j]</code>ï¼Œå®ƒä»¬åœ¨åŸæ•°ç»„ä¸­çš„ä¸‹æ ‡ i å’Œ j æ»¡è¶³<code>i &lt; j</code>ä¸” <code>j - i &lt;= k</code>ã€‚</p><p>æ•°ç»„çš„å­åºåˆ—å®šä¹‰ä¸ºï¼šå°†æ•°ç»„ä¸­çš„è‹¥å¹²ä¸ªæ•°å­—åˆ é™¤ï¼ˆå¯ä»¥åˆ é™¤ 0 ä¸ªæ•°å­—ï¼‰ï¼Œå‰©ä¸‹çš„æ•°å­—æŒ‰ç…§åŸæœ¬çš„é¡ºåºæ’å¸ƒã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">10</span>,<span class="number">2</span>,<span class="number">-10</span>,<span class="number">5</span>,<span class="number">20</span>], k = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">37</span></span><br><span class="line">è§£é‡Šï¼šå­åºåˆ—ä¸º [<span class="number">10</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">20</span>] ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">-1</span>,<span class="number">-2</span>,<span class="number">-3</span>], k = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">-1</span></span><br><span class="line">è§£é‡Šï¼šå­åºåˆ—å¿…é¡»æ˜¯éç©ºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©æœ€å¤§çš„æ•°å­—ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">10</span>,<span class="number">-2</span>,<span class="number">-10</span>,<span class="number">-5</span>,<span class="number">20</span>], k = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">23</span></span><br><span class="line">è§£é‡Šï¼šå­åºåˆ—ä¸º [<span class="number">10</span>, <span class="number">-2</span>, <span class="number">-5</span>, <span class="number">20</span>] ã€‚</span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= k &lt;= nums.length &lt;= 10^5</code></li><li><code>-10^4 &lt;= nums[i] &lt;= 10^4</code></li></ul><h3 id="åœ°å€-2"><a href="#åœ°å€-2" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/constrained-subset-sum" target="_blank" rel="noopener">https://leetcode-cn.com/problems/constrained-subset-sum</a></p><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  åŠ¨æ€è§„åˆ’</p><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>æœ¬é¢˜åŸºæœ¬ä¸€çœ¼çœ‹åˆ°å°±æ˜¯åŠ¨æ€è§„åˆ’ã€‚</li><li>ä»”ç»†æ€è€ƒä¸€ä¸‹æˆ‘ä»¬è®¾<code>dp[i]</code>ä¸ºå‰<code>i</code>ä¸ªå…ƒç´ çš„æœ€å¤§å­åºåˆ—å’Œä¸”åŒ…å«ç¬¬<code>i</code>ä¸ªå…ƒç´ ã€‚</li><li>æŒ‰ç…§å¸¸è§„æ€è·¯<script type="math/tex; mode=display">dp[i] = max(num[i],max(dp[0],dp[1],dp[2],...,dp[i-1])+nums[i]);</script></li><li>ä½†æ˜¯æœ¬é¢˜ä¸­é™åˆ¶äº†ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„ç›¸éš”ä¸è¶…è¿‡<code>k</code>åˆ™ä¸Šè¿°é€’æ¨å…¬å¼åº”è¯¥å˜ä¸ºï¼š<script type="math/tex; mode=display">dp[i] = max(num[i],max(dp[i-k],dp[i-k+1],dp[i-k+2],...,dp[i-1])+nums[i]);</script></li><li>æˆ‘ä»¬ç”¨æ»‘åŠ¨çª—å£å³å¯ï¼Œæˆ‘ä»¬åˆ©ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œä¿ç•™å‰<code>k</code>å…ƒç´ çš„æœ€å¤§å­åºåˆ—ï¼Œæ¯æ¬¡å–å‰<code>k</code>ä¸ªå…ƒç´ çš„æœ€å¤§å­åºåˆ—å’Œçš„æœ€å¤§å€¼ã€‚å¦‚æœé˜Ÿåˆ—çš„å…ƒç´ ä¸ªæ•°å¤§äº<code>k</code>åˆ™å»æ‰é˜Ÿé¦–çš„å…ƒç´ ã€‚<h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">constrainedSubsetSum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="keyword">int</span> res = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt; prev;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(n,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        dp[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">        prev.insert(dp[<span class="number">0</span>]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            dp[i] = max(nums[i],*prev.rbegin() + nums[i]);</span><br><span class="line">            prev.insert(dp[i]);</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= k) prev.erase(dp[i-k]);</span><br><span class="line">            res = max(res,dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;186å‘¨æ¯”èµ›&quot;&gt;&lt;a href=&quot;#186å‘¨æ¯”èµ›&quot; class=&quot;headerlink&quot; title=&quot;186å‘¨æ¯”èµ›&quot;&gt;&lt;/a&gt;186å‘¨æ¯”èµ›&lt;/h1&gt;&lt;p&gt;æœ¬å‘¨é¢˜ç›®çš„è´¨é‡ä¸é”™ã€‚&lt;/p&gt;&lt;h2 id=&quot;5392-åˆ†å‰²å­—ç¬¦ä¸²çš„æœ€å¤§å¾—åˆ†&quot;&gt;&lt;a href=&quot;#5392-åˆ†å‰²å­—ç¬¦ä¸²çš„æœ€å¤§å¾—åˆ†&quot; class=&quot;headerlink&quot; title=&quot;5392. åˆ†å‰²å­—ç¬¦ä¸²çš„æœ€å¤§å¾—åˆ†&quot;&gt;&lt;/a&gt;5392. åˆ†å‰²å­—ç¬¦ä¸²çš„æœ€å¤§å¾—åˆ†&lt;/h2&gt;&lt;h3 id=&quot;é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®&quot;&gt;&lt;/a&gt;é¢˜ç›®&lt;/h3&gt;&lt;p&gt;ç»™ä½ ä¸€ä¸ªç”±è‹¥å¹² &lt;code&gt;0&lt;/code&gt; å’Œ&lt;code&gt;1&lt;/code&gt; ç»„æˆçš„å­—ç¬¦ä¸² &lt;code&gt;s&lt;/code&gt;ï¼Œè¯·ä½ è®¡ç®—å¹¶è¿”å›å°†è¯¥å­—ç¬¦ä¸²åˆ†å‰²æˆä¸¤ä¸ª éç©º å­å­—ç¬¦ä¸²ï¼ˆå³ å·¦ å­å­—ç¬¦ä¸²å’Œ å³ å­å­—ç¬¦ä¸²ï¼‰æ‰€èƒ½è·å¾—çš„æœ€å¤§å¾—åˆ†ã€‚ã€Œåˆ†å‰²å­—ç¬¦ä¸²çš„å¾—åˆ†ã€ä¸º å·¦ å­å­—ç¬¦ä¸²ä¸­ 0 çš„æ•°é‡åŠ ä¸Š å³ å­å­—ç¬¦ä¸²ä¸­ 1 çš„æ•°é‡ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>ã€Leetcodeã€‘ LCP2020</title>
    <link href="http://yoursite.com/2020/04/20/154/"/>
    <id>http://yoursite.com/2020/04/20/154/</id>
    <published>2020-04-20T15:00:58.392Z</published>
    <updated>2020-04-22T09:39:59.842Z</updated>
    
    <content type="html"><![CDATA[<h1 id="LCP2020"><a href="#LCP2020" class="headerlink" title="LCP2020"></a>LCP2020</h1><p>è¿˜æ˜¯æ¯”èµ›çš„é¢˜ç›®è´¨é‡é«˜ï¼Œå¯æƒœåªåšå‡ºæ¥äº†4é“é¢˜ç›®ï¼Œæœ€åä¸€é“é¢˜ç›®æ²¡æœ‰æ€è·¯ã€‚</p><h2 id="LCP-06-æ‹¿ç¡¬å¸"><a href="#LCP-06-æ‹¿ç¡¬å¸" class="headerlink" title="LCP 06. æ‹¿ç¡¬å¸"></a>LCP 06. æ‹¿ç¡¬å¸</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>æ¡Œä¸Šæœ‰ <code>n</code>å †åŠ›æ‰£å¸ï¼Œæ¯å †çš„æ•°é‡ä¿å­˜åœ¨æ•°ç»„ <code>coins</code>ä¸­ã€‚æˆ‘ä»¬æ¯æ¬¡å¯ä»¥é€‰æ‹©ä»»æ„ä¸€å †ï¼Œæ‹¿èµ°å…¶ä¸­çš„ä¸€æšæˆ–è€…ä¸¤æšï¼Œæ±‚æ‹¿å®Œæ‰€æœ‰åŠ›æ‰£å¸çš„æœ€å°‘æ¬¡æ•°ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼šç¬¬ä¸€å †åŠ›æ‰£å¸æœ€å°‘éœ€è¦æ‹¿ <span class="number">2</span> æ¬¡ï¼Œç¬¬äºŒå †æœ€å°‘éœ€è¦æ‹¿ <span class="number">1</span> æ¬¡ï¼Œç¬¬ä¸‰å †æœ€å°‘éœ€è¦æ‹¿ <span class="number">1</span> æ¬¡ï¼Œæ€»å…± <span class="number">4</span> æ¬¡å³å¯æ‹¿å®Œã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">2</span>,<span class="number">3</span>,<span class="number">10</span>]</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š<span class="number">8</span></span><br></pre></td></tr></table></figure><br>é™åˆ¶ï¼š</p><a id="more"></a><ul><li><code>1 &lt;= n &lt;= 4</code></li><li><code>1 &lt;= coins[i] &lt;= 10</code></li></ul><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/na-ying-bi" target="_blank" rel="noopener">https://leetcode-cn.com/problems/na-ying-bi</a></p><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  æš´åŠ›ã€‚</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>ç®€å•é¢˜ç›®ç›´æ¥è®¡ç®—å³å¯ã€‚</li><li>æ’åºä¾æ¬¡äº¤æ›¿æ‰“å°å‡ºå­—æ¯æˆ–è€…æ•°å­—çš„ä¸ªæ•°å³å¯ã€‚<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minCount</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; coins)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> c : coins)&#123;</span><br><span class="line">            res += (c+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="LCP-07-ä¼ é€’ä¿¡æ¯"><a href="#LCP-07-ä¼ é€’ä¿¡æ¯" class="headerlink" title="LCP 07. ä¼ é€’ä¿¡æ¯"></a>LCP 07. ä¼ é€’ä¿¡æ¯</h2><h3 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>å°æœ‹å‹ <code>A</code> åœ¨å’Œ<code>ta</code>çš„å°ä¼™ä¼´ä»¬ç©ä¼ ä¿¡æ¯æ¸¸æˆï¼Œæ¸¸æˆè§„åˆ™å¦‚ä¸‹ï¼š</p><ol><li>æœ‰ n åç©å®¶ï¼Œæ‰€æœ‰ç©å®¶ç¼–å·åˆ†åˆ«ä¸º 0 ï½ n-1ï¼Œå…¶ä¸­å°æœ‹å‹ A çš„ç¼–å·ä¸º 0</li><li>æ¯ä¸ªç©å®¶éƒ½æœ‰å›ºå®šçš„è‹¥å¹²ä¸ªå¯ä¼ ä¿¡æ¯çš„å…¶ä»–ç©å®¶ï¼ˆä¹Ÿå¯èƒ½æ²¡æœ‰ï¼‰ã€‚ä¼ ä¿¡æ¯çš„å…³ç³»æ˜¯å•å‘çš„ï¼ˆæ¯”3. A å¯ä»¥å‘ B ä¼ ä¿¡æ¯ï¼Œä½† B ä¸èƒ½å‘ A ä¼ ä¿¡æ¯ï¼‰ã€‚<br> æ¯è½®ä¿¡æ¯å¿…é¡»éœ€è¦ä¼ é€’ç»™å¦ä¸€ä¸ªäººï¼Œä¸”ä¿¡æ¯å¯é‡å¤ç»è¿‡åŒä¸€ä¸ªäºº</li></ol><p>ç»™å®šæ€»ç©å®¶æ•° nï¼Œä»¥åŠæŒ‰ <code>[ç©å®¶ç¼–å·,å¯¹åº”å¯ä¼ é€’ç©å®¶ç¼–å·]</code>å…³ç³»ç»„æˆçš„äºŒç»´æ•°ç»„ <code>relation</code>ã€‚è¿”å›ä¿¡æ¯ä»å°<code>A</code>(ç¼–å· 0 ) ç»è¿‡ <code>k</code>è½®ä¼ é€’åˆ°ç¼–å·ä¸º<code>n-1</code> çš„å°ä¼™ä¼´å¤„çš„æ–¹æ¡ˆæ•°ï¼›è‹¥ä¸èƒ½åˆ°è¾¾ï¼Œè¿”å› 0ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">5</span>, relation = [[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">1</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">2</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">4</span>],[<span class="number">2</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">4</span>]], k = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼šä¿¡æ¯ä»å° A ç¼–å· <span class="number">0</span> å¤„å¼€å§‹ï¼Œç» <span class="number">3</span> è½®ä¼ é€’ï¼Œåˆ°è¾¾ç¼–å· <span class="number">4</span>ã€‚å…±æœ‰ <span class="number">3</span> ç§æ–¹æ¡ˆï¼Œåˆ†åˆ«æ˜¯ <span class="number">0</span>-&gt;<span class="number">2</span>-&gt;<span class="number">0</span>-&gt;<span class="number">4</span>ï¼Œ <span class="number">0</span>-&gt;<span class="number">2</span>-&gt;<span class="number">1</span>-&gt;<span class="number">4</span>ï¼Œ <span class="number">0</span>-&gt;<span class="number">2</span>-&gt;<span class="number">3</span>-&gt;<span class="number">4</span>ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">3</span>, relation = [[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">1</span>]], k = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼šä¿¡æ¯ä¸èƒ½ä»å° A å¤„ç»è¿‡ <span class="number">2</span> è½®ä¼ é€’åˆ°ç¼–å· <span class="number">2</span></span><br></pre></td></tr></table></figure><br>é™åˆ¶ï¼š</p><ul><li><code>2 &lt;= n &lt;= 10</code></li><li><code>1 &lt;= k &lt;= 5</code></li><li><code>1 &lt;= relation.length &lt;= 90, ä¸” relation[i].length == 2</code></li><li><code>0 &lt;= relation[i][0],relation[i][1] &lt; n ä¸” relation[i][0] != relation[i][1]</code></li></ul><h3 id="åœ°å€-1"><a href="#åœ°å€-1" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/chuan-di-xin-xi" target="_blank" rel="noopener">https://leetcode-cn.com/problems/chuan-di-xin-xi</a></p><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> dp</p><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li><code>dp[i][j]</code>ä»£è¡¨ä»ç»è¿‡<code>i</code>è½®ä¼ é€’åˆ°<code>j</code>çš„æ–¹æ¡ˆæ•°ã€‚<script type="math/tex; mode=display">dp[i][j] = \sum_{v = 1}^{n}dp[i-1][v] \:\:  if(edge[v][j] == true)</script></li><li>éå¸¸ç®€å•çš„<code>dp</code>.<h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numWays</span><span class="params">(<span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; relation, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(k+<span class="number">1</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n,<span class="number">0</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; graph;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v : relation)&#123;</span><br><span class="line">            graph[v[<span class="number">1</span>]].push_back(v[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">auto</span> v : graph[j])&#123;</span><br><span class="line">                    <span class="keyword">if</span>(dp[i<span class="number">-1</span>][v] &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                        dp[i][j] += dp[i<span class="number">-1</span>][v];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dp[k][n<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="LCP-08-å‰§æƒ…è§¦å‘æ—¶é—´"><a href="#LCP-08-å‰§æƒ…è§¦å‘æ—¶é—´" class="headerlink" title="LCP 08. å‰§æƒ…è§¦å‘æ—¶é—´"></a>LCP 08. å‰§æƒ…è§¦å‘æ—¶é—´</h2><h3 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>åœ¨æˆ˜ç•¥æ¸¸æˆä¸­ï¼Œç©å®¶å¾€å¾€éœ€è¦å‘å±•è‡ªå·±çš„åŠ¿åŠ›æ¥è§¦å‘å„ç§æ–°çš„å‰§æƒ…ã€‚ä¸€ä¸ªåŠ¿åŠ›çš„ä¸»è¦å±æ€§æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯æ–‡æ˜ç­‰çº§ï¼ˆCï¼‰ï¼Œèµ„æºå‚¨å¤‡ï¼ˆRï¼‰ä»¥åŠäººå£æ•°é‡ï¼ˆHï¼‰ã€‚åœ¨æ¸¸æˆå¼€å§‹æ—¶ï¼ˆç¬¬ 0 å¤©ï¼‰ï¼Œä¸‰ç§å±æ€§çš„å€¼å‡ä¸º 0ã€‚</p><p>éšç€æ¸¸æˆè¿›ç¨‹çš„è¿›è¡Œï¼Œæ¯ä¸€å¤©ç©å®¶çš„ä¸‰ç§å±æ€§éƒ½ä¼šå¯¹åº”å¢åŠ ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ <code>increase</code>æ¥è¡¨ç¤ºæ¯å¤©çš„å¢åŠ æƒ…å†µã€‚è¿™ä¸ªäºŒç»´æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„ä¸€ç»´æ•°ç»„ï¼Œä¾‹å¦‚<code>[[1,2,1],[3,4,2]]</code>è¡¨ç¤ºç¬¬ä¸€å¤©ä¸‰ç§å±æ€§åˆ†åˆ«å¢åŠ  1,2,1 è€Œç¬¬äºŒå¤©åˆ†åˆ«å¢åŠ  3,4,2ã€‚</p><p>æ‰€æœ‰å‰§æƒ…çš„è§¦å‘æ¡ä»¶ä¹Ÿç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„<code>requirements</code>è¡¨ç¤ºã€‚è¿™ä¸ªäºŒç»´æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„ä¸€ç»´æ•°ç»„ï¼Œå¯¹äºæŸä¸ªå‰§æƒ…çš„è§¦å‘æ¡ä»¶ <code>c[i], r[i], h[i]</code>ï¼Œå¦‚æœå½“å‰ <code>C &gt;= c[i]</code> ä¸” <code>R &gt;= r[i]</code>ä¸” <code>H &gt;= h[i]</code>ï¼Œåˆ™å‰§æƒ…ä¼šè¢«è§¦å‘ã€‚</p><p>æ ¹æ®æ‰€ç»™ä¿¡æ¯ï¼Œè¯·è®¡ç®—æ¯ä¸ªå‰§æƒ…çš„è§¦å‘æ—¶é—´ï¼Œå¹¶ä»¥ä¸€ä¸ªæ•°ç»„è¿”å›ã€‚å¦‚æœæŸä¸ªå‰§æƒ…ä¸ä¼šè¢«è§¦å‘ï¼Œåˆ™è¯¥å‰§æƒ…å¯¹åº”çš„è§¦å‘æ—¶é—´ä¸º -1 ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š increase = [[<span class="number">2</span>,<span class="number">8</span>,<span class="number">4</span>],[<span class="number">2</span>,<span class="number">5</span>,<span class="number">0</span>],[<span class="number">10</span>,<span class="number">9</span>,<span class="number">8</span>]] requirements = [[<span class="number">2</span>,<span class="number">11</span>,<span class="number">3</span>],[<span class="number">15</span>,<span class="number">10</span>,<span class="number">7</span>],[<span class="number">9</span>,<span class="number">17</span>,<span class="number">12</span>],[<span class="number">8</span>,<span class="number">1</span>,<span class="number">14</span>]]</span><br><span class="line"></span><br><span class="line">è¾“å‡º: [<span class="number">2</span>,<span class="number">-1</span>,<span class="number">3</span>,<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line"></span><br><span class="line">åˆå§‹æ—¶ï¼ŒC = <span class="number">0</span>ï¼ŒR = <span class="number">0</span>ï¼ŒH = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">ç¬¬ <span class="number">1</span> å¤©ï¼ŒC = <span class="number">2</span>ï¼ŒR = <span class="number">8</span>ï¼ŒH = <span class="number">4</span></span><br><span class="line"></span><br><span class="line">ç¬¬ <span class="number">2</span> å¤©ï¼ŒC = <span class="number">4</span>ï¼ŒR = <span class="number">13</span>ï¼ŒH = <span class="number">4</span>ï¼Œæ­¤æ—¶è§¦å‘å‰§æƒ… <span class="number">0</span></span><br><span class="line"></span><br><span class="line">ç¬¬ <span class="number">3</span> å¤©ï¼ŒC = <span class="number">14</span>ï¼ŒR = <span class="number">22</span>ï¼ŒH = <span class="number">12</span>ï¼Œæ­¤æ—¶è§¦å‘å‰§æƒ… <span class="number">2</span></span><br><span class="line"></span><br><span class="line">å‰§æƒ… <span class="number">1</span> å’Œ <span class="number">3</span> æ— æ³•è§¦å‘ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š increase = [[<span class="number">0</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">4</span>,<span class="number">8</span>,<span class="number">8</span>],[<span class="number">8</span>,<span class="number">6</span>,<span class="number">1</span>],[<span class="number">10</span>,<span class="number">10</span>,<span class="number">0</span>]] requirements = [[<span class="number">12</span>,<span class="number">11</span>,<span class="number">16</span>],[<span class="number">20</span>,<span class="number">2</span>,<span class="number">6</span>],[<span class="number">9</span>,<span class="number">2</span>,<span class="number">6</span>],[<span class="number">10</span>,<span class="number">18</span>,<span class="number">3</span>],[<span class="number">8</span>,<span class="number">14</span>,<span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line">è¾“å‡º: [<span class="number">-1</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>]</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š increase = <span class="string">[[1,1,1]]</span> requirements = <span class="string">[[0,0,0]]</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º: [<span class="number">0</span>]</span><br></pre></td></tr></table></figure><br>é™åˆ¶ï¼š`</p><ul><li><code>1 &lt;= increase.length &lt;= 10000</code></li><li><code>1 &lt;= requirements.length &lt;= 100000</code></li><li><code>0 &lt;= increase[i] &lt;= 10</code></li><li><code>0 &lt;= requirements[i] &lt;= 100000</code></li></ul><h3 id="åœ°å€-2"><a href="#åœ°å€-2" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/ju-qing-hong-fa-shi-jian/" target="_blank" rel="noopener">https://leetcode-cn.com/problems/ju-qing-hong-fa-shi-jian/</a></p><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> é¢˜ç›®å‡ºçš„ä¸é”™ï¼Œéå¸¸å…¸å‹çš„äºŒåˆ†æŸ¥æ‰¾</p><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>å…¸å‹çš„äºŒåˆ†æŸ¥æ‰¾ï¼Œå½“æ—¶ç«Ÿç„¶å¾ˆéº»çƒ¦çš„ç”¨çš„çº¿æ®µæ ‘å®Œæˆè¯¥é¢˜çš„è§£ç­”ã€‚</li><li>æˆ‘ä»¬æŠŠæ‰€æœ‰å¤©æ•°çš„å±æ€§å€¼å…¨éƒ¨å åŠ èµ·æ¥ç»„æˆæ•°ç»„ï¼Œç„¶ååˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾çš„ç‰¹æ€§æŸ¥æ‰¾æ»¡è¶³å‰§æƒ…è¦æ±‚çš„æœ€å°çš„å¤©æ•°ã€‚</li><li>å…³äºäºŒåˆ†æŸ¥æ‰¾ç®—æ³•ï¼Œè‡ªå·±æŒæ¡çš„è¿˜æ˜¯ä¸å¤Ÿå¥½ï¼Œç»å¸¸å¯¹äºè¾¹ç•Œæ¡ä»¶å¤„ç†çš„ä¸å¥½ã€‚<h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; getTriggerTime(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; increase, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; requirements) &#123;</span><br><span class="line">        <span class="keyword">int</span> n = increase.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; days;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; curr(<span class="number">3</span>,<span class="number">0</span>);</span><br><span class="line">        </span><br><span class="line">        days.push_back(curr);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v : increase)&#123;</span><br><span class="line">            curr[<span class="number">0</span>] += v[<span class="number">0</span>];</span><br><span class="line">            curr[<span class="number">1</span>] += v[<span class="number">1</span>];</span><br><span class="line">            curr[<span class="number">2</span>] += v[<span class="number">2</span>];</span><br><span class="line">            days.push_back(curr);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v : requirements)&#123;</span><br><span class="line">            <span class="keyword">int</span> l = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> r = days.size()<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">                <span class="keyword">int</span> mid = (l+r)/<span class="number">2</span>;</span><br><span class="line">                <span class="keyword">if</span>(days[mid][<span class="number">0</span>] &lt; v[<span class="number">0</span>] || days[mid][<span class="number">1</span>] &lt; v[<span class="number">1</span>] || days[mid][<span class="number">2</span>] &lt; v[<span class="number">2</span>])&#123;</span><br><span class="line">                    l = mid + <span class="number">1</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    r = mid;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(days[l][<span class="number">0</span>] &gt;= v[<span class="number">0</span>] &amp;&amp; days[l][<span class="number">1</span>] &gt;= v[<span class="number">1</span>] &amp;&amp; days[l][<span class="number">2</span>] &gt;= v[<span class="number">2</span>])&#123;</span><br><span class="line">                res.push_back(l);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                res.push_back(<span class="number">-1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="LCP-09-æœ€å°è·³è·ƒæ¬¡æ•°"><a href="#LCP-09-æœ€å°è·³è·ƒæ¬¡æ•°" class="headerlink" title="LCP 09. æœ€å°è·³è·ƒæ¬¡æ•°"></a>LCP 09. æœ€å°è·³è·ƒæ¬¡æ•°</h2><h3 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ä¸ºäº†ç»™åˆ·é¢˜çš„åŒå­¦ä¸€äº›å¥–åŠ±ï¼ŒåŠ›æ‰£å›¢é˜Ÿå¼•å…¥äº†ä¸€ä¸ªå¼¹ç°§æ¸¸æˆæœºã€‚æ¸¸æˆæœºç”± N ä¸ªç‰¹æ®Šå¼¹ç°§æ’æˆä¸€æ’ï¼Œç¼–å·ä¸º 0 åˆ° N-1ã€‚åˆå§‹æœ‰ä¸€ä¸ªå°çƒåœ¨ç¼–å· 0 çš„å¼¹ç°§å¤„ã€‚è‹¥å°çƒåœ¨ç¼–å·ä¸º i çš„å¼¹ç°§å¤„ï¼Œé€šè¿‡æŒ‰åŠ¨å¼¹ç°§ï¼Œå¯ä»¥é€‰æ‹©æŠŠå°çƒå‘å³å¼¹å°„<code>jump[i]</code>çš„è·ç¦»ï¼Œæˆ–è€…å‘å·¦å¼¹å°„åˆ°ä»»æ„å·¦ä¾§å¼¹ç°§çš„ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ç¼–å·ä¸º i å¼¹ç°§å¤„æŒ‰åŠ¨å¼¹ç°§ï¼Œå°çƒå¯ä»¥å¼¹å‘ 0 åˆ° i-1 ä¸­ä»»æ„å¼¹ç°§æˆ–è€… <code>i+jump[i]</code> çš„å¼¹ç°§ï¼ˆè‹¥ <code>i+jump[i]&gt;=N</code> ï¼Œåˆ™è¡¨ç¤ºå°çƒå¼¹å‡ºäº†æœºå™¨ï¼‰ã€‚å°çƒä½äºç¼–å· 0 å¤„çš„å¼¹ç°§æ—¶ä¸èƒ½å†å‘å·¦å¼¹ã€‚</p><p>ä¸ºäº†è·å¾—å¥–åŠ±ï¼Œä½ éœ€è¦å°†å°çƒå¼¹å‡ºæœºå™¨ã€‚è¯·æ±‚å‡ºæœ€å°‘éœ€è¦æŒ‰åŠ¨å¤šå°‘æ¬¡å¼¹ç°§ï¼Œå¯ä»¥å°†å°çƒä»ç¼–å· 0 å¼¹ç°§å¼¹å‡ºæ•´ä¸ªæœºå™¨ï¼Œå³å‘å³è¶Šè¿‡ç¼–å· N-1 çš„å¼¹ç°§ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šjump = [<span class="number">2</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼šå° Z æœ€å°‘éœ€è¦æŒ‰åŠ¨ <span class="number">3</span> æ¬¡å¼¹ç°§ï¼Œå°çƒä¾æ¬¡åˆ°è¾¾çš„é¡ºåºä¸º <span class="number">0</span> -&gt; <span class="number">2</span> -&gt; <span class="number">1</span> -&gt; <span class="number">6</span>ï¼Œæœ€ç»ˆå°çƒå¼¹å‡ºäº†æœºå™¨ã€‚</span><br></pre></td></tr></table></figure><br>é™åˆ¶ï¼š</p><ul><li><code>1 &lt;= jump.length &lt;= 10^6</code></li><li><code>1 &lt;= jump[i] &lt;= 10000</code></li></ul><h3 id="åœ°å€-3"><a href="#åœ°å€-3" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/zui-xiao-tiao-yue-ci-shu" target="_blank" rel="noopener">https://leetcode-cn.com/problems/zui-xiao-tiao-yue-ci-shu</a></p><h3 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  BFSæˆ–è€…DP</p><h3 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>åˆšå¼€å§‹å‡†å¤‡ç”¨BFSï¼Œç¬¬ä¸€æ¬¡å†™BFSæ—¶ç«Ÿç„¶è¶…æ—¶äº†ï¼Œåæ¥ä»”ç»†å‘ç°è¿˜æ˜¯éƒ¨åˆ†æ¡ä»¶å­˜åœ¨é‡å¤çš„é—®é¢˜ã€‚</li><li>æ¯æ¬¡å¾€å‰è·³çš„æ—¶å€™æˆ–è€…å¾€åè·³çš„æ—¶å€™å¦‚æœå‘ç°éƒ¨åˆ†å…ƒç´ å·²ç»è®¿é—®è¿‡æ—¶ï¼Œéœ€è¦å°†å…¶å‰”é™¤æ‰ã€‚</li><li>è®°å½•å½“å‰æ­¥æ•°ä¸‹æ‰€èƒ½å¤Ÿè·³çš„æœ€è¿œè·ç¦»ï¼Œè¿™æ—¶ä¸‹ä¸€å¸ƒå¦‚æœé€‰æ‹©å¾€å›è·³æ—¶ï¼Œç›´æ¥ä»ä¸Šä¸€æ¬¡çš„æœ€å¤§å€¼å¼€å§‹å¸¸è¯†ï¼Œè€Œä¸å¿…è¦ä»0å¼€å§‹è·³èµ·ã€‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º<code>O(n)</code>.</li><li>å…¶å®è¿™ä¸ªé¢˜ç›®åˆšå¼€å§‹å‡†å¤‡åˆ©ç”¨<code>set</code>è‡ªåŠ¨æ’åºçš„ç‰¹æ€§ï¼Œæ¯æ¬¡ç›´æ¥å°†å·²ç»è®¿é—®çš„å…ƒç´ ç›´æ¥ä»<code>set</code>ä¸­è‡ªåŠ¨å»æ‰ã€‚ç®—æ³•çš„æ—¶é—´æ—¶é—´å¤æ‚åº¦ä¸º<code>O(lgn)</code>,å› ä¸ºäºŒå‰å¹³è¡¡æ ‘æ¯æ¬¡è¿›è¡ŒæŸ¥æ‰¾æ—¶éœ€è¦<code>lgn</code>çš„æ—¶é—´å¤æ‚åº¦ï¼Œç»“æœæ„å¤–çš„è¶…æ—¶ï¼Œæœ€åä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æ— æ³•é€šè¿‡ã€‚</li><li>æ—¶é—´ä»”ç»†è®¡ç®—ä»¥ä¸‹ï¼Œé¢˜ç›®ä¸­çš„æ•°é‡çº§ä¸º<code>10e6</code>,å¦‚æœåˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦çš„æ•°é‡çº§åœ¨<code>1e7</code>æ¬¡æ–¹çš„æ•°é‡çº§ï¼Œè¿™ç§æƒ…å†µä¸‹å…¶å®å¾ˆå®¹æ˜“è¶…æ—¶ã€‚</li><li>ä»”ç»†æƒ³æƒ³å…¶å®ç»å¤§éƒ¨åˆ†é—®é¢˜çš„æœ€ä¼˜è§£æ³•å…¶å®éƒ½æ˜¯éå¸¸ç®€å•çš„ï¼Œå¹¶ä¸”åŸºæœ¬ä¸Šæ€è·¯éƒ½å¾ˆç›´æ¥å’Œç®€å•ï¼Œå®é™…åœ¨åšé¢˜çš„æ—¶å€™å¦‚æœæŠŠé¢˜ç›®æƒ³çš„å¤ªå¤æ‚çš„è¯ï¼Œå¾ˆå¯èƒ½æ—¶è‡ªå·±çš„è§£æ³•åº”è¯¥æ—¶é”™è¯¯çš„ï¼Œè¿™ç‚¹å¿…é¡»çŸ¥é“è‡ªå·±çš„é”™è¯¯ç‚¹åœ¨å“ªé‡Œï¼Œæ€è·¯åœ¨å“ªé‡Œã€‚å…¶å®ç›®å‰åˆ·é¢˜æ¥è¯´å¯¹äºåº”ä»˜ä¸€èˆ¬çš„é¢è¯•è‚¯å®šæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœæ­£å¯¹äºç«èµ›çš„è¯ï¼Œè‡ªå·±çš„æ°´å¹³å…¶å®å·®çš„å¤ªè¿œå¤ªè¿œã€‚</li><li>å¯¹äºç«èµ›çš„è¯ï¼Œæ„Ÿè§‰è‡ªå·±è¿™ç§è€äººè‚¯å®šæ˜¯è¿œè¿œè¾¾ä¸åˆ°å¹´è½»äººçš„æ°´å¹³ã€‚<h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minJump</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; jump)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = jump.size();</span><br><span class="line">        <span class="keyword">int</span> step = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> mx = <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; qu;</span><br><span class="line"></span><br><span class="line">        qu.push(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">while</span>(!qu.empty())&#123;</span><br><span class="line">            <span class="keyword">int</span> sz = qu.size();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sz; ++i)&#123;</span><br><span class="line">                <span class="keyword">int</span> curr = qu.front();</span><br><span class="line">                qu.pop();</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(curr + jump[curr] &gt;= n) <span class="keyword">return</span> step + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span>(curr + jump[curr] &gt;= mx) qu.push(curr + jump[curr]);</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = mx; j &lt; curr; ++j) qu.push(j);</span><br><span class="line">                mx = max(mx,curr + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            step++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="LCP-10-äºŒå‰æ ‘ä»»åŠ¡è°ƒåº¦"><a href="#LCP-10-äºŒå‰æ ‘ä»»åŠ¡è°ƒåº¦" class="headerlink" title="LCP 10. äºŒå‰æ ‘ä»»åŠ¡è°ƒåº¦"></a>LCP 10. äºŒå‰æ ‘ä»»åŠ¡è°ƒåº¦</h2><h3 id="é¢˜ç›®-4"><a href="#é¢˜ç›®-4" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ä»»åŠ¡è°ƒåº¦ä¼˜åŒ–æ˜¯è®¡ç®—æœºæ€§èƒ½ä¼˜åŒ–çš„å…³é”®ä»»åŠ¡ä¹‹ä¸€ã€‚åœ¨ä»»åŠ¡ä¼—å¤šæ—¶ï¼Œä¸åŒçš„è°ƒåº¦ç­–ç•¥å¯èƒ½ä¼šå¾—åˆ°ä¸åŒçš„æ€»ä½“æ‰§è¡Œæ—¶é—´ï¼Œå› æ­¤å¯»æ±‚ä¸€ä¸ªæœ€ä¼˜çš„è°ƒåº¦æ–¹æ¡ˆæ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚</p><p>é€šå¸¸ä»»åŠ¡ä¹‹é—´æ˜¯å­˜åœ¨ä¾èµ–å…³ç³»çš„ï¼Œå³å¯¹äºæŸä¸ªä»»åŠ¡ï¼Œä½ éœ€è¦å…ˆå®Œæˆä»–çš„å‰å¯¼ä»»åŠ¡ï¼ˆå¦‚æœéç©ºï¼‰ï¼Œæ‰èƒ½å¼€å§‹æ‰§è¡Œè¯¥ä»»åŠ¡ã€‚æˆ‘ä»¬ä¿è¯ä»»åŠ¡çš„ä¾èµ–å…³ç³»æ˜¯ä¸€æ£µäºŒå‰æ ‘ï¼Œå…¶ä¸­ <code>root</code> ä¸ºæ ¹ä»»åŠ¡ï¼Œ<code>root.left</code> å’Œ <code>root.right</code> ä¸ºä»–çš„ä¸¤ä¸ªå‰å¯¼ä»»åŠ¡ï¼ˆå¯èƒ½ä¸ºç©ºï¼‰ï¼Œ<code>root.val</code> ä¸ºå…¶è‡ªèº«çš„æ‰§è¡Œæ—¶é—´ã€‚</p><p>åœ¨ä¸€ä¸ª CPU æ ¸æ‰§è¡ŒæŸä¸ªä»»åŠ¡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•æ—¶åˆ»æš‚åœå½“å‰ä»»åŠ¡çš„æ‰§è¡Œï¼Œå¹¶ä¿ç•™å½“å‰æ‰§è¡Œè¿›åº¦ã€‚åœ¨ä¸‹æ¬¡ç»§ç»­æ‰§è¡Œè¯¥ä»»åŠ¡æ—¶ï¼Œä¼šä»ä¹‹å‰åœç•™çš„è¿›åº¦å¼€å§‹ç»§ç»­æ‰§è¡Œã€‚æš‚åœçš„æ—¶é—´å¯ä»¥ä¸æ˜¯æ•´æ•°ã€‚</p><p>ç°åœ¨ï¼Œç³»ç»Ÿæœ‰ä¸¤ä¸ª CPU æ ¸ï¼Œå³æˆ‘ä»¬å¯ä»¥åŒæ—¶æ‰§è¡Œä¸¤ä¸ªä»»åŠ¡ï¼Œä½†æ˜¯åŒä¸€ä¸ªä»»åŠ¡ä¸èƒ½åŒæ—¶åœ¨ä¸¤ä¸ªæ ¸ä¸Šæ‰§è¡Œã€‚ç»™å®šè¿™é¢—ä»»åŠ¡æ ‘ï¼Œè¯·æ±‚å‡ºæ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•çš„æœ€å°æ—¶é—´ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">image.png</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šroot = [<span class="number">47</span>, <span class="number">74</span>, <span class="number">31</span>]</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š<span class="number">121</span></span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼šæ ¹èŠ‚ç‚¹çš„å·¦å³èŠ‚ç‚¹å¯ä»¥å¹¶è¡Œæ‰§è¡Œ<span class="number">31</span>åˆ†é’Ÿï¼Œå‰©ä¸‹çš„<span class="number">43</span>+<span class="number">47</span>åˆ†é’Ÿåªèƒ½ä¸²è¡Œæ‰§è¡Œï¼Œå› æ­¤æ€»ä½“æ‰§è¡Œæ—¶é—´æ˜¯<span class="number">121</span>åˆ†é’Ÿã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">image.png</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šroot = [<span class="number">15</span>, <span class="number">21</span>, <span class="literal">null</span>, <span class="number">24</span>, <span class="literal">null</span>, <span class="number">27</span>, <span class="number">26</span>]</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š<span class="number">87</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">image.png</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="literal">null</span>,<span class="literal">null</span>,<span class="number">4</span>,<span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š<span class="number">7.5</span></span><br></pre></td></tr></table></figure><br>é™åˆ¶ï¼š</p><ul><li><code>1 &lt;= èŠ‚ç‚¹æ•°é‡ &lt;= 1000</code></li><li><code>1 &lt;= å•èŠ‚ç‚¹æ‰§è¡Œæ—¶é—´ &lt;= 1000</code></li></ul><h3 id="åœ°å€-4"><a href="#åœ°å€-4" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/er-cha-shu-ren-wu-diao-du" target="_blank" rel="noopener">https://leetcode-cn.com/problems/er-cha-shu-ren-wu-diao-du</a></p><h3 id="é¢˜æ„-4"><a href="#é¢˜æ„-4" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  è´ªå¿ƒç®—æ³•</p><h3 id="æ€è·¯-4"><a href="#æ€è·¯-4" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>å½“æ—¶æ¯”èµ›çš„æ—¶å€™æ²¡æœ‰æƒ³æ˜ç™½ï¼Œè§£é¢˜æ€è·¯å¯ä»¥å‚è€ƒlee215çš„å¾®ä¿¡å…¬ä¼—å·<a href="https://mp.weixin.qq.com/s/rmwVuDpbQlhoK7DcD715bg" target="_blank" rel="noopener">2020åŠ›æ‰£æ¯</a>ã€‚</li><li>åæ¥ä»”ç»†æ€è€ƒäº†ä¸€ä¸‹ï¼Œè¿˜æ˜¯éå¸¸æœ‰æ„æ€çš„ï¼Œå½“æ—¶æ¯”èµ›æ—¶æƒ³åˆ°äº†è¿™ç‚¹ï¼Œä½†æ˜¯å¦‚ä½•è¿›ä¸€æ­¥ä¼˜åŒ–ç¡®å®æ²¡æœ‰æ·±å…¥æ€è€ƒï¼Œé‡åˆ°å›°éš¾å°±æ”¾å¼ƒï¼Œç¡®å®æ˜¯è‡ªå·±æœ€å¤§çš„é—®é¢˜ã€‚</li><li>æ ¹æ®é¢˜ç›®ç§çš„æ€è·¯ï¼Œå®é™…ä¸Šå¯¹äºèŠ‚ç‚¹<code>root</code>,å®ƒçš„å·¦å³å­æ ‘çš„ä»»åŠ¡æ˜¯å¯ä»¥è¿›è¡Œå¹¶è¡Œè¿è¡Œçš„ï¼Œæˆ‘ä»¬æ•´ä¸ªçš„è§£é¢˜æ€è·¯ä¹Ÿæ˜¯å›´ç»•ç€ï¼Œå¦‚ä½•èƒ½å¤Ÿæ›´å¥½çš„è§£å†³å·¦å³å­æ ‘åŒæ—¶å¹¶è¡Œçš„ä»»åŠ¡çš„æœ€å¤§å€¼çš„é—®é¢˜ã€‚æˆ‘ä»¬<code>dfs</code>æ—¶ï¼Œæ¯æ¬¡è¿”å›<code>root</code>èŠ‚ç‚¹ä¸‹åŒæ ¸å¹¶è¡Œä»»åŠ¡çš„è¿è¡Œæ—¶é—´å’Œå•æ ¸ä»»åŠ¡è¿è¡Œçš„æ—¶é—´ï¼Œåˆ†åˆ«ä¸º<code>s</code>,<code>d</code>,å¦‚ä½•å›´ç»•å·¦å³å­æ ‘çš„ä»»åŠ¡è¿›è¡Œåˆå¹¶ã€‚</li><li>æˆ‘ä»¬å‡è®¾å½“å‰<code>root</code>èŠ‚ç‚¹çš„å·¦å­æ ‘è¿”å›çš„åŒæ ¸å¹¶è¡Œæ—¶é—´å’Œå•æ ¸è¿è¡Œæ—¶é—´åˆ†åˆ«ä¸º<code>d1</code>,<code>s1</code>.å³å­æ ‘è¿”å›çš„åŒæ ¸å¹¶è¡Œæ—¶é—´å’Œå•æ ¸è¿è¡Œæ—¶é—´åˆ†åˆ«ä¸º<code>d2</code>,<code>s2</code>.å¸¸è§„æ€è·¯æ˜¯æˆ‘ä»¬è®²æ‰€æœ‰çš„å¹¶è¡Œæ—¶é—´åŠ èµ·æ¥ï¼Œå†æŠŠå•æ ¸è¿è¡Œçš„æ—¶é—´ä¸­çš„éƒ¨åˆ†æœ€å°å€¼éƒ¨åˆ†è¿›è¡Œå¹¶è¡Œå³<code>min(s1,s2)</code>.<br>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—åˆ°å·¦å³å­æ ‘çš„æ€»å…±çš„å¹¶è¡Œæ—¶é—´ä¸ºï¼š<script type="math/tex; mode=display">d = d1 + d2 + min(s1,s2)</script>å·¦å³å­æ ‘çš„æ€»å…±çš„å•æ ¸è¿è¡Œæ—¶é—´ä¸º:<script type="math/tex; mode=display">s = abs(s1-s2)</script>æ‰€ä»¥å®Œæˆå·¦å³å­æ ‘çš„ä»»åŠ¡çš„æ€»æ—¶é—´åº”è¯¥ä¸ºï¼š<script type="math/tex; mode=display">t = d + s = d1 + d2 + min(s1,s2) + abs(s1-s2)\\</script></li><li>ä¸Šé¢è¿™æ ·çš„ç»“æœåŸºæœ¬ä¸Šå¤§éƒ¨åˆ†äººéƒ½èƒ½æƒ³åˆ°ï¼Œä½†æ˜¯å®é™…ä¸Šè¿™æ ·çœŸçš„æ˜¯æœ€å°å—ï¼Ÿæˆ‘ä»¬èƒ½å¦å†å¢åŠ dçš„æ—¶é—´ï¼Œå‡å°‘sçš„æ—¶é—´ï¼Ÿä½†æ˜¯å¦‚ä½•å†å¢åŠ å¹¶è¡Œçš„æ—¶é—´ï¼Œå¯èƒ½è®¨è®ºå°±éå¸¸çš„å¤æ‚ã€‚éšéšçº¦çº¦æ„Ÿè§‰å¯ä»¥è¿›è¡Œä¼˜åŒ–ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“å‡è®¾å¹¶è¡Œçš„æ—¶é—´då†å¢å‡$\Delta t1$,å•æ ¸è¿è¡Œçš„æ—¶é—´å°±å¯ä»¥å‡å°‘$2\Delta t1$,æ€»çš„æ—¶é—´ä¹Ÿå°±å‡å°‘$\Delta t1$, ä¹Ÿå³æˆ‘ä»¬æƒ³åŠæ³•å¦‚ä½•å‡å°‘<code>abs(s1-s2)</code>ï¼Œå‡å°‘å•æ ¸è¿è¡Œçš„æ—¶é—´ã€‚<script type="math/tex; mode=display">t = d + \Delta t1 + s - 2\Delta t1 = d + s - \Delta t1\\0 \le \Delta t1 \le \frac{s}{2} \\</script>ä»”ç»†æ€è€ƒä¸€ä¸‹ï¼Œè¿™ç‚¹ç¨å¾®æœ‰ç‚¹ç»•å¼¯ã€‚å¦‚ä½•è¿›è¡Œä¼˜åŒ–å‘¢ï¼Ÿæ¯”å¦‚<code>s1 &gt; s2</code>,æˆ‘ä»¬èƒ½å¦å‡å°‘<code>d2</code>çš„å¹¶è¡Œæ—¶é—´$\Delta t$,ç„¶å<code>s2</code>å°±å¢åŠ äº†$2 \Delta t$çš„æ—¶é—´å†…ç„¶å<code>s1</code>å°±èƒ½å¢åŠ $2 \Delta t$ä¸<code>s2</code>è¿›è¡Œå¹¶è¡Œï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½å¤Ÿå¢åŠ å¹¶è¡Œæ—¶é—´ï¼Œé‚£ä¹ˆæ€»çš„æ¶ˆè€—æ—¶é—´ä¹Ÿå°±å‡å°‘äº†ã€‚<script type="math/tex; mode=display">d2 = d2 - \Delta t\\s2 = s2 + 2*\Delta t\\t = d + s  \\t = d1 + d2  - \Delta t + min(s1,s2 + 2*\Delta t) + abs(s1-s2-2*\Delta t)</script>ä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦ä»<code>d2</code>ä¸­å‰¥ç¦»éƒ¨åˆ†æ—¶é—´å°½é‡å»¶é•¿<code>s2</code>çš„ä½¿å¾—<code>abs(s1-s2)</code>æœ€å°ã€‚åªæœ‰è¿™æ ·æ‰èƒ½å¾—åˆ°æœ€å°å€¼ï¼Œå®é™…ä¹Ÿæ˜¯è´ªå¿ƒç®—æ³•ã€‚æ‰€ä»¥å½“<code>s1 &gt; s2</code>æ—¶æˆ‘ä»¬å°±è¦æƒ³åŠæ³•æé«˜<code>s2</code>,å½“<code>s2 &gt; s1</code>æ—¶æˆ‘ä»¬å°±éœ€è¦æƒ³åŠæ³•æé«˜<code>s1</code>.åªæœ‰è¿™æ ·æ‰èƒ½ä¿è¯ç»å¯¹å€¼ä¹‹å·®æœ€å°ã€‚<br>å·²çŸ¥å¦‚ä¸‹æ¡ä»¶:<script type="math/tex; mode=display">s1 \ge s2 \\s1 \ge s2 - 2*\Delta t\\d2 \ge \Delta t\\d = d1 + d2 + min(s1,s2) = d1 + d2 + s2\\s = abs(s1-s2) = s1 - s2 \\t = d1 + d2 + s1 \\</script>æˆ‘ä»¬å¯¹ä¸Šè¿°è¡¨è¾¾å¼è¿›è¡Œå±•å¼€ï¼š<script type="math/tex; mode=display">d^{'} = d1 + d2 + s2 + \Delta t \\s^{'} = s1 - s2 - 2*\Delta t \\t^{'} = d1 + d2  - \Delta t + s2 + 2*\Delta t  + (s1-s2-2*\Delta t)  \\t^{'} = d1 + d2 - \Delta t + s1</script>å½“ç„¶æœ€ä¼˜è§£çš„è¯è‚¯å®šä¸ºï¼š<script type="math/tex; mode=display">\Delta t = \frac{s1-s2}{2}</script>ä½†ç”±äºè¿˜æœ‰ä¸‹é¢çš„é™åˆ¶ã€‚<script type="math/tex; mode=display">d2 \ge \Delta t\\</script>æ‰€ä»¥æ€»ç»“èµ·æ¥ï¼š<script type="math/tex; mode=display">\Delta T = min(\frac{s1-s2}{2},d2)</script><h3 id="ä»£ç -4"><a href="#ä»£ç -4" class="headerlink" title="ä»£ç "></a>ä»£ç </h3></li></ol></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    pair&lt;<span class="keyword">double</span>,<span class="keyword">double</span>&gt; dfs(TreeNode * root)&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">NULL</span>) <span class="keyword">return</span> &#123;<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">        pair&lt;<span class="keyword">double</span>,<span class="keyword">double</span>&gt; l = dfs(root-&gt;left);</span><br><span class="line">        pair&lt;<span class="keyword">double</span>,<span class="keyword">double</span>&gt; r = dfs(root-&gt;right);</span><br><span class="line">        <span class="keyword">double</span> s = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">double</span> d = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">double</span> delta = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span>(l.first &gt;= r.first)&#123;</span><br><span class="line">            delta = min((l.first-r.first)/<span class="number">2</span>,r.second);</span><br><span class="line">            d = l.second + r.second + r.first + delta;</span><br><span class="line">            s = l.first - r.first - <span class="number">2</span>*delta;</span><br><span class="line">            <span class="keyword">return</span> &#123;s + root-&gt;val,d&#125;;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            delta = min((r.first-l.first)/<span class="number">2</span>,l.second);</span><br><span class="line">            d = l.second + r.second + l.first + delta;</span><br><span class="line">            s = r.first - l.first - <span class="number">2</span>*delta;</span><br><span class="line">            <span class="keyword">return</span> &#123;s + root-&gt;val,d&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">minimalExecTime</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        pair&lt;<span class="keyword">double</span>,<span class="keyword">double</span>&gt; t = dfs(root);</span><br><span class="line">        <span class="keyword">return</span> t.first + t.second;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;LCP2020&quot;&gt;&lt;a href=&quot;#LCP2020&quot; class=&quot;headerlink&quot; title=&quot;LCP2020&quot;&gt;&lt;/a&gt;LCP2020&lt;/h1&gt;&lt;p&gt;è¿˜æ˜¯æ¯”èµ›çš„é¢˜ç›®è´¨é‡é«˜ï¼Œå¯æƒœåªåšå‡ºæ¥äº†4é“é¢˜ç›®ï¼Œæœ€åä¸€é“é¢˜ç›®æ²¡æœ‰æ€è·¯ã€‚&lt;/p&gt;&lt;h2 id=&quot;LCP-06-æ‹¿ç¡¬å¸&quot;&gt;&lt;a href=&quot;#LCP-06-æ‹¿ç¡¬å¸&quot; class=&quot;headerlink&quot; title=&quot;LCP 06. æ‹¿ç¡¬å¸&quot;&gt;&lt;/a&gt;LCP 06. æ‹¿ç¡¬å¸&lt;/h2&gt;&lt;h3 id=&quot;é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®&quot;&gt;&lt;/a&gt;é¢˜ç›®&lt;/h3&gt;&lt;p&gt;æ¡Œä¸Šæœ‰ &lt;code&gt;n&lt;/code&gt;å †åŠ›æ‰£å¸ï¼Œæ¯å †çš„æ•°é‡ä¿å­˜åœ¨æ•°ç»„ &lt;code&gt;coins&lt;/code&gt;ä¸­ã€‚æˆ‘ä»¬æ¯æ¬¡å¯ä»¥é€‰æ‹©ä»»æ„ä¸€å †ï¼Œæ‹¿èµ°å…¶ä¸­çš„ä¸€æšæˆ–è€…ä¸¤æšï¼Œæ±‚æ‹¿å®Œæ‰€æœ‰åŠ›æ‰£å¸çš„æœ€å°‘æ¬¡æ•°ã€‚&lt;/p&gt;&lt;p&gt;ç¤ºä¾‹ 1ï¼š&lt;br&gt;&lt;figure class=&quot;highlight angelscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è¾“å…¥ï¼š[&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è¾“å‡ºï¼š&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è§£é‡Šï¼šç¬¬ä¸€å †åŠ›æ‰£å¸æœ€å°‘éœ€è¦æ‹¿ &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; æ¬¡ï¼Œç¬¬äºŒå †æœ€å°‘éœ€è¦æ‹¿ &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; æ¬¡ï¼Œç¬¬ä¸‰å †æœ€å°‘éœ€è¦æ‹¿ &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; æ¬¡ï¼Œæ€»å…± &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt; æ¬¡å³å¯æ‹¿å®Œã€‚&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;ç¤ºä¾‹ 2ï¼š&lt;br&gt;&lt;figure class=&quot;highlight angelscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è¾“å…¥ï¼š[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è¾“å‡ºï¼š&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;é™åˆ¶ï¼š&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>ã€Leetcodeã€‘ ç¬¬185å‘¨æ¯”èµ›</title>
    <link href="http://yoursite.com/2020/04/19/153/"/>
    <id>http://yoursite.com/2020/04/19/153/</id>
    <published>2020-04-19T00:37:17.252Z</published>
    <updated>2020-04-20T15:00:07.015Z</updated>
    
    <content type="html"><![CDATA[<h1 id="185å‘¨æ¯”èµ›"><a href="#185å‘¨æ¯”èµ›" class="headerlink" title="185å‘¨æ¯”èµ›"></a>185å‘¨æ¯”èµ›</h1><p>ä»Šå¤©çš„é¢˜ç›®è´¨é‡è¿˜æ˜¯éå¸¸é«˜,é¢˜ç›®è´¨é‡éƒ½ä¸é”™ï¼Œæœ‰ä¸€å®šçš„å°æŠ€å·§ã€‚</p><h2 id="5388-é‡æ–°æ ¼å¼åŒ–å­—ç¬¦ä¸²"><a href="#5388-é‡æ–°æ ¼å¼åŒ–å­—ç¬¦ä¸²" class="headerlink" title="5388. é‡æ–°æ ¼å¼åŒ–å­—ç¬¦ä¸²"></a>5388. é‡æ–°æ ¼å¼åŒ–å­—ç¬¦ä¸²</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªæ··åˆäº†æ•°å­—å’Œå­—æ¯çš„å­—ç¬¦ä¸² sï¼Œå…¶ä¸­çš„å­—æ¯å‡ä¸ºå°å†™è‹±æ–‡å­—æ¯ã€‚</p><p>è¯·ä½ å°†è¯¥å­—ç¬¦ä¸²é‡æ–°æ ¼å¼åŒ–ï¼Œä½¿å¾—ä»»æ„ä¸¤ä¸ªç›¸é‚»å­—ç¬¦çš„ç±»å‹éƒ½ä¸åŒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå­—æ¯åé¢åº”è¯¥è·Ÿç€æ•°å­—ï¼Œè€Œæ•°å­—åé¢åº”è¯¥è·Ÿç€å­—æ¯ã€‚</p><p>è¯·ä½ è¿”å› é‡æ–°æ ¼å¼åŒ–å çš„å­—ç¬¦ä¸²ï¼›å¦‚æœæ— æ³•æŒ‰è¦æ±‚é‡æ–°æ ¼å¼åŒ–ï¼Œåˆ™è¿”å›ä¸€ä¸ª ç©ºå­—ç¬¦ä¸² ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">s</span> = <span class="string">"a0b1c2"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"0a1b2c"</span></span><br><span class="line">è§£é‡Šï¼š<span class="string">"0a1b2c"</span> ä¸­ä»»æ„ä¸¤ä¸ªç›¸é‚»å­—ç¬¦çš„ç±»å‹éƒ½ä¸åŒã€‚ <span class="string">"a0b1c2"</span>, <span class="string">"0a1b2c"</span>, <span class="string">"0c2a1b"</span> ä¹Ÿæ˜¯æ»¡è¶³é¢˜ç›®è¦æ±‚çš„ç­”æ¡ˆã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">s</span> = <span class="string">"leetcode"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">""</span></span><br><span class="line">è§£é‡Šï¼š<span class="string">"leetcode"</span> ä¸­åªæœ‰å­—æ¯ï¼Œæ‰€ä»¥æ— æ³•æ»¡è¶³é‡æ–°æ ¼å¼åŒ–çš„æ¡ä»¶ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">s</span> = <span class="string">"1229857369"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">""</span></span><br><span class="line">è§£é‡Šï¼š<span class="string">"1229857369"</span> ä¸­åªæœ‰æ•°å­—ï¼Œæ‰€ä»¥æ— æ³•æ»¡è¶³é‡æ–°æ ¼å¼åŒ–çš„æ¡ä»¶ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">s</span> = <span class="string">"covid2019"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"c2o0v1i9d"</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 5ï¼š<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">s</span> = <span class="string">"ab123"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"1a2b3"</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= s.length &lt;= 500</code></li><li>s ä»…ç”±å°å†™è‹±æ–‡å­—æ¯å’Œ/æˆ–æ•°å­—ç»„æˆã€‚</li></ul><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/reformat-the-string" target="_blank" rel="noopener">https://leetcode-cn.com/problems/reformat-the-string</a></p><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  æš´åŠ›ã€‚</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>å­—æ¯çš„æ•°ç›®å’Œæ•°å­—çš„æ•°ç›®å·®çš„ç»å¯¹å€¼å¤§äº2åˆ™ä¸å¯èƒ½äº§ç”Ÿå‡ºç›¸åº”çš„å­—ç¬¦ä¸²ã€‚</li><li>æ’åºä¾æ¬¡äº¤æ›¿æ‰“å°å‡ºå­—æ¯æˆ–è€…æ•°å­—çš„ä¸ªæ•°å³å¯ã€‚<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">reformat</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> alpha = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> digit = <span class="number">0</span>;</span><br><span class="line">        <span class="function"><span class="built_in">string</span> <span class="title">res</span><span class="params">(s.size(),<span class="string">' '</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> c : s)&#123;</span><br><span class="line">            <span class="keyword">if</span>(c &gt;= <span class="string">'0'</span> &amp;&amp; c &lt;= <span class="string">'9'</span>) digit++;</span><br><span class="line">            <span class="keyword">else</span> alpha++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">abs</span>(digit-alpha) &gt; <span class="number">1</span>) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> la = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> ld = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(digit &gt; alpha)&#123;</span><br><span class="line">            ld = <span class="number">0</span>;</span><br><span class="line">            la = <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            ld = <span class="number">1</span>;</span><br><span class="line">            la = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> c : s)&#123;</span><br><span class="line">            <span class="keyword">if</span>(c &gt;= <span class="string">'0'</span> &amp;&amp; c &lt;= <span class="string">'9'</span>)&#123;</span><br><span class="line">                res[ld] = c;</span><br><span class="line">                ld += <span class="number">2</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                res[la] = c;</span><br><span class="line">                la += <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5389-ç‚¹èœå±•ç¤ºè¡¨"><a href="#5389-ç‚¹èœå±•ç¤ºè¡¨" class="headerlink" title="5389. ç‚¹èœå±•ç¤ºè¡¨"></a>5389. ç‚¹èœå±•ç¤ºè¡¨</h2><h3 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>orders</code>ï¼Œè¡¨ç¤ºå®¢æˆ·åœ¨é¤å…ä¸­å®Œæˆçš„è®¢å•ï¼Œç¡®åˆ‡åœ°è¯´ï¼Œ <code>orders[i]=[customerNamei,tableNumberi,foodItemi]</code> ï¼Œå…¶ä¸­ <code>customerNamei</code>æ˜¯å®¢æˆ·çš„å§“åï¼Œ<code>tableNumberi</code> æ˜¯å®¢æˆ·æ‰€åœ¨é¤æ¡Œçš„æ¡Œå·ï¼Œè€Œ <code>foodItemi</code>æ˜¯å®¢æˆ·ç‚¹çš„é¤å“åç§°ã€‚</p><p>è¯·ä½ è¿”å›è¯¥é¤å…çš„ ç‚¹èœå±•ç¤ºè¡¨ ã€‚åœ¨è¿™å¼ è¡¨ä¸­ï¼Œè¡¨ä¸­ç¬¬ä¸€è¡Œä¸ºæ ‡é¢˜ï¼Œå…¶ç¬¬ä¸€åˆ—ä¸ºé¤æ¡Œæ¡Œå· <code>â€œTableâ€</code> ï¼Œåé¢æ¯ä¸€åˆ—éƒ½æ˜¯æŒ‰å­—æ¯é¡ºåºæ’åˆ—çš„é¤å“åç§°ã€‚æ¥ä¸‹æ¥æ¯ä¸€è¡Œä¸­çš„é¡¹åˆ™è¡¨ç¤ºæ¯å¼ é¤æ¡Œè®¢è´­çš„ç›¸åº”é¤å“æ•°é‡ï¼Œç¬¬ä¸€åˆ—åº”å½“å¡«å¯¹åº”çš„æ¡Œå·ï¼Œåé¢ä¾æ¬¡å¡«å†™ä¸‹å•çš„é¤å“æ•°é‡ã€‚</p><p>æ³¨æ„ï¼šå®¢æˆ·å§“åä¸æ˜¯ç‚¹èœå±•ç¤ºè¡¨çš„ä¸€éƒ¨åˆ†ã€‚æ­¤å¤–ï¼Œè¡¨ä¸­çš„æ•°æ®è¡Œåº”è¯¥æŒ‰é¤æ¡Œæ¡Œå·å‡åºæ’åˆ—ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šorders = [[<span class="string">"David"</span>,<span class="string">"3"</span>,<span class="string">"Ceviche"</span>],[<span class="string">"Corina"</span>,<span class="string">"10"</span>,<span class="string">"Beef Burrito"</span>],[<span class="string">"David"</span>,<span class="string">"3"</span>,<span class="string">"Fried Chicken"</span>],[<span class="string">"Carla"</span>,<span class="string">"5"</span>,<span class="string">"Water"</span>],[<span class="string">"Carla"</span>,<span class="string">"5"</span>,<span class="string">"Ceviche"</span>],[<span class="string">"Rous"</span>,<span class="string">"3"</span>,<span class="string">"Ceviche"</span>]]</span><br><span class="line">è¾“å‡ºï¼š[[<span class="string">"Table"</span>,<span class="string">"Beef Burrito"</span>,<span class="string">"Ceviche"</span>,<span class="string">"Fried Chicken"</span>,<span class="string">"Water"</span>],[<span class="string">"3"</span>,<span class="string">"0"</span>,<span class="string">"2"</span>,<span class="string">"1"</span>,<span class="string">"0"</span>],[<span class="string">"5"</span>,<span class="string">"0"</span>,<span class="string">"1"</span>,<span class="string">"0"</span>,<span class="string">"1"</span>],[<span class="string">"10"</span>,<span class="string">"1"</span>,<span class="string">"0"</span>,<span class="string">"0"</span>,<span class="string">"0"</span>]] </span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ç‚¹èœå±•ç¤ºè¡¨å¦‚ä¸‹æ‰€ç¤ºï¼š</span><br><span class="line">Table,Beef Burrito,Ceviche,Fried Chicken,Water</span><br><span class="line"><span class="number">3</span>    ,<span class="number">0</span>           ,<span class="number">2</span>      ,<span class="number">1</span>            ,<span class="number">0</span></span><br><span class="line"><span class="number">5</span>    ,<span class="number">0</span>           ,<span class="number">1</span>      ,<span class="number">0</span>            ,<span class="number">1</span></span><br><span class="line"><span class="number">10</span>   ,<span class="number">1</span>           ,<span class="number">0</span>      ,<span class="number">0</span>            ,<span class="number">0</span></span><br><span class="line">å¯¹äºé¤æ¡Œ <span class="number">3</span>ï¼šDavid ç‚¹äº† <span class="string">"Ceviche"</span> å’Œ <span class="string">"Fried Chicken"</span>ï¼Œè€Œ Rous ç‚¹äº† <span class="string">"Ceviche"</span></span><br><span class="line">è€Œé¤æ¡Œ <span class="number">5</span>ï¼šCarla ç‚¹äº† <span class="string">"Water"</span> å’Œ <span class="string">"Ceviche"</span></span><br><span class="line">é¤æ¡Œ <span class="number">10</span>ï¼šCorina ç‚¹äº† <span class="string">"Beef Burrito"</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šorders = [[<span class="string">"James"</span>,<span class="string">"12"</span>,<span class="string">"Fried Chicken"</span>],[<span class="string">"Ratesh"</span>,<span class="string">"12"</span>,<span class="string">"Fried Chicken"</span>],[<span class="string">"Amadeus"</span>,<span class="string">"12"</span>,<span class="string">"Fried Chicken"</span>],[<span class="string">"Adam"</span>,<span class="string">"1"</span>,<span class="string">"Canadian Waffles"</span>],[<span class="string">"Brianna"</span>,<span class="string">"1"</span>,<span class="string">"Canadian Waffles"</span>]]</span><br><span class="line">è¾“å‡ºï¼š[[<span class="string">"Table"</span>,<span class="string">"Canadian Waffles"</span>,<span class="string">"Fried Chicken"</span>],[<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"0"</span>],[<span class="string">"12"</span>,<span class="string">"0"</span>,<span class="string">"3"</span>]] </span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">å¯¹äºé¤æ¡Œ <span class="number">1</span>ï¼š<span class="symbol">Adam</span> å’Œ <span class="symbol">Brianna</span> éƒ½ç‚¹äº† <span class="string">"Canadian Waffles"</span></span><br><span class="line">è€Œé¤æ¡Œ <span class="number">12</span>ï¼š<span class="symbol">James</span>, <span class="symbol">Ratesh</span> å’Œ <span class="symbol">Amadeus</span> éƒ½ç‚¹äº† <span class="string">"Fried Chicken"</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šorders = [[<span class="string">"Laura"</span>,<span class="string">"2"</span>,<span class="string">"Bean Burrito"</span>],[<span class="string">"Jhon"</span>,<span class="string">"2"</span>,<span class="string">"Beef Burrito"</span>],[<span class="string">"Melissa"</span>,<span class="string">"2"</span>,<span class="string">"Soda"</span>]]</span><br><span class="line">è¾“å‡ºï¼š[[<span class="string">"Table"</span>,<span class="string">"Bean Burrito"</span>,<span class="string">"Beef Burrito"</span>,<span class="string">"Soda"</span>],[<span class="string">"2"</span>,<span class="string">"1"</span>,<span class="string">"1"</span>,<span class="string">"1"</span>]]</span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= orders.length &lt;= 5 * 10^4</code></li><li><code>orders[i].length == 3</code></li><li><code>1 &lt;= customerNamei.length, foodItemi.length &lt;= 20</code></li><li><code>customerNamei</code> å’Œ <code>foodItemi</code> ç”±å¤§å°å†™è‹±æ–‡å­—æ¯åŠç©ºæ ¼å­—ç¬¦ â€˜ â€˜ ç»„æˆã€‚</li><li><code>tableNumberi</code> æ˜¯ 1 åˆ° 500 èŒƒå›´å†…çš„æ•´æ•°ã€‚</li></ul><h3 id="åœ°å€-1"><a href="#åœ°å€-1" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/display-table-of-food-orders-in-a-restaurant" target="_blank" rel="noopener">https://leetcode-cn.com/problems/display-table-of-food-orders-in-a-restaurant</a></p><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> ç³»ç»Ÿè®¾è®¡</p><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>ç”¨mapä¿å­˜æ¯æ¡Œçš„ç‚¹é¤çš„äº‹ç‰©å’Œæ•°é‡ã€‚åŒæ—¶<code>set</code>ä¿å­˜æ‰€æœ‰çš„èœå“ã€‚</li><li>æ¯æ¬¡ç‚¹é¤æ—¶åœ¨æ¯æ¡Œçš„è®¢å•ä¸Šè¿›è¡Œæ•°æ®å åŠ ã€‚</li><li>æœ€åç»Ÿè®¡å°±éå¸¸ç®€å•äº†ã€‚ç›´æ¥mapæŸ¥è¯¢æ¯å‘¨æ¯ä¸ªèœå“è®¢å•çš„æ•°é‡å³å¯ã€‚</li><li>ç”¨<code>map</code>å’Œ<code>set</code>å¯ä»¥ç›´æ¥åˆ©ç”¨äºŒå‰æŸ¥æ‰¾æ ‘çš„è‡ªåŠ¨æ’åºåŠŸèƒ½ï¼Œé¿å…äºŒæ¬¡æ’åºã€‚</li></ol></blockquote><h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; displayTable(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt;&amp; orders) &#123;</span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="built_in">map</span>&lt;<span class="built_in">string</span>,<span class="keyword">int</span>&gt;&gt; table;</span><br><span class="line">        <span class="built_in">set</span>&lt;<span class="built_in">string</span>&gt; foods;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; type;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> order : orders)&#123;</span><br><span class="line">            table[stoi(order[<span class="number">1</span>])][order[<span class="number">2</span>]]++;</span><br><span class="line">            foods.insert(order[<span class="number">2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        type.push_back(<span class="string">"Table"</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> n : foods)&#123;</span><br><span class="line">            type.push_back(n);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">/*first colum*/</span></span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; res;</span><br><span class="line">        res.push_back(type);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> p : table)&#123;</span><br><span class="line">            <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; col;</span><br><span class="line">            col.push_back(to_string(p.first));</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; type.size(); ++i)&#123;</span><br><span class="line">                <span class="keyword">if</span>(p.second.count(type[i]))&#123;</span><br><span class="line">                    col.push_back(to_string(p.second[type[i]]));</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    col.push_back(<span class="string">"0"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            res.push_back(col);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="5390-æ•°é’è›™"><a href="#5390-æ•°é’è›™" class="headerlink" title="5390. æ•°é’è›™"></a>5390. æ•°é’è›™</h2><h3 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²<code>croakOfFrogs</code>ï¼Œå®ƒè¡¨ç¤ºä¸åŒé’è›™å‘å‡ºçš„è›™é¸£å£°ï¼ˆå­—ç¬¦ä¸² <code>&quot;croak&quot;</code> ï¼‰çš„ç»„åˆã€‚ç”±äºåŒä¸€æ—¶é—´å¯ä»¥æœ‰å¤šåªé’è›™å‘±å‘±ä½œå“ï¼Œæ‰€ä»¥ <code>croakOfFrogs</code> ä¸­ä¼šæ··åˆå¤šä¸ª <code>â€œcroakâ€</code>ã€‚è¯·ä½ è¿”å›æ¨¡æ‹Ÿå­—ç¬¦ä¸²ä¸­æ‰€æœ‰è›™é¸£æ‰€éœ€ä¸åŒé’è›™çš„æœ€å°‘æ•°ç›®ã€‚</p><p>æ³¨æ„ï¼šè¦æƒ³å‘å‡ºè›™é¸£ <code>&quot;croak&quot;</code>ï¼Œé’è›™å¿…é¡» ä¾åº è¾“å‡º<code>â€˜câ€™, â€™râ€™, â€™oâ€™, â€™aâ€™, â€™kâ€™</code>è¿™ 5 ä¸ªå­—æ¯ã€‚å¦‚æœæ²¡æœ‰è¾“å‡ºå…¨éƒ¨äº”ä¸ªå­—æ¯ï¼Œé‚£ä¹ˆå®ƒå°±ä¸ä¼šå‘å‡ºå£°éŸ³ã€‚</p><p>å¦‚æœå­—ç¬¦ä¸² <code>croakOfFrogs</code>ä¸æ˜¯ç”±è‹¥å¹²æœ‰æ•ˆçš„<code>&quot;croak&quot;</code> å­—ç¬¦æ··åˆè€Œæˆï¼Œè¯·è¿”å› -1 ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcroakOfFrogs = <span class="string">"croakcroak"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span> </span><br><span class="line">è§£é‡Šï¼šä¸€åªé’è›™ â€œå‘±å‘±â€ ä¸¤æ¬¡</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcroakOfFrogs = <span class="string">"crcoakroak"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span> </span><br><span class="line">è§£é‡Šï¼šæœ€å°‘éœ€è¦ä¸¤åªé’è›™ï¼Œâ€œå‘±å‘±â€ å£°ç”¨é»‘ä½“æ ‡æ³¨</span><br><span class="line">ç¬¬ä¸€åªé’è›™ <span class="string">"crcoakroak"</span></span><br><span class="line">ç¬¬äºŒåªé’è›™ <span class="string">"crcoakroak"</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcroakOfFrogs = <span class="string">"croakcrook"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">-1</span></span><br><span class="line">è§£é‡Šï¼šç»™å‡ºçš„å­—ç¬¦ä¸²ä¸æ˜¯ <span class="string">"croak"</span> çš„æœ‰æ•ˆç»„åˆã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcroakOfFrogs = <span class="string">"croakcroa"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">-1</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= croakOfFrogs.length &lt;= 10^5</code></li><li>å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦åªæœ‰<code>&#39;c&#39;, &#39;r&#39;, &#39;o&#39;, &#39;a&#39;</code>æˆ–è€… <code>&#39;k&#39;</code></li></ul><h3 id="åœ°å€-2"><a href="#åœ°å€-2" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/minimum-number-of-frogs-croaking" target="_blank" rel="noopener">https://leetcode-cn.com/problems/minimum-number-of-frogs-croaking</a></p><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> é¢˜ç›®å‡ºçš„ä¸é”™ï¼Œéå¸¸æœ‰ç‚¹ç»•</p><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li><code>åˆ¤æ–­æ˜¯å¦éœ€è¦æ•°ç›®åŠ 1</code>ï¼šé‡åˆ°å­—æ¯<code>c</code>æ—¶åˆ¤æ–­å½“å‰æ˜¯å¦å·²ç»æœ‰å®Œæˆå‘¼å«çš„ä»»åŠ¡ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥å°†å…¶æ‹¿è¿‡æ¥è¿›è¡Œé‡æ–°å‘¼å«ä¸€æ¬¡ï¼Œå¦åˆ™å†æ–°åŠ è¿›æ¥ä¸€åªé’è›™è¿›è¡Œå‘¼å«ã€‚</li><li><code>åˆ¤æ–­å½“å‰å‘¼å«æ˜¯å¦åˆæ³•</code>: åˆ¤æ–­å½“å‰å­—æ¯çš„ç»Ÿè®¡æ•°ç›®æ˜¯å¦å¤§äºå‰ä¸€ä¸ªå­—æ¯çš„æ•°ç›®ï¼Œå¦‚æœæ˜¯åˆ™æ—¶éæ³•çš„ï¼Œè¡¨ç¤ºè¯¥æ¬¡å‘¼å«æœªæŒ‰ç…§é¡ºåºè¿›è¡Œæ‹¼å†™å‘¼å«ã€‚å…¨éƒ¨å‘¼å«å®Œæˆåï¼Œæœ€ååˆ¤æ–­æ‰€æœ‰çš„é’è›™æ˜¯å¦å…¨éƒ¨å®Œæˆå‘¼å«ï¼Œå³æ‰€æœ‰çš„å­—æ¯ç»Ÿè®¡æ•°ç›®ç›¸ç­‰ã€‚</li><li>è¿”å›å­—ç¬¦çš„ç»Ÿè®¡æ•°ç›®å³å¯ã€‚<h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">checkFrog</span><span class="params">(<span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>,<span class="keyword">int</span>&gt; &amp; cnt)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;  p : cnt)&#123;</span><br><span class="line">            <span class="keyword">if</span>(p.second &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">checkValid</span><span class="params">(<span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>,<span class="keyword">int</span>&gt; &amp; cnt)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = cnt.begin()-&gt;second;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp; p : cnt)&#123;</span><br><span class="line">            <span class="keyword">if</span>(x != p.second) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minNumberOfFrogs</span><span class="params">(<span class="built_in">string</span> A)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = A.size();</span><br><span class="line">        <span class="built_in">string</span> s = <span class="string">"croak"</span>;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>,<span class="keyword">char</span>&gt; prev;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>,<span class="keyword">int</span>&gt; cnt;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.size(); ++i)&#123;</span><br><span class="line">            prev[s[i]] = s[(i+<span class="number">4</span>)%<span class="number">5</span>];</span><br><span class="line">            cnt[s[i]] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; A.size(); ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(A[i] == <span class="string">'c'</span> &amp;&amp; checkFrog(cnt))&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; s.size(); ++j) cnt[s[j]]--;</span><br><span class="line">            &#125;</span><br><span class="line">            cnt[A[i]]++;</span><br><span class="line">            <span class="keyword">if</span>(A[i] != <span class="string">'c'</span> &amp;&amp; cnt[A[i]] &gt; cnt[prev[A[i]]]) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(!checkValid(cnt)) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> cnt[<span class="string">'c'</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5391-ç”Ÿæˆæ•°ç»„"><a href="#5391-ç”Ÿæˆæ•°ç»„" class="headerlink" title="5391. ç”Ÿæˆæ•°ç»„"></a>5391. ç”Ÿæˆæ•°ç»„</h2><h3 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸‰ä¸ªæ•´æ•° <code>nã€m å’Œ k</code>ã€‚ä¸‹å›¾æè¿°çš„ç®—æ³•ç”¨äºæ‰¾å‡ºæ­£æ•´æ•°æ•°ç»„ä¸­æœ€å¤§çš„å…ƒç´ ã€‚</p><p>è¯·ä½ ç”Ÿæˆä¸€ä¸ªå…·æœ‰ä¸‹è¿°å±æ€§çš„æ•°ç»„ <code>arr</code>ï¼š</p><ul><li><code>arr</code>ä¸­æœ‰ n ä¸ªæ•´æ•°ã€‚</li><li><code>1 &lt;= arr[i] &lt;= m</code>å…¶ä¸­<code>(0 &lt;= i &lt; n)</code> ã€‚</li><li>å°†ä¸Šé¢æåˆ°çš„ç®—æ³•åº”ç”¨äº <code>arr ï¼Œsearch_cost</code>çš„å€¼ç­‰äº k ã€‚</li></ul><p>è¿”å›ä¸Šè¿°æ¡ä»¶ä¸‹ç”Ÿæˆæ•°ç»„ <code>arr</code>çš„ æ–¹æ³•æ•° ï¼Œç”±äºç­”æ¡ˆå¯èƒ½ä¼šå¾ˆå¤§ï¼Œæ‰€ä»¥ å¿…é¡» å¯¹ <code>10^9 + 7</code>å–ä½™ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">2</span>, m = <span class="number">3</span>, k = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">6</span></span><br><span class="line">è§£é‡Šï¼šå¯èƒ½çš„æ•°ç»„åˆ†åˆ«ä¸º [<span class="number">1</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">1</span>], [<span class="number">3</span>, <span class="number">2</span>] [<span class="number">3</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">5</span>, m = <span class="number">2</span>, k = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line">è§£é‡Šï¼šæ²¡æœ‰æ•°ç»„å¯ä»¥æ»¡è¶³ä¸Šè¿°æ¡ä»¶</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">9</span>, m = <span class="number">1</span>, k = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šå¯èƒ½çš„æ•°ç»„åªæœ‰ [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">50</span>, m = <span class="number">100</span>, k = <span class="number">25</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">34549172</span></span><br><span class="line">è§£é‡Šï¼šä¸è¦å¿˜äº†å¯¹ <span class="number">1000000007</span> å–ä½™</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 5ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">37</span>, m = <span class="number">17</span>, k = <span class="number">7</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">418930126</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= n &lt;= 50</code></li><li><code>1 &lt;= m &lt;= 100</code></li><li><code>0 &lt;= k &lt;= n</code></li></ul><h3 id="åœ°å€-3"><a href="#åœ°å€-3" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/build-array-where-you-can-find-the-maximum-exactly-k-comparisons" target="_blank" rel="noopener">https://leetcode-cn.com/problems/build-array-where-you-can-find-the-maximum-exactly-k-comparisons</a></p><h3 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  åŸºæœ¬ä¸Šéœ€è¦å–æ¨¡çš„éƒ½æ˜¯åŠ¨æ€è§„åˆ’ã€‚</p><h3 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>è®¾<code>dp[i][j][k]</code>ä»£è¡¨æ•°ç»„é•¿åº¦ä¸º<code>i</code>,ä¸”å½“å‰çš„æœ€å¤§å€¼ä¸º<code>j</code>ä¸”å¾—åˆ†ä¸º<code>k</code>çš„æ•°ç»„çš„æ–¹æ¡ˆæ•°ç›®ã€‚</li><li>æˆ‘ä»¬å‡è®¾å½“å‰æ•°ç»„é•¿åº¦ä¸º<code>i</code>,ä¸”å½“å‰çš„æœ€å¤§å€¼ä¸º<code>j</code>ä¸”å¾—åˆ†ä¸º<code>k</code>ã€‚åˆ™å½“æ•°ç»„é•¿åº¦ä¸º<code>i+1</code>æ—¶ï¼Œå¦‚æœç¬¬<code>i+1</code>ä¸ªæ•°å¤§äºå‰<code>i</code>ä¸ªæ•°çš„æœ€å¤§å€¼<code>j</code>ï¼Œåˆ™ä»–çš„å¾—åˆ†åº”è¯¥ä¸ºä¸º<code>k+1</code>,åˆ™è¿™æ—¶ç¬¬<code>i+1</code>ä¸ªæ•°çš„å–å€¼èŒƒå›´ä¸º<code>j+1~m</code>;å¦‚æœç¬¬<code>i+1</code>ä¸ªæ•°å°äºç­‰äºå‰<code>i</code>ä¸ªæ•°çš„æœ€å¤§å€¼<code>j</code>ï¼Œåˆ™ä»–çš„å¾—åˆ†åº”è¯¥ä»ç„¶ä¸º<code>k</code>,åˆ™è¿™æ—¶ç¬¬<code>i+1</code>ä¸ªæ•°åº”è¯¥å–å€¼èŒƒå›´ä¸º<code>1~j</code>ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å¾—åˆ°é€’æ¨å…¬å¼å¦‚ä¸‹ï¼š<script type="math/tex; mode=display">dp[i][j][k] = dp[i-1][j][k]*j + \sum_{x=1}^{j-1}dp[i-1][x][k-1]</script></li><li>æœ€åæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¾—åˆ†ä¸º<code>k</code>çš„æ€»çš„æ–¹æ¡ˆæ•°ç›®:<script type="math/tex; mode=display">total = \sum_{i=1}^{m}dp[n][i][k]</script></li></ol></blockquote><h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">51</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">101</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> K = <span class="number">51</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numOfArrays</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> dp[N][M][K];</span><br><span class="line">        <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)&#123;</span><br><span class="line">            dp[<span class="number">1</span>][i][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> a = <span class="number">2</span>; a &lt;= n; ++a)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> b = <span class="number">1</span>; b &lt;= m; ++b)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> c = <span class="number">1</span>; c &lt;= k &amp;&amp; c &lt;= b &amp;&amp; c &lt;= a; ++c)&#123;</span><br><span class="line">                    dp[a][b][c] = (b*dp[a<span class="number">-1</span>][b][c])%mod;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> mx = <span class="number">1</span>; mx &lt; b; ++mx)&#123;</span><br><span class="line">                        dp[a][b][c] = (dp[a][b][c] + dp[a<span class="number">-1</span>][mx][c<span class="number">-1</span>])%mod;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> total = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)&#123;</span><br><span class="line">            total = (total + dp[n][i][k])%mod;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> total;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;185å‘¨æ¯”èµ›&quot;&gt;&lt;a href=&quot;#185å‘¨æ¯”èµ›&quot; class=&quot;headerlink&quot; title=&quot;185å‘¨æ¯”èµ›&quot;&gt;&lt;/a&gt;185å‘¨æ¯”èµ›&lt;/h1&gt;&lt;p&gt;ä»Šå¤©çš„é¢˜ç›®è´¨é‡è¿˜æ˜¯éå¸¸é«˜,é¢˜ç›®è´¨é‡éƒ½ä¸é”™ï¼Œæœ‰ä¸€å®šçš„å°æŠ€å·§ã€‚&lt;/p&gt;&lt;h2 id=&quot;5388-é‡æ–°æ ¼å¼åŒ–å­—ç¬¦ä¸²&quot;&gt;&lt;a href=&quot;#5388-é‡æ–°æ ¼å¼åŒ–å­—ç¬¦ä¸²&quot; class=&quot;headerlink&quot; title=&quot;5388. é‡æ–°æ ¼å¼åŒ–å­—ç¬¦ä¸²&quot;&gt;&lt;/a&gt;5388. é‡æ–°æ ¼å¼åŒ–å­—ç¬¦ä¸²&lt;/h2&gt;&lt;h3 id=&quot;é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®&quot;&gt;&lt;/a&gt;é¢˜ç›®&lt;/h3&gt;&lt;p&gt;ç»™ä½ ä¸€ä¸ªæ··åˆäº†æ•°å­—å’Œå­—æ¯çš„å­—ç¬¦ä¸² sï¼Œå…¶ä¸­çš„å­—æ¯å‡ä¸ºå°å†™è‹±æ–‡å­—æ¯ã€‚&lt;/p&gt;&lt;p&gt;è¯·ä½ å°†è¯¥å­—ç¬¦ä¸²é‡æ–°æ ¼å¼åŒ–ï¼Œä½¿å¾—ä»»æ„ä¸¤ä¸ªç›¸é‚»å­—ç¬¦çš„ç±»å‹éƒ½ä¸åŒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå­—æ¯åé¢åº”è¯¥è·Ÿç€æ•°å­—ï¼Œè€Œæ•°å­—åé¢åº”è¯¥è·Ÿç€å­—æ¯ã€‚&lt;/p&gt;&lt;p&gt;è¯·ä½ è¿”å› é‡æ–°æ ¼å¼åŒ–å çš„å­—ç¬¦ä¸²ï¼›å¦‚æœæ— æ³•æŒ‰è¦æ±‚é‡æ–°æ ¼å¼åŒ–ï¼Œåˆ™è¿”å›ä¸€ä¸ª ç©ºå­—ç¬¦ä¸² ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>ã€Leetcodeã€‘ ç¬¬24åœºåŒå‘¨æ¯”èµ›</title>
    <link href="http://yoursite.com/2020/04/18/152/"/>
    <id>http://yoursite.com/2020/04/18/152/</id>
    <published>2020-04-18T10:19:10.180Z</published>
    <updated>2020-04-19T12:19:12.166Z</updated>
    
    <content type="html"><![CDATA[<h1 id="24å‘¨åŒå‘¨æ¯”èµ›"><a href="#24å‘¨åŒå‘¨æ¯”èµ›" class="headerlink" title="24å‘¨åŒå‘¨æ¯”èµ›"></a>24å‘¨åŒå‘¨æ¯”èµ›</h1><p>ä»Šå¤©çš„é¢˜ç›®è´¨é‡è¿˜æ˜¯éå¸¸é«˜ï¼Œéš¾åº¦ä¸æ˜¯å¾ˆå¤§ï¼Œä½†éƒ½éœ€è¦ä¸€äº›å°çš„æŠ€å·§ï¼Œå…¨éƒ¨<code>AC</code>ï¼Œä¸è¿‡è·Ÿé‚£äº›å¤§ç¥ä¸èƒ½æ¯”ï¼Œ10åˆ†é’Ÿ<code>AC</code>å››é“é¢˜çš„é‚£ç§ã€‚</p><h2 id="5372-é€æ­¥æ±‚å’Œå¾—åˆ°æ­£æ•°çš„æœ€å°å€¼"><a href="#5372-é€æ­¥æ±‚å’Œå¾—åˆ°æ­£æ•°çš„æœ€å°å€¼" class="headerlink" title="5372. é€æ­¥æ±‚å’Œå¾—åˆ°æ­£æ•°çš„æœ€å°å€¼"></a>5372. é€æ­¥æ±‚å’Œå¾—åˆ°æ­£æ•°çš„æœ€å°å€¼</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ã€‚ä½ å¯ä»¥é€‰å®šä»»æ„çš„ æ­£æ•° <code>startValue</code> ä½œä¸ºåˆå§‹å€¼ã€‚</p><p>ä½ éœ€è¦ä»å·¦åˆ°å³éå†<code>nums</code> æ•°ç»„ï¼Œå¹¶å°† <code>startValue</code> ä¾æ¬¡ç´¯åŠ ä¸Š<code>nums</code>æ•°ç»„ä¸­çš„å€¼ã€‚</p><a id="more"></a><p>è¯·ä½ åœ¨ç¡®ä¿ç´¯åŠ å’Œå§‹ç»ˆå¤§äºç­‰äº 1 çš„å‰æä¸‹ï¼Œé€‰å‡ºä¸€ä¸ªæœ€å°çš„ æ­£æ•° ä½œä¸º <code>startValue</code> ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">-3</span>,<span class="number">2</span>,<span class="number">-3</span>,<span class="number">4</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span></span><br><span class="line">è§£é‡Šï¼šå¦‚æœä½ é€‰æ‹© startValue = <span class="number">4</span>ï¼Œåœ¨ç¬¬ä¸‰æ¬¡ç´¯åŠ æ—¶ï¼Œå’Œå°äº <span class="number">1</span> ã€‚</span><br><span class="line">                ç´¯åŠ æ±‚å’Œ</span><br><span class="line">                startValue = <span class="number">4</span> | startValue = <span class="number">5</span> | nums</span><br><span class="line">                  (<span class="number">4</span> <span class="number">-3</span> ) = <span class="number">1</span>  | (<span class="number">5</span> <span class="number">-3</span> ) = <span class="number">2</span>    |  <span class="number">-3</span></span><br><span class="line">                  (<span class="number">1</span> +<span class="number">2</span> ) = <span class="number">3</span>  | (<span class="number">2</span> +<span class="number">2</span> ) = <span class="number">4</span>    |   <span class="number">2</span></span><br><span class="line">                  (<span class="number">3</span> <span class="number">-3</span> ) = <span class="number">0</span>  | (<span class="number">4</span> <span class="number">-3</span> ) = <span class="number">1</span>    |  <span class="number">-3</span></span><br><span class="line">                  (<span class="number">0</span> +<span class="number">4</span> ) = <span class="number">4</span>  | (<span class="number">1</span> +<span class="number">4</span> ) = <span class="number">5</span>    |   <span class="number">4</span></span><br><span class="line">                  (<span class="number">4</span> +<span class="number">2</span> ) = <span class="number">6</span>  | (<span class="number">5</span> +<span class="number">2</span> ) = <span class="number">7</span>    |   <span class="number">2</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šæœ€å°çš„ startValue éœ€è¦æ˜¯æ­£æ•°ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">1</span>,<span class="number">-2</span>,<span class="number">-3</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= nums.length &lt;= 100</code></li><li><code>-100 &lt;= nums[i] &lt;= 100</code></li></ul><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/minimum-value-to-get-positive-step-by-step-sum" target="_blank" rel="noopener">https://leetcode-cn.com/problems/minimum-value-to-get-positive-step-by-step-sum</a></p><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  æ±‚å‰<code>n</code>é¡¹å’Œçš„æœ€å°å€¼ã€‚</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>æˆ‘ä»¬æœ€ä½éœ€è¦æ»¡è¶³å‰<code>n</code>é¡¹å’Œçš„æœ€å°å€¼ä¸è¿™ä¸ªæ•°ç›¸åŠ å¤§äºç­‰äº<code>1</code>å³å¯ã€‚<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minStartValue</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); ++i)&#123;</span><br><span class="line">            sum += nums[i];</span><br><span class="line">            res = max(res,<span class="number">1</span>-sum);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5373-å’Œä¸º-K-çš„æœ€å°‘æ–æ³¢é‚£å¥‘æ•°å­—æ•°ç›®"><a href="#5373-å’Œä¸º-K-çš„æœ€å°‘æ–æ³¢é‚£å¥‘æ•°å­—æ•°ç›®" class="headerlink" title="5373. å’Œä¸º K çš„æœ€å°‘æ–æ³¢é‚£å¥‘æ•°å­—æ•°ç›®"></a>5373. å’Œä¸º K çš„æœ€å°‘æ–æ³¢é‚£å¥‘æ•°å­—æ•°ç›®</h2><h3 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ æ•°å­— <code>k</code>ï¼Œè¯·ä½ è¿”å›å’Œä¸º<code>k</code>çš„æ–æ³¢é‚£å¥‘æ•°å­—çš„æœ€å°‘æ•°ç›®ï¼Œå…¶ä¸­ï¼Œæ¯ä¸ªæ–æ³¢é‚£å¥‘æ•°å­—éƒ½å¯ä»¥è¢«ä½¿ç”¨å¤šæ¬¡ã€‚</p><p>æ–æ³¢é‚£å¥‘æ•°å­—å®šä¹‰ä¸ºï¼š</p><ul><li><code>F1 = 1</code></li><li><code>F2 = 1</code></li><li><code>Fn = Fn-1 + Fn-2</code> ï¼Œ å…¶ä¸­ n &gt; 2 ã€‚</li></ul><p>æ•°æ®ä¿è¯å¯¹äºç»™å®šçš„ k ï¼Œä¸€å®šèƒ½æ‰¾åˆ°å¯è¡Œè§£ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šk = <span class="number">7</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span> </span><br><span class="line">è§£é‡Šï¼šæ–æ³¢é‚£å¥‘æ•°å­—ä¸ºï¼š<span class="number">1</span>ï¼Œ<span class="number">1</span>ï¼Œ<span class="number">2</span>ï¼Œ<span class="number">3</span>ï¼Œ<span class="number">5</span>ï¼Œ<span class="number">8</span>ï¼Œ<span class="number">13</span>ï¼Œâ€¦â€¦</span><br><span class="line">å¯¹äº k = <span class="number">7</span> ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° <span class="number">2</span> + <span class="number">5</span> = <span class="number">7</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šk = <span class="number">10</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span> </span><br><span class="line">è§£é‡Šï¼šå¯¹äº k = <span class="number">10</span> ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° <span class="number">2</span> + <span class="number">8</span> = <span class="number">10</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šk = <span class="number">19</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span> </span><br><span class="line">è§£é‡Šï¼šå¯¹äº k = <span class="number">19</span> ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° <span class="number">1</span> + <span class="number">5</span> + <span class="number">13</span> = <span class="number">19</span> ã€‚</span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= k &lt;= 10^9</code></li></ul><h3 id="åœ°å€-1"><a href="#åœ°å€-1" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/find-the-minimum-number-of-fibonacci-numbers-whose-sum-is-k" target="_blank" rel="noopener">https://leetcode-cn.com/problems/find-the-minimum-number-of-fibonacci-numbers-whose-sum-is-k</a></p><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> è´ªå¿ƒ</p><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>è¿™ä¸ªé¢˜ç›®çœ‹ä¼¼å¾ˆç®€å•ï¼Œä½†å½“æ—¶å¡å£³äº†å¥½ä¹…ã€‚åæ¥ä»”ç»†ç ”ç©¶äº†ä¸€ä¸‹ï¼Œå‘ç°äº†è§„å¾‹ã€‚</li><li>æˆ‘ä»¬æ‰¾å‡ºæ‰€æœ‰ä¸å¤§äº<code>k</code>çš„æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œå¦‚æœkåœ¨æ•°åˆ—ä¸­ï¼Œæˆ‘ä»¬ç›´æ¥è¿”å›1.</li><li>å¦åˆ™æˆ‘ä»¬æ‰¾åˆ°æœ€å¤§ä¸”æœ€æ¥è¿‘<code>k</code>çš„æ–æ³¢é‚£å¥‘æ•°<code>m</code>, ç„¶åå†é€’å½’æ±‚<code>k-m</code>æœ€å°‘éœ€è¦å¤šå°‘ä¸ªè´¹ä¸çº³å¦¾æ•°ç»„åˆã€‚<code>fib(k)</code>è¡¨ç¤ºæœ€å¤§çš„å°äºç­‰äº<code>K</code>çš„æ–æ³¢é‚£å¥‘æ•°ã€‚<script type="math/tex; mode=display">F(k) = 1 + F(k-fib(k))</script></li><li>è´´äº†ä¸€ä¸‹è¯æ˜è¿‡ç¨‹ï¼Œç”¨æ•°å­¦å½’çº³æ³•è¯æ˜æ¯”è¾ƒæœ‰æ„æ€ï¼š</li></ol><ul><li>å¯¹äº$k=1$æ˜¯æ˜¾ç„¶æˆç«‹.</li><li>å‡è®¾$k=1â€¦N$éƒ½æˆç«‹,åˆ™å½“$k=N+1$æ—¶ï¼Œå¦‚æœ$k$æœ¬èº«æ˜¯æ–æ³¢é‚£å¥‘æ•°ï¼Œè‡ªç„¶æˆç«‹ï¼Œå¦åˆ™ä¸€å®šå­˜åœ¨<code>m</code>,ä½¿å¾—ä¸‹è¿°ä¸ç­‰å¼æˆç«‹ï¼š<script type="math/tex; mode=display">Fib_{m}<k<Fib_{m+1}</script></li><li>æ ¹æ®ä¸Šè¿°ä¸ç­‰å¼å¯ä»¥åŒ–ä¸ºï¼š<script type="math/tex; mode=display">0<kâˆ’Fib_{m}<Fib_{m+1}âˆ’Fib_{m}=Fib_{mâˆ’1} \\k = Fib_{m} + (k-Fib_{m})</script></li><li>æŒ‰ç…§é¢˜ç›®ä¸­çš„å½’çº³æ¡ä»¶ï¼Œæ ¹æ®æ–æ³¢é‚£å¥‘æ•°åˆ—æ•°åˆ—é€’å¢çš„ç‰¹æ€§$Fib_{m} \le Fib_{m+1}$,æ˜¾ç„¶æˆ‘ä»¬å¯ä»¥å¾—å‡º<script type="math/tex; mode=display">1\le Fib_{m} \le N \\1\le (k-Fib_{m}) \le N \\k - Fib_{m} \le Fib_{m} \\</script></li><li>æŒ‰ç…§å½’çº³æ¡ä»¶$kâˆ’Fib_{m}$å¯ä»¥è¡¨ç¤ºä¸ºä¸åŒçš„æ–æ³¢é‚£å¥‘æ•°ä¹‹å’Œï¼Œè¿™äº›æ–æ³¢é‚£å¥‘æ•°é‡Œé¢æ˜¾ç„¶ä¸åŒ…æ‹¬$Fib_{m}$.æ‰€ä»¥$k=N+1$ä¹Ÿå¯ä»¥è¡¨ç¤ºä¸ºä¸åŒçš„æ–æ³¢é‚£å¥‘æ•°ä¹‹å’Œ.ä¸”åºåˆ—ä¸­æ¯ä¸ªæ•°éƒ½ä¸ç›¸ç­‰ï¼Œè€Œä¸”å¿…é¡»æ˜¯ä¸è¿ç»­çš„æ–æ³¢é‚£å¥‘æ•°ä¹‹å’Œ.å› ä¸ºå­˜åœ¨ä»¥ä¸‹ç­‰å¼ï¼š<script type="math/tex; mode=display">Fib_{m} + Fib_{m} = Fib_{m+1} \:\:\:  (m == 1) \\Fib_{m} + Fib_{m} = Fib_{m-1} + Fib_{m-2} + Fib{m}  = Fib_{m-2} + Fib_{m+1} \:\:\: (m \neq 1) \\\\Fib_{m} + Fib_{m+1} = Fib_{m+2} \\</script></li></ul></blockquote><h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findMinFibonacciNumbers</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; cnt;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> f1 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> f2 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> f3 = <span class="number">0</span>;</span><br><span class="line">        cnt.insert(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>;  f3 &lt; k ; ++i)&#123;</span><br><span class="line">            f3 = f1+f2;</span><br><span class="line">            f1 = f2;</span><br><span class="line">            f2 = f3;</span><br><span class="line">            cnt.insert(f3);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cnt.count(k))&#123;</span><br><span class="line">                res++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">auto</span> it = cnt.lower_bound(k);</span><br><span class="line">            it--;</span><br><span class="line">            k -= *it;</span><br><span class="line">            res++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="5374-é•¿åº¦ä¸º-n-çš„å¼€å¿ƒå­—ç¬¦ä¸²ä¸­å­—å…¸åºç¬¬-k-å°çš„å­—ç¬¦ä¸²"><a href="#5374-é•¿åº¦ä¸º-n-çš„å¼€å¿ƒå­—ç¬¦ä¸²ä¸­å­—å…¸åºç¬¬-k-å°çš„å­—ç¬¦ä¸²" class="headerlink" title="5374. é•¿åº¦ä¸º n çš„å¼€å¿ƒå­—ç¬¦ä¸²ä¸­å­—å…¸åºç¬¬ k å°çš„å­—ç¬¦ä¸²"></a>5374. é•¿åº¦ä¸º n çš„å¼€å¿ƒå­—ç¬¦ä¸²ä¸­å­—å…¸åºç¬¬ k å°çš„å­—ç¬¦ä¸²</h2><h3 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ä¸€ä¸ª ã€Œå¼€å¿ƒå­—ç¬¦ä¸²ã€å®šä¹‰ä¸ºï¼š</p><ul><li>ä»…åŒ…å«å°å†™å­—æ¯ <code>[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</code>.</li><li>å¯¹æ‰€æœ‰åœ¨ 1 åˆ° <code>s.length - 1</code>ä¹‹é—´çš„ i ï¼Œæ»¡è¶³<code>s[i] != s[i + 1]</code>ï¼ˆå­—ç¬¦ä¸²çš„ä¸‹æ ‡ä» 1 å¼€å§‹ï¼‰ã€‚</li></ul><p>æ¯”æ–¹è¯´ï¼Œå­—ç¬¦ä¸² <code>&quot;abc&quot;</code>ï¼Œ<code>&quot;ac&quot;ï¼Œ&quot;b&quot;</code>å’Œ <code>&quot;abcbabcbcb&quot;</code> éƒ½æ˜¯å¼€å¿ƒå­—ç¬¦ä¸²ï¼Œä½†æ˜¯<code>&quot;aa&quot;ï¼Œ&quot;baa&quot;</code>å’Œ<code>&quot;ababbc&quot;</code>éƒ½ä¸æ˜¯å¼€å¿ƒå­—ç¬¦ä¸²ã€‚</p><p>ç»™ä½ ä¸¤ä¸ªæ•´æ•° <code>n</code> å’Œ <code>k</code>ï¼Œä½ éœ€è¦å°†é•¿åº¦ä¸º <code>n</code>çš„æ‰€æœ‰å¼€å¿ƒå­—ç¬¦ä¸²æŒ‰å­—å…¸åºæ’åºã€‚</p><p>è¯·ä½ è¿”å›æ’åºåçš„ç¬¬ <code>k</code> ä¸ªå¼€å¿ƒå­—ç¬¦ä¸²ï¼Œå¦‚æœé•¿åº¦ä¸º <code>n</code>çš„å¼€å¿ƒå­—ç¬¦ä¸²å°‘äº <code>k</code>ä¸ªï¼Œé‚£ä¹ˆè¯·ä½ è¿”å› ç©ºå­—ç¬¦ä¸² ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">1</span>, k = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"c"</span></span><br><span class="line">è§£é‡Šï¼šåˆ—è¡¨ [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>] åŒ…å«äº†æ‰€æœ‰é•¿åº¦ä¸º <span class="number">1</span> çš„å¼€å¿ƒå­—ç¬¦ä¸²ã€‚æŒ‰ç…§å­—å…¸åºæ’åºåç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸²ä¸º <span class="string">"c"</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">1</span>, k = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">""</span></span><br><span class="line">è§£é‡Šï¼šé•¿åº¦ä¸º <span class="number">1</span> çš„å¼€å¿ƒå­—ç¬¦ä¸²åªæœ‰ <span class="number">3</span> ä¸ªã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">3</span>, k = <span class="number">9</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"cab"</span></span><br><span class="line">è§£é‡Šï¼šé•¿åº¦ä¸º <span class="number">3</span> çš„å¼€å¿ƒå­—ç¬¦ä¸²æ€»å…±æœ‰ <span class="number">12</span> ä¸ª [<span class="string">"aba"</span>, <span class="string">"abc"</span>, <span class="string">"aca"</span>, <span class="string">"acb"</span>, <span class="string">"bab"</span>, <span class="string">"bac"</span>, <span class="string">"bca"</span>, <span class="string">"bcb"</span>, <span class="string">"cab"</span>, <span class="string">"cac"</span>, <span class="string">"cba"</span>, <span class="string">"cbc"</span>] ã€‚ç¬¬ <span class="number">9</span> ä¸ªå­—ç¬¦ä¸²ä¸º <span class="string">"cab"</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">2</span>, k = <span class="number">7</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">""</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 5ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">10</span>, k = <span class="number">100</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"abacbabacb"</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><pre><code>1 &lt;= n &lt;= 101 &lt;= k &lt;= 100</code></pre><h3 id="åœ°å€-2"><a href="#åœ°å€-2" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/the-k-th-lexicographical-string-of-all-happy-strings-of-length-n" target="_blank" rel="noopener">https://leetcode-cn.com/problems/the-k-th-lexicographical-string-of-all-happy-strings-of-length-n</a></p><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> ç›´æ¥DFSæš´åŠ›åŒ¹é…</p><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>æ•°æ®é‡éå¸¸å°ï¼Œä¹Ÿæ²¡å•¥å¥½ä¼˜åŒ–çš„ï¼Œç›´æ¥DFSæèµ·ã€‚</li><li>å› ä¸ºé¢˜ç›®ä¸­æ˜¯æ±‚å¾—æ˜¯ç¬¬<code>k</code>ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä¸å¤ªå¥½å¼„ï¼Œç›´æ¥DFSæ¨¡æ‹Ÿæ±‚å‡ºç¬¬kä¸ªå³å¯ã€‚å¦‚æœæ±‚æ•°é‡å¾—è¯ï¼Œç›´æ¥<code>DP</code>æå®šã€‚<h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="built_in">string</span> &amp; curr,<span class="keyword">int</span> n,<span class="keyword">int</span> k,<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp; res)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(res.size() &gt;= k) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>)&#123;</span><br><span class="line">            res.push_back(curr);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(curr.back() == <span class="string">'a'</span> + i) <span class="keyword">continue</span>;</span><br><span class="line">            curr.push_back(<span class="string">'a'</span> + i);</span><br><span class="line">            dfs(curr,n<span class="number">-1</span>,k,res);</span><br><span class="line">            curr.pop_back();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">getHappyString</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; res;</span><br><span class="line">        <span class="built_in">string</span> curr;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i)&#123;</span><br><span class="line">            curr.push_back(<span class="string">'a'</span>+i);</span><br><span class="line">            dfs(curr,n<span class="number">-1</span>,k,res);</span><br><span class="line">            curr.pop_back();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(res.size() != k) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">return</span> res.back();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5375-æ¢å¤æ•°ç»„"><a href="#5375-æ¢å¤æ•°ç»„" class="headerlink" title="5375. æ¢å¤æ•°ç»„"></a>5375. æ¢å¤æ•°ç»„</h2><h3 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>æŸä¸ªç¨‹åºæœ¬æ¥åº”è¯¥è¾“å‡ºä¸€ä¸ªæ•´æ•°æ•°ç»„ã€‚ä½†æ˜¯è¿™ä¸ªç¨‹åºå¿˜è®°è¾“å‡ºç©ºæ ¼äº†ä»¥è‡´è¾“å‡ºäº†ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æ‰€çŸ¥é“çš„ä¿¡æ¯åªæœ‰ï¼šæ•°ç»„ä¸­æ‰€æœ‰æ•´æ•°éƒ½åœ¨ Â·<code>[1, k]</code>ä¹‹é—´ï¼Œä¸”æ•°ç»„ä¸­çš„æ•°å­—éƒ½æ²¡æœ‰å‰å¯¼ 0 ã€‚</p><p>ç»™ä½ å­—ç¬¦ä¸² <code>s</code> å’Œæ•´æ•°<code>k</code> ã€‚å¯èƒ½ä¼šæœ‰å¤šç§ä¸åŒçš„æ•°ç»„æ¢å¤ç»“æœã€‚</p><p>æŒ‰ç…§ä¸Šè¿°ç¨‹åºï¼Œè¯·ä½ è¿”å›æ‰€æœ‰å¯èƒ½è¾“å‡ºå­—ç¬¦ä¸² s çš„æ•°ç»„æ–¹æ¡ˆæ•°ã€‚</p><p>ç”±äºæ•°ç»„æ–¹æ¡ˆæ•°å¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¯·ä½ è¿”å›å®ƒå¯¹ 10^9 + 7 å–ä½™ åçš„ç»“æœã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"1000"</span>, k = <span class="number">10000</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šå”¯ä¸€ä¸€ç§å¯èƒ½çš„æ•°ç»„æ–¹æ¡ˆæ˜¯ [<span class="number">1000</span>]</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"1000"</span>, k = <span class="number">10</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line">è§£é‡Šï¼šä¸å­˜åœ¨ä»»ä½•æ•°ç»„æ–¹æ¡ˆæ»¡è¶³æ‰€æœ‰æ•´æ•°éƒ½ &gt;= <span class="number">1</span> ä¸” &lt;= <span class="number">10</span> åŒæ—¶è¾“å‡ºç»“æœä¸º s ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"1317"</span>, k = <span class="number">2000</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">8</span></span><br><span class="line">è§£é‡Šï¼šå¯è¡Œçš„æ•°ç»„æ–¹æ¡ˆä¸º [<span class="number">1317</span>]ï¼Œ[<span class="number">131</span>,<span class="number">7</span>]ï¼Œ[<span class="number">13</span>,<span class="number">17</span>]ï¼Œ[<span class="number">1</span>,<span class="number">317</span>]ï¼Œ[<span class="number">13</span>,<span class="number">1</span>,<span class="number">7</span>]ï¼Œ[<span class="number">1</span>,<span class="number">31</span>,<span class="number">7</span>]ï¼Œ[<span class="number">1</span>,<span class="number">3</span>,<span class="number">17</span>]ï¼Œ[<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">7</span>]</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"2020"</span>, k = <span class="number">30</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„æ•°ç»„æ–¹æ¡ˆæ˜¯ [<span class="number">20</span>,<span class="number">20</span>] ã€‚ [<span class="number">2020</span>] ä¸æ˜¯å¯è¡Œçš„æ•°ç»„æ–¹æ¡ˆï¼ŒåŸå› æ˜¯ <span class="number">2020</span> &gt; <span class="number">30</span> ã€‚ [<span class="number">2</span>,<span class="number">020</span>] ä¹Ÿä¸æ˜¯å¯è¡Œçš„æ•°ç»„æ–¹æ¡ˆï¼Œå› ä¸º <span class="number">020</span> å«æœ‰å‰å¯¼ <span class="number">0</span> ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 5ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"1234567890"</span>, k = <span class="number">90</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">34</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= s.length &lt;= 10^5</code>.</li><li><code>s åªåŒ…å«æ•°å­—ä¸”ä¸åŒ…å«å‰å¯¼ 0</code> ã€‚</li><li><code>1 &lt;= k &lt;= 10^9</code>.<h3 id="åœ°å€-3"><a href="#åœ°å€-3" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><a href="https://leetcode-cn.com/problems/restore-the-array" target="_blank" rel="noopener">https://leetcode-cn.com/problems/restore-the-array</a><h3 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  åŸºæœ¬ä¸Šéœ€è¦å–æ¨¡çš„éƒ½æ˜¯åŠ¨æ€è§„åˆ’ã€‚</p><h3 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3></blockquote></li></ul><ol><li>æœ¬é¢˜åŸºæœ¬ä¸€çœ¼çœ‹åˆ°å°±æ˜¯åŠ¨æ€è§„åˆ’ã€‚</li><li><code>dp[i]</code>ä»£è¡¨å‰æ•°ç»„å‰<code>i</code>ä¸ªæ•°çš„ç»„åˆæ•°ç›®ï¼Œåˆ™é€’æ¨å…¬å¼ä¸ºï¼š<script type="math/tex; mode=display">dp[i] = \sum_{j=1}^{i} dp[i-j] \: \: if(num(i-j+1,i) \le k)</script></li><li>å› ä¸ºé¢˜ç›®ä¸­ç»™å®šçš„<code>k</code>çš„æœ€å¤§é•¿åº¦ä¸º<code>10</code>ï¼Œæ‰€ä»¥éå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­ä»<code>i</code>å¾€å‰æ•°<code>i-10</code>ç»„æˆçš„å­—ä¸²æ˜¯å¦ä¸ºåˆæ³•çš„æ•°ç›®ï¼Œä¸”å…¶æ˜¯å¦å¤§äºç»™å®šçš„æ•°ç›®<code>k</code>.</li></ol><h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numberOfArrays</span><span class="params">(<span class="built_in">string</span> s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = s.size();</span><br><span class="line">        <span class="keyword">int</span> m = to_string(k).size();</span><br><span class="line">        <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; dp(n+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m &amp;&amp; j &lt;= i; ++j)&#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i-j] == <span class="string">'0'</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(stoll(s.substr(i-j,j)) &lt;= k)&#123;</span><br><span class="line">                    dp[i] = (dp[i] + dp[i-j]) % mod;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;24å‘¨åŒå‘¨æ¯”èµ›&quot;&gt;&lt;a href=&quot;#24å‘¨åŒå‘¨æ¯”èµ›&quot; class=&quot;headerlink&quot; title=&quot;24å‘¨åŒå‘¨æ¯”èµ›&quot;&gt;&lt;/a&gt;24å‘¨åŒå‘¨æ¯”èµ›&lt;/h1&gt;&lt;p&gt;ä»Šå¤©çš„é¢˜ç›®è´¨é‡è¿˜æ˜¯éå¸¸é«˜ï¼Œéš¾åº¦ä¸æ˜¯å¾ˆå¤§ï¼Œä½†éƒ½éœ€è¦ä¸€äº›å°çš„æŠ€å·§ï¼Œå…¨éƒ¨&lt;code&gt;AC&lt;/code&gt;ï¼Œä¸è¿‡è·Ÿé‚£äº›å¤§ç¥ä¸èƒ½æ¯”ï¼Œ10åˆ†é’Ÿ&lt;code&gt;AC&lt;/code&gt;å››é“é¢˜çš„é‚£ç§ã€‚&lt;/p&gt;&lt;h2 id=&quot;5372-é€æ­¥æ±‚å’Œå¾—åˆ°æ­£æ•°çš„æœ€å°å€¼&quot;&gt;&lt;a href=&quot;#5372-é€æ­¥æ±‚å’Œå¾—åˆ°æ­£æ•°çš„æœ€å°å€¼&quot; class=&quot;headerlink&quot; title=&quot;5372. é€æ­¥æ±‚å’Œå¾—åˆ°æ­£æ•°çš„æœ€å°å€¼&quot;&gt;&lt;/a&gt;5372. é€æ­¥æ±‚å’Œå¾—åˆ°æ­£æ•°çš„æœ€å°å€¼&lt;/h2&gt;&lt;h3 id=&quot;é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®&quot;&gt;&lt;/a&gt;é¢˜ç›®&lt;/h3&gt;&lt;p&gt;ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ &lt;code&gt;nums&lt;/code&gt; ã€‚ä½ å¯ä»¥é€‰å®šä»»æ„çš„ æ­£æ•° &lt;code&gt;startValue&lt;/code&gt; ä½œä¸ºåˆå§‹å€¼ã€‚&lt;/p&gt;&lt;p&gt;ä½ éœ€è¦ä»å·¦åˆ°å³éå†&lt;code&gt;nums&lt;/code&gt; æ•°ç»„ï¼Œå¹¶å°† &lt;code&gt;startValue&lt;/code&gt; ä¾æ¬¡ç´¯åŠ ä¸Š&lt;code&gt;nums&lt;/code&gt;æ•°ç»„ä¸­çš„å€¼ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>ã€ç®—æ³•ã€‘</title>
    <link href="http://yoursite.com/2020/04/17/151/"/>
    <id>http://yoursite.com/2020/04/17/151/</id>
    <published>2020-04-17T04:25:14.114Z</published>
    <updated>2020-04-21T15:50:33.681Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ACautomationçš„DFAçš„å†™æ³•"><a href="#ACautomationçš„DFAçš„å†™æ³•" class="headerlink" title="ACautomationçš„DFAçš„å†™æ³•"></a>ACautomationçš„DFAçš„å†™æ³•</h1><p>æœ€è¿‘å­¦ä¹ äº†å­—ç¬¦ä¸²çš„ç›¸å…³ç®—æ³•ï¼Œç‰¹åˆ«æ˜¯å¯¹<code>kmp</code>å’Œ <code>DFA</code>ä»¥åŠæ­£åˆ™è¡¨è¾¾å¼çš„<code>NFA</code>çš„åŒ¹é…ã€‚ç‰¹åˆ«æ˜¯<code>kmp</code>è¿™ç§å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œå…¶å®æœ¬è´¨ä¹Ÿæ˜¯è´ªå¿ƒç®—æ³•å¾—ä¸€ç§ï¼Œæ¯æ¬¡åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦ä¸ºç»“å°¾çš„æœ€é•¿åç¼€çš„ä¸‹ä¸€ä¸ªå­—æ¯ã€‚åæ¥ä»”ç»†ç ”ç©¶äº†ä¸‹<code>Aho-Corasick automation</code>,å®ƒçš„ç®—æ³•æœ¬è´¨å…¶å®ä¹Ÿæ˜¯å’Œ<code>kmp</code>ä¸€æ ·ï¼Œå¦‚æœå½“å‰å­—ç¬¦<code>s[i]</code>ä¸èƒ½åŒ¹é…ï¼Œåˆ™åŒ¹é…ä¸Šä¸€ä¸ªå­—ç¬¦<code>s[i-1]</code>ä¸ºç»“å°¾çš„æœ€é•¿åç¼€çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚</p><a id="more"></a><h2 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h2><p>æˆ‘ä»¬å‡è®¾<code>s[i]</code>çš„æœ€é•¿åç¼€ä¸º<code>prefix[i-1] = k</code>,ä¸€æ—¦é‡åˆ°<code>s[i]</code>ä¸èƒ½åŒ¹é…å½“å‰å­—ç¬¦ä¸²æ—¶ï¼Œåˆ™æˆ‘ä»¬å°±å°†<code>s[i]</code>ä¸<code>s[prefix[i-1]+1]</code>è¿›è¡ŒåŒ¹é…ã€‚<br>åŒæ—¶å­¦ä¹ Princetonçš„ç®—æ³•è¯¾ç¨‹æ—¶ï¼Œçœ‹åˆ°äº†è¯¾ä»¶ä¸Šçš„<code>kmp</code>çš„<code>dfa</code>å†™æ³•ï¼Œå…¶å®éå¸¸éå¸¸çš„ç®€å•ã€‚å¼ºçƒˆå»ºè®®å­¦ä¹ ä¸€ä¸‹è¿™ä¸ª<code>dfa</code>çš„å†™æ³•ã€‚<br><img src="https://mike-box.github.io/images/148-1.png" alt="kmp"></p><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><ol><li><code>dfa</code>åˆ™ä¸ºç¡®å®šçš„çŠ¶æ€æœºï¼Œå½“å‰çŠ¶æ€æ¥å—è¾“å…¥åçš„ä¸‹ä¸€ä¸ªçŠ¶æ€åªæœ‰ä¸€ä¸ªï¼Œæ˜¯å¯é¢„æµ‹çš„ï¼Œæ‰€ä»¥ç§°ä¹‹ä¸ºç¡®å®šçŠ¶æ€æœºã€‚<code>nfa</code>ä¸ºä¸ç¡®å®šçŠ¶æ€æœºï¼Œå½“å‰çŠ¶æ€æ¥å—ä¸‹ä¸€ä¸ªå­—ç¬¦åï¼Œåç»­çŠ¶æ€å¯ä»¥æœ‰å¤šä¸ªï¼Œå› æ­¤ä¸‹ä¸€ä¸ªçŠ¶æ€ä¸ç¡®å®šï¼Œæ‰€ä»¥æˆ‘ä»¬ç§°ä¹‹ä¸ºä¸ç¡®å®šçŠ¶æ€æœºã€‚</li><li>å¯¹äºå•ä¸ªå­—ç¬¦ä¸²çš„åŒ¹é…ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<code>dfa</code>æ¥è¿›è¡ŒåŒ¹é…ã€‚<code>dfa</code>çš„å»ºç«‹çš„åŸç†å¯ä»¥å‚è€ƒPrincetonçš„ç®—æ³•è¯¾ç¨‹ï¼Œè€çˆ·çˆ·è®²çš„ç‰¹åˆ«æ¸…æ¥šã€‚å½“å‰æ­£ç¡®çš„åŒ¹é…çŠ¶æ€ä»<code>0~n-1</code>å¼€å§‹åŒ¹é…ï¼Œå¤±è´¥çš„åŒ¹é…çŠ¶æ€ä»<code>1~n</code>å¼€å§‹åŒ¹é…ã€‚æ¯”å¦‚å­—ç¬¦ä¸²<code>ababac</code>.<br><code>dfa</code>æ­£ç¡®çš„åŒ¹é…çŠ¶æ€å¦‚ä¸‹ã€‚<script type="math/tex; mode=display">0\stackrel{a}{\longrightarrow}1\stackrel{b}{\longrightarrow}2\stackrel{a}{\longrightarrow}3\stackrel{b}{\longrightarrow}4\stackrel{a}{\longrightarrow}5\stackrel{c}{\longrightarrow}6</script>åˆ™æˆ‘ä»¬çŸ¥é“æ­£ç¡®çš„åŒ¹é…çŠ¶æ€å¦‚ä¸‹<script type="math/tex; mode=display">dfa(0,a) = 1 \\dfa(1,b) = 2  \\dfa(2,a) = 3  \\dfa(3,b) = 4  \\dfa(4,a) = 5  \\dfa(5,c) = 6  \\</script></li><li>æˆ‘ä»¬å¯ä»¥çŸ¥é“å½“å¤„äºçŠ¶æ€<code>0</code>æ—¶ï¼Œåˆ™ä¸æ­£ç¡®çš„åŒ¹é…çŠ¶æ€ä¸º<script type="math/tex; mode=display">dfa(0,b) = 0 \\dfa(0,c) = 0 \\</script>æˆ‘ä»¬è®¾ç½®å¦ä¸€ä¸ª<code>fail</code>çŠ¶æ€çš„åŒ¹é…ä»<code>1~n-1</code>å¼€å§‹åŒ¹é…å­—ç¬¦ä¸²<code>babac</code>ã€‚<br>è®¾ç½®çŠ¶æ€<code>1</code>åŒ¹é…å¤±è´¥çš„çŠ¶æ€<script type="math/tex; mode=display">fail = 0 \\dfa(1,b) = dfa(fail,b) \\dfa(1,c) = dfa(fail,c) \\</script>è®¾ç½®çŠ¶æ€<code>2</code>åŒ¹é…å¤±è´¥çš„çŠ¶æ€<script type="math/tex; mode=display">fail = dfa(fail,b) = 0 \\dfa(2,a) = dfa(fail,b) \\dfa(2,c) = dfa(fail,c) \\</script>å‰©ä½™çš„çŠ¶æ€è®¡ç®—åŒ¹é…ä¾æ¬¡æŒ‰ç…§ä¸Šè¿°è§„å¾‹å³å¯ã€‚<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">kmp</span><span class="params">(<span class="built_in">string</span> &amp; pat,<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp; dfa,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; prefix)</span></span>&#123;</span><br><span class="line">       <span class="keyword">int</span> n = pat.size();</span><br><span class="line">       <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; state(n+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; ++i)&#123;</span><br><span class="line">           dfa.push_back(state);</span><br><span class="line">           dfa[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       dfa[pat[<span class="number">0</span>]-<span class="string">'a'</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">       prefix[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> x = <span class="number">0</span>, i = <span class="number">1</span>; i &lt; n; ++i )&#123;</span><br><span class="line">           <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">26</span>; ++j)&#123;</span><br><span class="line">               dfa[j][i] = dfa[j][x];</span><br><span class="line">           &#125;</span><br><span class="line">           dfa[pat[i]-<span class="string">'a'</span>][i] = i+<span class="number">1</span>;</span><br><span class="line">           x = dfa[pat[i]-<span class="string">'a'</span>][x];</span><br><span class="line">           prefix[i] = x;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="built_in">string</span> str, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dfa)</span></span>&#123;</span><br><span class="line">       <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">int</span> res = <span class="number">-1</span>;</span><br><span class="line">       <span class="keyword">int</span> end = dfa[<span class="number">0</span>].size()<span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.size(); ++i)&#123;</span><br><span class="line">           x = dfa[str[i]-<span class="string">'a'</span>][x];</span><br><span class="line">           <span class="keyword">if</span>(x == end) <span class="keyword">return</span> i-x+<span class="number">1</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">return</span> res;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="åŒ¹é…åŸç†"><a href="#åŒ¹é…åŸç†" class="headerlink" title="åŒ¹é…åŸç†"></a>åŒ¹é…åŸç†</h3></li><li>æˆ‘ä»¬çŸ¥é“KMPçš„åŒ¹é…çŠ¶æ€å¦‚æ­¤ï¼Œé‚£ä¹ˆAC automationçš„çŠ¶æ€åŒ¹é…ä¹Ÿåº”è¯¥å¦‚æ­¤ï¼Œå…¶å®æœ¬æ¥ACåŒ¹é…å±äºå¤šå­—ç¬¦ä¸²åŒ¹é…ï¼Œåº”è¯¥ç”¨<code>NFA</code>æ¥å®ç°çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸è§çš„æ­£åˆ™è¡¨è¾¾å¼çš„<code>|</code>æ“ä½œå³å¯åŒ¹é…å¤šä¸ªå­—ç¬¦ä¸²ã€‚ä½†æ˜¯å®é™…è¿‡ç¨‹ä¸­æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨æ¨¡æ‹ŸDFAçš„æ“ä½œæ¥å®Œæˆè¿™ä¸ªçŠ¶æ€è½¬ç§»ã€‚<br>åªä¸è¿‡æ¯æ¬¡è®¾ç½®DFAçš„æ—¶å€™éœ€è¦è®¾ç½®ç¬¬<code>i</code>ä¸ªå­—ç¬¦ä¸²çš„å‰<code>j</code>ä¸ªå­—ç¬¦çš„æœ€é•¿åŒ¹é…åç¼€ã€‚ä»£ç å†™çš„æ¯”è¾ƒå¤æ‚ï¼Œä½†æ˜¯å®é™…è¿è¡Œæ•ˆæœè¿˜æ˜¯å¯ä»¥çš„ã€‚æˆ‘ä»¬å¯¹æ‰€æœ‰å­—ç¬¦ä¸²ç»„æˆ<code>trie</code>æ ‘ï¼Œå¯¹æ¯ä¸ªéç©ºèŠ‚ç‚¹è¿›è¡Œç¼–ç å’Œå®šä¹‰çŠ¶æ€ã€‚å®é™…ä¹Ÿæ˜¯æœç´¢è¿‡ç¨‹ä¹Ÿæ˜¯åœ¨è¿™äº›çŠ¶æ€ç§è·³è½¬ã€‚</li><li>æˆ‘ä»¬æŒ‰å±‚å¯¹<code>trie</code>æ ‘è¿›è¡Œéå†ï¼Œæ¯æ¬¡è®°ä½ä¸Šå±‚çš„<code>fail</code>çŠ¶æ€,ç„¶åè®¡ç®—æœ¬å±‚çš„åŒ¹é…å¤±è´¥åçš„è·³è½¬çŠ¶æ€ã€‚ä½†æ˜¯å®ƒä¸<code>kmp</code>æœ‰ç‚¹åŒºåˆ«çš„æ˜¯ï¼Œéœ€è¦å¯¹æœ€ç»ˆç»“æŸçš„èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªçŠ¶æ€è¿›è¡Œè®¡ç®—ï¼Œå¯¹äºå•ä¸ªå­—ç¬¦ä¸²çš„<code>kmp</code>åŒ¹é…ç®—æ³•æ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€åŒ¹é…åˆ°ç»“æŸçŠ¶æ€å³å¯ï¼Œè®¡ç®—å‡ºç›¸åº”çš„åŒ¹é…ä½ç½®å³å¯ï¼Œä½†æ˜¯å¤šä¸ªå­—ç¬¦ä¸²åŒ¹é…æ—¶å¯èƒ½æƒ…å†µä¼šæ¯”è¾ƒå¤æ‚ï¼Œæœ‰å¯èƒ½åŒ¹é…æŸä¸ªå­—ç¬¦ä¸²<code>s</code>ç»“æŸçŠ¶æ€æ—¶ï¼Œå®é™…è¿˜éœ€è¦è¿›è¡ŒåŒ¹é…ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²<code>t</code>ã€‚<h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TrieNode</span>&#123;</span></span><br><span class="line">    <span class="keyword">bool</span> isWord;</span><br><span class="line">    <span class="keyword">int</span> idx;</span><br><span class="line">    <span class="built_in">string</span> word;</span><br><span class="line">    TrieNode * next[<span class="number">26</span>];</span><br><span class="line">    TrieNode(<span class="keyword">int</span> idx)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;isWord = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;idx = idx;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; ++i)&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;next[i] = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;TrieNode;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">acAutomation</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:  </span><br><span class="line">    acAutomation()&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;root = <span class="keyword">new</span> TrieNode(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">this</span>-&gt;nodes.push_back(root);</span><br><span class="line">        <span class="keyword">this</span>-&gt;width = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">buildAc</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp; words)</span></span>&#123;</span><br><span class="line">        buildTrie(words);</span><br><span class="line">        buildFail(words);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">buildTrie</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp; words)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp; word : words)&#123;</span><br><span class="line">            insertTrie(word);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">buildFail</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp; words)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = words.size();</span><br><span class="line">        <span class="keyword">int</span> m = nodes.size();        </span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; prev(n,<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; curr(n,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>-&gt;dfa = <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;(m,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">26</span>,<span class="number">0</span>));</span><br><span class="line">        <span class="keyword">this</span>-&gt;fail = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(m,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="keyword">int</span> c = words[i][<span class="number">0</span>]-<span class="string">'a'</span>;</span><br><span class="line">            dfa[<span class="number">0</span>][c] = <span class="keyword">this</span>-&gt;nodes[<span class="number">0</span>]-&gt;next[c]-&gt;idx;</span><br><span class="line">            curr[i] = dfa[<span class="number">0</span>][c];</span><br><span class="line">            prev[i] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>-&gt;fail[curr[i]] = prev[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="keyword">this</span>-&gt;width; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j)&#123;</span><br><span class="line">                <span class="keyword">if</span>(words[j].size() &lt;= i) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">26</span>; ++k)&#123;</span><br><span class="line">                    dfa[curr[j]][k] = dfa[prev[j]][k];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> c = words[j][i] - <span class="string">'a'</span>;</span><br><span class="line">                dfa[curr[j]][c] = <span class="keyword">this</span>-&gt;nodes[curr[j]]-&gt;next[c]-&gt;idx;</span><br><span class="line">                curr[j] = dfa[curr[j]][c];</span><br><span class="line">                prev[j] = dfa[prev[j]][c];</span><br><span class="line">                fail[curr[j]] = prev[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">/*linked the complate state*/</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; m; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nodes[i]-&gt;isWord)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">26</span>; ++j)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(nodes[i]-&gt;next[j] == <span class="literal">NULL</span>)&#123;</span><br><span class="line">                        dfa[i][j] = dfa[fail[i]][j];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">search</span><span class="params">(<span class="built_in">string</span> &amp; content)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> curr = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp; c : content)&#123;</span><br><span class="line">            curr = dfa[curr][c-<span class="string">'a'</span>];</span><br><span class="line">            <span class="keyword">int</span> state = curr;</span><br><span class="line">            <span class="keyword">while</span>(state != <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nodes[state]-&gt;isWord)&#123;</span><br><span class="line">                    <span class="built_in">cout</span>&lt;&lt;nodes[state]-&gt;word&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                state = fail[state];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">debug</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%4c"</span>,<span class="string">' '</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nodes.size(); ++i)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%4d"</span>,i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%3c "</span>,<span class="string">'a'</span> + i);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; nodes.size(); ++j)&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%4d"</span>,dfa[j][i]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"fail"</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nodes.size(); ++i)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%4d"</span>,fail[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">insertTrie</span><span class="params">(<span class="built_in">string</span> &amp; word)</span></span>&#123;</span><br><span class="line">        TrieNode * curr = <span class="keyword">this</span>-&gt;root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> c : word)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!curr-&gt;next[c-<span class="string">'a'</span>])&#123;</span><br><span class="line">                <span class="keyword">this</span>-&gt;nodes.push_back(<span class="keyword">new</span> TrieNode(nodes.size()));</span><br><span class="line">                curr-&gt;next[c-<span class="string">'a'</span>] = <span class="keyword">this</span>-&gt;nodes.back();</span><br><span class="line">            &#125;</span><br><span class="line">            curr = curr-&gt;next[c-<span class="string">'a'</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        curr-&gt;isWord = <span class="literal">true</span>;</span><br><span class="line">        curr-&gt;word = word;</span><br><span class="line">        <span class="keyword">this</span>-&gt;width = max(<span class="keyword">this</span>-&gt;width,<span class="keyword">int</span>(word.size()));</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TrieNode * root;</span><br><span class="line">    <span class="built_in">vector</span>&lt;TrieNode *&gt; nodes;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; fail;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dfa;</span><br><span class="line">    <span class="keyword">int</span> width;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s1 = <span class="string">"abcd"</span>;</span><br><span class="line">    <span class="built_in">string</span> s2 = <span class="string">"bcde"</span>;</span><br><span class="line">    <span class="built_in">string</span> s3 = <span class="string">"abc"</span>;</span><br><span class="line">    <span class="built_in">string</span> s4 = <span class="string">"bc"</span>;</span><br><span class="line">    <span class="built_in">string</span> s5 = <span class="string">"c"</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; words;</span><br><span class="line">    words.push_back(s1);</span><br><span class="line">    words.push_back(s2);</span><br><span class="line">    words.push_back(s3);</span><br><span class="line">    words.push_back(s4);</span><br><span class="line">    words.push_back(s5);</span><br><span class="line">    acAutomation * ac = <span class="keyword">new</span> acAutomation();</span><br><span class="line">    ac-&gt;buildAc(words);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">string</span> content = <span class="string">"abcdefabcd"</span>;</span><br><span class="line">    ac-&gt;search(content);</span><br><span class="line">    ac-&gt;debug();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ACautomationçš„DFAçš„å†™æ³•&quot;&gt;&lt;a href=&quot;#ACautomationçš„DFAçš„å†™æ³•&quot; class=&quot;headerlink&quot; title=&quot;ACautomationçš„DFAçš„å†™æ³•&quot;&gt;&lt;/a&gt;ACautomationçš„DFAçš„å†™æ³•&lt;/h1&gt;&lt;p&gt;æœ€è¿‘å­¦ä¹ äº†å­—ç¬¦ä¸²çš„ç›¸å…³ç®—æ³•ï¼Œç‰¹åˆ«æ˜¯å¯¹&lt;code&gt;kmp&lt;/code&gt;å’Œ &lt;code&gt;DFA&lt;/code&gt;ä»¥åŠæ­£åˆ™è¡¨è¾¾å¼çš„&lt;code&gt;NFA&lt;/code&gt;çš„åŒ¹é…ã€‚ç‰¹åˆ«æ˜¯&lt;code&gt;kmp&lt;/code&gt;è¿™ç§å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œå…¶å®æœ¬è´¨ä¹Ÿæ˜¯è´ªå¿ƒç®—æ³•å¾—ä¸€ç§ï¼Œæ¯æ¬¡åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦ä¸ºç»“å°¾çš„æœ€é•¿åç¼€çš„ä¸‹ä¸€ä¸ªå­—æ¯ã€‚åæ¥ä»”ç»†ç ”ç©¶äº†ä¸‹&lt;code&gt;Aho-Corasick automation&lt;/code&gt;,å®ƒçš„ç®—æ³•æœ¬è´¨å…¶å®ä¹Ÿæ˜¯å’Œ&lt;code&gt;kmp&lt;/code&gt;ä¸€æ ·ï¼Œå¦‚æœå½“å‰å­—ç¬¦&lt;code&gt;s[i]&lt;/code&gt;ä¸èƒ½åŒ¹é…ï¼Œåˆ™åŒ¹é…ä¸Šä¸€ä¸ªå­—ç¬¦&lt;code&gt;s[i-1]&lt;/code&gt;ä¸ºç»“å°¾çš„æœ€é•¿åç¼€çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="AC" scheme="http://yoursite.com/tags/AC/"/>
    
  </entry>
  
  <entry>
    <title>ã€Atcoderã€‘ AtCoder Beginner Contest 162</title>
    <link href="http://yoursite.com/2020/04/15/150/"/>
    <id>http://yoursite.com/2020/04/15/150/</id>
    <published>2020-04-15T04:39:48.065Z</published>
    <updated>2020-04-15T07:30:22.656Z</updated>
    
    <content type="html"><![CDATA[<h1 id="AtCoder-Beginner-Contest-162"><a href="#AtCoder-Beginner-Contest-162" class="headerlink" title="AtCoder Beginner Contest 162"></a>AtCoder Beginner Contest 162</h1><p><code>atcoder</code>é¢˜ç›®æ¯”<code>leetcode</code>é¢˜ç›®è´¨é‡é«˜å¤šäº†ã€‚éå¸¸æœ‰æ„æ€ã€‚</p><h2 id="A-Lucky-7"><a href="#A-Lucky-7" class="headerlink" title="A - Lucky 7"></a>A - Lucky 7</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>Time Limit: 2 sec / Memory Limit: 1024 MB</p><p>Score : 100</p><p>points</p><h4 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h4><p>Given is a three-digit integer N<br>. Does N contain the digit 7</p><a id="more"></a><p>If so, print Yes; otherwise, print No.</p><h4 id="Constraints"><a href="#Constraints" class="headerlink" title="Constraints"></a>Constraints</h4><ul><li><code>100â‰¤Nâ‰¤999</code></li></ul><p>Input<br><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">Input</span> is given <span class="meta">from</span> Standard <span class="meta">Input</span> <span class="meta">in</span> the following <span class="meta">format</span>:</span><br><span class="line"></span><br><span class="line">N</span><br></pre></td></tr></table></figure></p><p>Output<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">If</span> N</span><br><span class="line">contains the digit 7</span><br><span class="line"></span><br><span class="line">, <span class="builtin-name">print</span> <span class="literal">Yes</span>; otherwise, <span class="builtin-name">print</span> <span class="literal">No</span>.</span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= words.length &lt;= 100</code></li><li><code>1 &lt;= words[i].length &lt;= 30</code></li><li><code>words[i]</code>ä»…åŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚</li><li>é¢˜ç›®æ•°æ® ä¿è¯ æ¯ä¸ª <code>words[i]</code> éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚</li></ul><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://atcoder.jp/contests/abc162/tasks/abc162_a" target="_blank" rel="noopener">https://atcoder.jp/contests/abc162/tasks/abc162_a</a></p><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æš´åŠ›ç ´è§£å³å¯</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>æœ¬èº«é¢˜ç›®æ¯”è¾ƒç®€å•ï¼Œç›´æ¥å–å‡ºæ•°æ®çš„æ¯ä½å³å¯ã€‚<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">while</span>(n &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n%<span class="number">10</span> == <span class="number">7</span>)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"Yes"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        n /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"No"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="B-FizzBuzz-Sum"><a href="#B-FizzBuzz-Sum" class="headerlink" title="B - FizzBuzz Sum /"></a>B - FizzBuzz Sum /</h2><h3 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>Time Limit: 2 sec / Memory Limit: 1024 MB</p><p>Score : 200<br>points</p><h4 id="Problem-Statement-1"><a href="#Problem-Statement-1" class="headerlink" title="Problem Statement"></a>Problem Statement</h4><p>Let us define the FizzBuzz sequence a1,a2,â€¦</p><p>as follows:</p><ul><li>If both 3 and 5 divides i, ai=FizzBuzz</li><li>If the above does not hold but 3 divides i, ai=Fizz</li><li>If none of the above holds but 5 divides i, ai=Buzz</li><li>If none of the above holds, ai=i</li></ul><p>Find the sum of all numbers among the first N<br>terms of the FizzBuzz sequence.</p><h4 id="Constraints-1"><a href="#Constraints-1" class="headerlink" title="Constraints"></a>Constraints</h4><ul><li><code>1â‰¤Nâ‰¤1e9</code></li></ul><h4 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h4><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">Input</span> is given <span class="meta">from</span> Standard <span class="meta">Input</span> <span class="meta">in</span> the following <span class="meta">format</span>:</span><br><span class="line"></span><br><span class="line">N</span><br></pre></td></tr></table></figure><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Print <span class="keyword">the</span> <span class="built_in">sum</span> <span class="keyword">of</span> all numbers <span class="keyword">among</span> <span class="keyword">the</span> <span class="keyword">first</span> N</span><br></pre></td></tr></table></figure><h3 id="åœ°å€-1"><a href="#åœ°å€-1" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://atcoder.jp/contests/abc162/tasks/abc162_b" target="_blank" rel="noopener">https://atcoder.jp/contests/abc162/tasks/abc162_b</a></p><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> ç›´æ¥æš´åŠ›å³å¯</p><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>ç›´æ¥è®¡ç®—èƒ½è¢«3æ•´å‡ºçš„å’Œèƒ½è¢«5æ•´å‡ºçš„ï¼Œç„¶ååŠ ä¸Šèƒ½è¢«15æ•´å‡ºçš„ã€‚<h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> f = n/<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> b = n/<span class="number">5</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> fb = n/<span class="number">15</span>;</span><br><span class="line">    sum = n*(n+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">    sum = sum - <span class="number">3</span>*(f*(f+<span class="number">1</span>)/<span class="number">2</span>);</span><br><span class="line">    sum = sum - <span class="number">5</span>*(b*(b+<span class="number">1</span>)/<span class="number">2</span>);</span><br><span class="line">    sum = sum + <span class="number">15</span>*(fb*(fb+<span class="number">1</span>)/<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;sum&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="C-Sum-of-gcd-of-Tuples-Easy"><a href="#C-Sum-of-gcd-of-Tuples-Easy" class="headerlink" title="C - Sum of gcd of Tuples (Easy) /"></a>C - Sum of gcd of Tuples (Easy) /</h2><h3 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>Time Limit: 2 sec / Memory Limit: 1024 MB<br>Score : 300<br>points</p><h4 id="Problem-Statement-2"><a href="#Problem-Statement-2" class="headerlink" title="Problem Statement"></a>Problem Statement</h4><p>Find</p><script type="math/tex; mode=display">\sum_{a=1}^{K}\sum_{b=1}^{K}\sum_{c=1}^{K}gcd(a,b,c)</script><p>Here gcd(a,b,c) denotes the greatest common divisor of a, b, and c.</p><h4 id="Constraints-2"><a href="#Constraints-2" class="headerlink" title="Constraints"></a>Constraints</h4><ul><li><code>1â‰¤ K â‰¤ 200</code></li><li><code>K is an integer.</code><h4 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h4>Input is given from Standard Input in the following format:<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">K</span></span><br></pre></td></tr></table></figure><h4 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h4>Print the value of:<script type="math/tex; mode=display">\sum_{a=1}^{K}\sum_{b=1}^{K}\sum_{c=1}^{K}gcd(a,b,c)</script><h3 id="åœ°å€-2"><a href="#åœ°å€-2" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><a href="https://atcoder.jp/contests/abc162/tasks/abc162_c" target="_blank" rel="noopener">https://atcoder.jp/contests/abc162/tasks/abc162_c</a><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æ•°æ®é‡éå¸¸å°ï¼Œç›´æ¥æš´åŠ›</p><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3></blockquote></li></ul><ol><li>æ•°æ®é‡éå¸¸å°ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ç›´æ¥æš´åŠ›åŒ¹é…ã€‚</li><li>æˆ‘ä»¬ç›´æ¥ä¸‰ä¸ª<code>for</code>å¾ªç¯å³å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ•°æ®é‡éå¸¸å°ã€‚<h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>;j &lt;= n; ++j)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; ++k)&#123;</span><br><span class="line">                sum += __gcd(i,__gcd(j,k));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;sum&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="D-RGB-Triplets"><a href="#D-RGB-Triplets" class="headerlink" title="D - RGB Triplets"></a>D - RGB Triplets</h2><h3 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>Time Limit: 2 sec / Memory Limit: 1024 MB<br>Score : 400<br>points</p><h4 id="Problem-Statement-3"><a href="#Problem-Statement-3" class="headerlink" title="Problem Statement"></a>Problem Statement</h4><p>We have a string S of length N<br>consisting of R, G, and B.<br>Find the number of triples <code>(i, j, k) (1â‰¤i&lt;j&lt;kâ‰¤N)</code><br>that satisfy both of the following conditions:</p><ul><li><code>Siâ‰ Sj</code></li><li><code>Siâ‰ Sk, and Sjâ‰ Sk</code></li><li><code>jâˆ’iâ‰ kâˆ’j</code><h4 id="Constraints-3"><a href="#Constraints-3" class="headerlink" title="Constraints"></a>Constraints</h4></li><li><code>1â‰¤Nâ‰¤4000</code></li><li><code>N</code>is a string of length N consisting of R, G, and B.<h4 id="Input-2"><a href="#Input-2" class="headerlink" title="Input"></a>Input</h4>Input is given from Standard Input in the following format:<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">N</span></span><br><span class="line"><span class="attribute">S</span></span><br></pre></td></tr></table></figure><h4 id="Output-2"><a href="#Output-2" class="headerlink" title="Output"></a>Output</h4>Print the number of triplets in question.<h3 id="åœ°å€-3"><a href="#åœ°å€-3" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><a href="https://atcoder.jp/contests/abc162/tasks/abc162_d" target="_blank" rel="noopener">https://atcoder.jp/contests/abc162/tasks/abc162_d</a><h3 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  æ’åˆ—ç»„åˆ</p><h3 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3></blockquote></li></ul><ol><li>å…¶å®æœ¬è´¨æ˜¯æ•°å­¦ç»„åˆã€‚é¦–å…ˆæˆ‘ä»¬è®¡ç®—æ‰€æœ‰3ç§é¢œè‰²ç»„åˆçš„æ•°ç›®ã€‚</li><li>å»é™¤æ‰ä¸‰ç§é¢œè‰²ç»„åˆä¸­å­˜åœ¨ç­‰å·®æ•°åˆ—çš„æ•°ç›®ã€‚</li><li>æœ¬è´¨æ˜¯ä¸ªå°æŠ€å·§å³å¯ï¼Œæ—¶é—´å¤æ‚åº¦å³å¯æ§åˆ¶åœ¨<code>O(n^2)</code>ã€‚<h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">slove</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp; s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n = s.size();</span><br><span class="line">    <span class="keyword">int</span> r = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> g = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; rcopy;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; gcopy;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.size(); ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i] == <span class="string">'R'</span>)&#123;</span><br><span class="line">            r++;</span><br><span class="line">            rcopy.push_back(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(s[i] == <span class="string">'G'</span>)&#123;</span><br><span class="line">            g++;</span><br><span class="line">            gcopy.push_back(i);</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">if</span>(s[i] == <span class="string">'B'</span>)&#123;</span><br><span class="line">            b++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(r == <span class="number">0</span> || g == <span class="number">0</span> || b == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;res&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    res = r*g*b;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rcopy.size(); ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; gcopy.size(); ++j)&#123;</span><br><span class="line">            <span class="keyword">int</span> d = <span class="built_in">abs</span>(rcopy[i] - gcopy[j]);</span><br><span class="line">            <span class="keyword">int</span> l = min(rcopy[i],gcopy[j]) - d;</span><br><span class="line">            <span class="keyword">int</span> r = max(rcopy[i],gcopy[j]) + d;</span><br><span class="line">            <span class="keyword">int</span> m = (rcopy[i] + gcopy[j])/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(l &gt;= <span class="number">0</span> &amp;&amp; s[l] == <span class="string">'B'</span>) res--;</span><br><span class="line">            <span class="keyword">if</span>(r &lt; n &amp;&amp; s[r] == <span class="string">'B'</span>) res--;</span><br><span class="line">            <span class="keyword">if</span>( d%<span class="number">2</span> == <span class="number">0</span> &amp;&amp; s[m] == <span class="string">'B'</span>) res--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;res&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;s;</span><br><span class="line">    slove(s);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="E-Sum-of-gcd-of-Tuples-Hard"><a href="#E-Sum-of-gcd-of-Tuples-Hard" class="headerlink" title="E - Sum of gcd of Tuples (Hard)"></a>E - Sum of gcd of Tuples (Hard)</h2><h3 id="é¢˜ç›®-4"><a href="#é¢˜ç›®-4" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>Time Limit: 2 sec / Memory Limit: 1024 MB<br>Score : 500<br>points</p><h4 id="Problem-Statement-4"><a href="#Problem-Statement-4" class="headerlink" title="Problem Statement"></a>Problem Statement</h4><p>Consider sequences {A1,â€¦,AN} of length N consisting of integers between 1 and K</p><p>(inclusive).</p><p>There are KN<br>such sequences. Find the sum of gcd(A1,â€¦,AN)</p><p>over all of them.</p><p>Since this sum can be enormous, print the value modulo (109+7)</p><p>.<br>Here gcd(A1,â€¦,AN)<br>denotes the greatest common divisor of A1,â€¦,AN.</p><h4 id="Constraints-4"><a href="#Constraints-4" class="headerlink" title="Constraints"></a>Constraints</h4><ul><li><code>2 â‰¤ N â‰¤ 105</code></li><li><code>1 â‰¤ K â‰¤ 105</code></li><li>All values in input are integers.</li></ul><h4 id="Input-3"><a href="#Input-3" class="headerlink" title="Input"></a>Input</h4><p>Print the sum of <code>gcd(A1,...,AN)</code> over all KN sequences, modulo <code>(109+7)</code>.</p><h4 id="Output-3"><a href="#Output-3" class="headerlink" title="Output"></a>Output</h4><p>Print the number of triplets in question.</p><h3 id="åœ°å€-4"><a href="#åœ°å€-4" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://atcoder.jp/contests/abc162/tasks/abc162_d" target="_blank" rel="noopener">https://atcoder.jp/contests/abc162/tasks/abc162_d</a></p><h3 id="é¢˜æ„-4"><a href="#é¢˜æ„-4" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  æ•°å­¦é—®é¢˜</p><h3 id="æ€è·¯-4"><a href="#æ€è·¯-4" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>è½¬åŒ–ä¸ºæ•°å­¦é—®é¢˜ï¼Œæ€è·¯ç¡®å®ä¸å®¹æ˜“æƒ³åˆ°ã€‚</li><li>æˆ‘ä»¬çŸ¥é“:<code>gcd(a1,a2,a3,a4,...,ak)</code>,ä¸€å…±ç”¨<code>1~k</code>ç§å–å€¼çš„å¯èƒ½ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°æ¯ç§å–å€¼<code>i</code>çš„ä¸ªæ•°<code>f(i)</code>,æœ€ç»ˆçš„ç»“æœä¸º$\sum_{i=1}^{k}f(i)$.</li><li>é€’æ¨å…³ç³»ä¸ºï¼š<script type="math/tex; mode=display">f[i] = [\frac{K}{i}]^{N} - \sum_{j>i,i|j}f[j]</script><h3 id="ä»£ç -4"><a href="#ä»£ç -4" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MD=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> f[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">quick_pow</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(y) &#123;</span><br><span class="line">        <span class="keyword">if</span>(y&amp;<span class="number">1</span>) ans=<span class="number">1L</span>L*ans*x%MD;</span><br><span class="line">        y&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">        x=<span class="number">1L</span>L*x*x%MD;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> &amp;x,<span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    x+=y;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;=MD) x-=MD;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">0</span>) x+=MD;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,k;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;k);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=k;i&gt;=<span class="number">1</span>;i--) &#123;</span><br><span class="line">        f[i]=quick_pow(k/i,n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">2</span>*i;j&lt;=k;j+=i) &#123;</span><br><span class="line">            add(f[i],-f[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k;i++) &#123;</span><br><span class="line">        add(ans,<span class="number">1L</span>L*f[i]*i%MD);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="F-Select-Half"><a href="#F-Select-Half" class="headerlink" title="F - Select Half"></a>F - Select Half</h2><h3 id="é¢˜ç›®-5"><a href="#é¢˜ç›®-5" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>Time Limit: 2 sec / Memory Limit: 1024 MB<br>Score : 600<br>points</p><h4 id="Problem-Statement-5"><a href="#Problem-Statement-5" class="headerlink" title="Problem Statement"></a>Problem Statement</h4><p>Given is an integer sequence A1,â€¦,AN of length N.</p><p>We will choose exactly <code>âŒŠN2âŒ‹</code></p><p>elements from this sequence so that no two adjacent elements are chosen.</p><p>Find the maximum possible sum of the chosen elements.</p><p>Here <code>âŒŠxâŒ‹</code><br>denotes the greatest integer not greater than x.</p><h4 id="Constraints-5"><a href="#Constraints-5" class="headerlink" title="Constraints"></a>Constraints</h4><ul><li><code>2â‰¤Nâ‰¤2Ã—105</code></li><li><code>|Ai|â‰¤109</code></li><li>All values in input are integers.</li></ul><h4 id="Input-4"><a href="#Input-4" class="headerlink" title="Input"></a>Input</h4><p>Input is given from Standard Input in the following format:<br><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">N</span><br><span class="line"><span class="function"><span class="title">A1</span></span>...AN</span><br></pre></td></tr></table></figure></p><h4 id="Output-4"><a href="#Output-4" class="headerlink" title="Output"></a>Output</h4><p>Print the maximum possible sum of the chosen elements.</p><h3 id="åœ°å€-5"><a href="#åœ°å€-5" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://atcoder.jp/contests/abc162/tasks/abc162_f" target="_blank" rel="noopener">https://atcoder.jp/contests/abc162/tasks/abc162_f</a></p><h3 id="é¢˜æ„-5"><a href="#é¢˜æ„-5" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> åŠ¨æ€è§„åˆ’</p><h3 id="æ€è·¯-5"><a href="#æ€è·¯-5" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>è¿™ä¸ªé¢˜ç›®éå¸¸æœ‰æ„æ€ã€‚éå¸¸å…¸å‹çš„ç«èµ›é¢˜ç›®ï¼Œå¾ˆæœ‰æŠ€å·§ï¼›</li><li>æˆ‘ä»¬è®¾<code>dp[i]</code>ä»£è¡¨ä»å‰iä¸ªå…ƒç´ ä¸­é€‰å»æœ€å¤š[i/2]ä¸ªå…ƒç´ å’Œçš„æœ€å¤§å€¼,æˆ‘ä»¬åˆ†ä¸ºä¸¤ç§æƒ…å†µæ¥è®¨è®ºã€‚</li><li>å¦‚æœå‰iä¸ªå…ƒç´ å…±æœ‰å¶æ•°ä¸ªå…ƒç´ ï¼Œä¹Ÿå³iä½å¶æ•°ã€‚åˆ™è¿™æ—¶ä»<code>i</code>ä¸ªå…ƒç´ ä¸­é€‰å–$[\frac{i}{2}]$ä¸ªå…ƒç´ ï¼Œåˆ™è¿™æ—¶æœ€å¤šåªæœ‰ä¸¤ç§é€‰æ‹©ï¼Œè¦ä¹ˆæ˜¯ç­‰å·®ä»<code>0</code>å¼€å§‹é€‰æ‹©<code>{a[0],a[2],a[4],a[6],...,a[i]}</code>,è¦ä¹ˆæ˜¯ç­‰å·®æ•°åˆ—ä»<code>1</code>å¼€å§‹é€‰æ‹©<code>{a[1],a[3],a[5],...,a[i-1]}</code>ã€‚æ‰€ä»¥æˆ‘ä»¬å½“iä½å¶æ•°æ—¶ï¼Œæ¨å‡ºé€’æ¨å…¬å¼ä¸ºï¼š<script type="math/tex; mode=display">dp[i] = max(\sum_{k=0}^{\frac{i}{2}}a[2*i+1],\sum_{k=0}^{\frac{i}{2}}a[2*i])</script></li><li>å¦‚æœå‰iä¸ªå…ƒç´ å…±æœ‰å¥‡æ•°ä¸ªå…ƒç´ ï¼Œä¹Ÿå³iä½å¥‡æ•°ã€‚åˆ™è¿™æ—¶æƒ…å†µç¨å¾®æ¯”è¾ƒå¤æ‚ï¼Œå¦‚æœiä¸ºå¥‡æ•°ï¼Œåˆ™æˆ‘ä»¬éœ€è¦é€‰æ‹©$\frac{i-1}{2}$ä¸ªå…ƒç´ ,æˆ‘ä»¬è¦ä¹ˆä»å‰<code>i-1</code>ä¸ªå…ƒç´ é€‰æ‹©ï¼Œè¦ä¹ˆåŠ ä¸Šå…ƒç´ <code>i</code>ã€‚åˆ™æˆ‘ä»¬å¯ä»¥æ¨å‡ºé€’æ¨å…¬å¼ä¸ºï¼š<script type="math/tex; mode=display">dp[i] = max(d[i-1],dp[i-2] + a[i])</script></li><li>è¿™ä¸ªé¢˜ç›®è´¨é‡å¾ˆé«˜ï¼Œå‡ºçš„å¾ˆå¥½ï¼Œæˆ‘è§‰å¾—<code>leetcode</code> è´¨é‡é«˜å¤šäº†ã€‚</li></ol></blockquote><h3 id="ä»£ç -5"><a href="#ä»£ç -5" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*0 1 2 3 4 5 6 7*/</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*dp[i] ä»£è¡¨ä»å‰iä¸ªå…ƒç´ ä¸­é€‰å»æœ€å¤š[i/2]ä¸ªå…ƒç´ å’Œçš„æœ€å¤§å€¼*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">slove</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; arr(n+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; dp(n+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> left = arr[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i%<span class="number">2</span> == <span class="number">1</span>)&#123;</span><br><span class="line">            dp[i] = max(dp[i<span class="number">-2</span>] + arr[i],dp[i<span class="number">-1</span>]);</span><br><span class="line">            left += arr[i];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            dp[i] = max(dp[i<span class="number">-2</span>] + arr[i],left);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;dp[n]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    slove();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;AtCoder-Beginner-Contest-162&quot;&gt;&lt;a href=&quot;#AtCoder-Beginner-Contest-162&quot; class=&quot;headerlink&quot; title=&quot;AtCoder Beginner Contest 162&quot;&gt;&lt;/a&gt;AtCoder Beginner Contest 162&lt;/h1&gt;&lt;p&gt;&lt;code&gt;atcoder&lt;/code&gt;é¢˜ç›®æ¯”&lt;code&gt;leetcode&lt;/code&gt;é¢˜ç›®è´¨é‡é«˜å¤šäº†ã€‚éå¸¸æœ‰æ„æ€ã€‚&lt;/p&gt;&lt;h2 id=&quot;A-Lucky-7&quot;&gt;&lt;a href=&quot;#A-Lucky-7&quot; class=&quot;headerlink&quot; title=&quot;A - Lucky 7&quot;&gt;&lt;/a&gt;A - Lucky 7&lt;/h2&gt;&lt;h3 id=&quot;é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®&quot;&gt;&lt;/a&gt;é¢˜ç›®&lt;/h3&gt;&lt;p&gt;Time Limit: 2 sec / Memory Limit: 1024 MB&lt;/p&gt;&lt;p&gt;Score : 100&lt;/p&gt;&lt;p&gt;points&lt;/p&gt;&lt;h4 id=&quot;Problem-Statement&quot;&gt;&lt;a href=&quot;#Problem-Statement&quot; class=&quot;headerlink&quot; title=&quot;Problem Statement&quot;&gt;&lt;/a&gt;Problem Statement&lt;/h4&gt;&lt;p&gt;Given is a three-digit integer N&lt;br&gt;. Does N contain the digit 7&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="atcoder" scheme="http://yoursite.com/tags/atcoder/"/>
    
  </entry>
  
  <entry>
    <title>ã€Leetcodeã€‘ ç¬¬184å‘¨æ¯”èµ›</title>
    <link href="http://yoursite.com/2020/04/13/149/"/>
    <id>http://yoursite.com/2020/04/13/149/</id>
    <published>2020-04-12T16:27:19.040Z</published>
    <updated>2020-04-12T16:27:24.410Z</updated>
    
    <content type="html"><![CDATA[<h1 id="184å‘¨æ¯”èµ›"><a href="#184å‘¨æ¯”èµ›" class="headerlink" title="184å‘¨æ¯”èµ›"></a>184å‘¨æ¯”èµ›</h1><p>æ„Ÿè§‰é¢˜ç›®è¶Šæ¥è¶Šæ°´äº†å•Šï¼Œè´¨é‡ä¸å¤Ÿé«˜ã€‚</p><h2 id="5380-æ•°ç»„ä¸­çš„å­—ç¬¦ä¸²åŒ¹é…"><a href="#5380-æ•°ç»„ä¸­çš„å­—ç¬¦ä¸²åŒ¹é…" class="headerlink" title="5380. æ•°ç»„ä¸­çš„å­—ç¬¦ä¸²åŒ¹é…"></a>5380. æ•°ç»„ä¸­çš„å­—ç¬¦ä¸²åŒ¹é…</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ <code>words</code> ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²éƒ½å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå•è¯ã€‚è¯·ä½ æŒ‰ ä»»æ„ é¡ºåºè¿”å›<code>words</code>ä¸­æ˜¯å…¶ä»–å•è¯çš„å­å­—ç¬¦ä¸²çš„æ‰€æœ‰å•è¯ã€‚</p><p>å¦‚æœä½ å¯ä»¥åˆ é™¤<code>words[j]</code> æœ€å·¦ä¾§å’Œ/æˆ–æœ€å³ä¾§çš„è‹¥å¹²å­—ç¬¦å¾—åˆ° <code>word[i]</code> ï¼Œé‚£ä¹ˆå­—ç¬¦ä¸² <code>words[i]</code>å°±æ˜¯ <code>words[j]</code>çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šwords = [<span class="string">"mass"</span>,<span class="string">"as"</span>,<span class="string">"hero"</span>,<span class="string">"superhero"</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="string">"as"</span>,<span class="string">"hero"</span>]</span><br><span class="line">è§£é‡Šï¼š<span class="string">"as"</span> æ˜¯ <span class="string">"mass"</span> çš„å­å­—ç¬¦ä¸²ï¼Œ<span class="string">"hero"</span> æ˜¯ <span class="string">"superhero"</span> çš„å­å­—ç¬¦ä¸²ã€‚</span><br><span class="line">[<span class="string">"hero"</span>,<span class="string">"as"</span>] ä¹Ÿæ˜¯æœ‰æ•ˆçš„ç­”æ¡ˆã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šwords = [<span class="string">"leetcode"</span>,<span class="string">"et"</span>,<span class="string">"code"</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="string">"et"</span>,<span class="string">"code"</span>]</span><br><span class="line">è§£é‡Šï¼š<span class="string">"et"</span> å’Œ <span class="string">"code"</span> éƒ½æ˜¯ <span class="string">"leetcode"</span> çš„å­å­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šwords = [<span class="string">"blue"</span>,<span class="string">"green"</span>,<span class="string">"bu"</span>]</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= words.length &lt;= 100</code></li><li><code>1 &lt;= words[i].length &lt;= 30</code></li><li><code>words[i]</code>ä»…åŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚</li><li>é¢˜ç›®æ•°æ® ä¿è¯ æ¯ä¸ª <code>words[i]</code> éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚</li></ul><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/string-matching-in-an-array" target="_blank" rel="noopener">https://leetcode-cn.com/problems/string-matching-in-an-array</a></p><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æš´åŠ›åŒ¹é…</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>æœ¬èº«æ•°æ®é‡éå¸¸å°ï¼Œæˆ‘ä»¬å®é™…åªéœ€æš´åŠ›åŒ¹é…å³å¯ã€‚</li><li>å¯¹å­—ç¬¦ä¸²æŒ‰ç…§é•¿åº¦é•¿çŸ­è¿›è¡Œæ’åºï¼Œç„¶åæ¯æ¬¡ç›´æ¥ç”¨<code>find</code>è¿›è¡Œæš´åŠ›åŒ¹é…ï¼Œå…¶å®findçš„æœ¬è´¨ä¹Ÿæ˜¯å­—ç¬¦ä¸²å­—ä¸²åŒ¹é…çš„é—®é¢˜ã€‚</li><li>æœ¬è´¨æ˜¯éå¸¸ç®€å•çš„è§£æ³•ã€‚<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="built_in">string</span> &amp; a,<span class="built_in">string</span> &amp; b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.size() &gt; b.size();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; stringMatching(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words) &#123;</span><br><span class="line">        <span class="keyword">int</span> n = words.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; res;</span><br><span class="line">        </span><br><span class="line">        sort(words.begin(),words.end(),cmp);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i &amp;&amp; words[j].size() &gt; words[i].size(); ++j)&#123;</span><br><span class="line">                <span class="keyword">if</span>(words[j].find(words[i]) != <span class="built_in">std</span>::<span class="built_in">string</span>::npos)&#123;</span><br><span class="line">                    res.push_back(words[i]);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5381-æŸ¥è¯¢å¸¦é”®çš„æ’åˆ—"><a href="#5381-æŸ¥è¯¢å¸¦é”®çš„æ’åˆ—" class="headerlink" title="5381. æŸ¥è¯¢å¸¦é”®çš„æ’åˆ—"></a>5381. æŸ¥è¯¢å¸¦é”®çš„æ’åˆ—</h2><h3 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªå¾…æŸ¥æ•°ç»„<code>queries</code>ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ ä¸º <code>1</code>åˆ°<code>m</code> ä¹‹é—´çš„æ­£æ•´æ•°ã€‚ è¯·ä½ æ ¹æ®ä»¥ä¸‹è§„åˆ™å¤„ç†æ‰€æœ‰å¾…æŸ¥é¡¹ <code>queries[i]</code>ï¼ˆä» <code>i=0</code>åˆ° <code>i=queries.length-1</code>ï¼‰ï¼š</p><ul><li>ä¸€å¼€å§‹ï¼Œæ’åˆ— <code>P=[1,2,3,...,m]</code>ã€‚</li><li>å¯¹äºå½“å‰çš„ i ï¼Œè¯·ä½ æ‰¾å‡ºå¾…æŸ¥é¡¹ <code>queries[i]</code>åœ¨æ’åˆ— P ä¸­çš„ä½ç½®ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ï¼Œç„¶åå°†å…¶ä»åŸä½ç½®ç§»åŠ¨åˆ°æ’åˆ—<code>P</code>çš„èµ·å§‹ä½ç½®ï¼ˆå³ä¸‹æ ‡ä¸º 0 å¤„ï¼‰ã€‚æ³¨æ„ï¼Œ queries[i] åœ¨ P ä¸­çš„ä½ç½®å°±æ˜¯ <code>queries[i]</code>çš„æŸ¥è¯¢ç»“æœã€‚</li></ul><p>è¯·ä½ ä»¥æ•°ç»„å½¢å¼è¿”å›å¾…æŸ¥æ•°ç»„ <code>queries</code>çš„æŸ¥è¯¢ç»“æœã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šqueries = [<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>], m = <span class="number">5</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>] </span><br><span class="line">è§£é‡Šï¼šå¾…æŸ¥æ•°ç»„ queries å¤„ç†å¦‚ä¸‹ï¼š</span><br><span class="line">å¯¹äº i=<span class="number">0</span>: queries[i]=<span class="number">3</span>, P=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], <span class="number">3</span> åœ¨ P ä¸­çš„ä½ç½®æ˜¯ <span class="number">2</span>ï¼Œæ¥ç€æˆ‘ä»¬æŠŠ <span class="number">3</span> ç§»åŠ¨åˆ° P çš„èµ·å§‹ä½ç½®ï¼Œå¾—åˆ° P=[<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>] ã€‚</span><br><span class="line">å¯¹äº i=<span class="number">1</span>: queries[i]=<span class="number">1</span>, P=[<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>], <span class="number">1</span> åœ¨ P ä¸­çš„ä½ç½®æ˜¯ <span class="number">1</span>ï¼Œæ¥ç€æˆ‘ä»¬æŠŠ <span class="number">1</span> ç§»åŠ¨åˆ° P çš„èµ·å§‹ä½ç½®ï¼Œå¾—åˆ° P=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>] ã€‚ </span><br><span class="line">å¯¹äº i=<span class="number">2</span>: queries[i]=<span class="number">2</span>, P=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>], <span class="number">2</span> åœ¨ P ä¸­çš„ä½ç½®æ˜¯ <span class="number">2</span>ï¼Œæ¥ç€æˆ‘ä»¬æŠŠ <span class="number">2</span> ç§»åŠ¨åˆ° P çš„èµ·å§‹ä½ç½®ï¼Œå¾—åˆ° P=[<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>] ã€‚</span><br><span class="line">å¯¹äº i=<span class="number">3</span>: queries[i]=<span class="number">1</span>, P=[<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], <span class="number">1</span> åœ¨ P ä¸­çš„ä½ç½®æ˜¯ <span class="number">1</span>ï¼Œæ¥ç€æˆ‘ä»¬æŠŠ <span class="number">1</span> ç§»åŠ¨åˆ° P çš„èµ·å§‹ä½ç½®ï¼Œå¾—åˆ° P=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>] ã€‚ </span><br><span class="line">å› æ­¤ï¼Œè¿”å›çš„ç»“æœæ•°ç»„ä¸º [<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>] ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šqueries = [<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>], m = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>]</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šqueries = [<span class="number">7</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">3</span>], m = <span class="number">8</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">6</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">7</span>,<span class="number">5</span>]</span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= m &lt;= 10^3</code></li><li><code>1 &lt;= queries.length &lt;= m</code></li><li><code>1 &lt;= queries[i] &lt;= m</code></li></ul><h3 id="åœ°å€-1"><a href="#åœ°å€-1" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/queries-on-a-permutation-with-key" target="_blank" rel="noopener">https://leetcode-cn.com/problems/queries-on-a-permutation-with-key</a></p><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æš´åŠ›</p><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>é¢˜ç›®ä¸­ç»™çš„æ•°æ®é‡åªæœ‰<code>1o^3</code>çš„æ•°é‡çº§ï¼Œæ€ä¹ˆåšéƒ½å¯ä»¥å‡ºæ¥ã€‚</li><li>é¢˜ç›®ä¸­é‡‡ç”¨çš„ç§»ä½çš„åŠæ³•ï¼Œæˆ‘ä»¬è®°å½•æ¯ä¸ªæ•°åœ¨åºåˆ—ä¸­çš„æ’åºä½ç½®ã€‚æ¯æ¬¡éœ€è¦ç§»åŠ¨æ—¶ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰å°äºè¯¥ä½ç½®çš„æ•°çš„ä½ç½®å…¨éƒ¨å‘åç§»åŠ¨ä¸€ä½ï¼Œç„¶åå°†æ•°æœ¬èº«å†ç§»åŠ¨åˆ°ç¬¬0ä½å¤„ã€‚<h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; processQueries(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; queries, <span class="keyword">int</span> m) &#123;</span><br><span class="line">        <span class="keyword">int</span> n = queries.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; order(m,<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) order[i] = i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            res.push_back(order[queries[i]<span class="number">-1</span>]);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; ++j)&#123;</span><br><span class="line">                <span class="keyword">if</span>(order[j] &lt; order[queries[i]<span class="number">-1</span>]) order[j]++;</span><br><span class="line">            &#125;</span><br><span class="line">            order[queries[i]<span class="number">-1</span>] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="1410-HTML-å®ä½“è§£æå™¨"><a href="#1410-HTML-å®ä½“è§£æå™¨" class="headerlink" title="1410. HTML å®ä½“è§£æå™¨"></a>1410. HTML å®ä½“è§£æå™¨</h2><h3 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ã€ŒHTML å®ä½“è§£æå™¨ã€ æ˜¯ä¸€ç§ç‰¹æ®Šçš„è§£æå™¨ï¼Œå®ƒå°† HTML ä»£ç ä½œä¸ºè¾“å…¥ï¼Œå¹¶ç”¨å­—ç¬¦æœ¬èº«æ›¿æ¢æ‰æ‰€æœ‰è¿™äº›ç‰¹æ®Šçš„å­—ç¬¦å®ä½“ã€‚</p><p><code>HTML</code>é‡Œè¿™äº›ç‰¹æ®Šå­—ç¬¦å’Œå®ƒä»¬å¯¹åº”çš„å­—ç¬¦å®ä½“åŒ…æ‹¬ï¼š</p><ul><li>åŒå¼•å·ï¼šå­—ç¬¦å®ä½“ä¸º &quot; ï¼Œå¯¹åº”çš„å­—ç¬¦æ˜¯ â€œ ã€‚</li><li>å•å¼•å·ï¼šå­—ç¬¦å®ä½“ä¸º &apos; ï¼Œå¯¹åº”çš„å­—ç¬¦æ˜¯ â€˜ ã€‚</li><li>ä¸ç¬¦å·ï¼šå­—ç¬¦å®ä½“ä¸º &amp; ï¼Œå¯¹åº”å¯¹çš„å­—ç¬¦æ˜¯ &amp; ã€‚</li><li>å¤§äºå·ï¼šå­—ç¬¦å®ä½“ä¸º &gt; ï¼Œå¯¹åº”çš„å­—ç¬¦æ˜¯ &gt; ã€‚</li><li>å°äºå·ï¼šå­—ç¬¦å®ä½“ä¸º &lt; ï¼Œå¯¹åº”çš„å­—ç¬¦æ˜¯ &lt; ã€‚</li><li>æ–œçº¿å·ï¼šå­—ç¬¦å®ä½“ä¸º &frasl; ï¼Œå¯¹åº”çš„å­—ç¬¦æ˜¯ / ã€‚</li></ul><p>ç»™ä½ è¾“å…¥å­—ç¬¦ä¸²<code>text</code> ï¼Œè¯·ä½ å®ç°ä¸€ä¸ª <code>HTML</code> å®ä½“è§£æå™¨ï¼Œè¿”å›è§£æå™¨è§£æåçš„ç»“æœã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight mizar"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štext = "&amp;amp; <span class="keyword">is</span> an HTML entity but &amp;ambassador; <span class="keyword">is</span> <span class="keyword">not</span>."</span><br><span class="line">è¾“å‡ºï¼š"&amp; <span class="keyword">is</span> an HTML entity but &amp;ambassador; <span class="keyword">is</span> <span class="keyword">not</span>."</span><br><span class="line">è§£é‡Šï¼šè§£æå™¨æŠŠå­—ç¬¦å®ä½“ &amp;amp; ç”¨ &amp; æ›¿æ¢</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štext = <span class="string">"and I quote: &amp;quot;...&amp;quot;"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"and I quote: <span class="subst">\"</span>...<span class="subst">\"</span>"</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="built_in">text</span> = <span class="string">"Stay home! Practice on Leetcode :)"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"Stay home! Practice on Leetcode :)"</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="built_in">text</span> = <span class="string">"x &amp;gt; y &amp;amp;&amp;amp; x &amp;lt; y is always false"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"x &gt; y &amp;&amp; x &lt; y is always false"</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 5ï¼š<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="built_in">text</span> = <span class="string">"leetcode.com&amp;frasl;problemset&amp;frasl;all"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"leetcode.com/problemset/all"</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= text.length &lt;= 10^5</code></li><li>å­—ç¬¦ä¸²å¯èƒ½åŒ…å«<code>256</code>ä¸ª<code>ASCII</code> å­—ç¬¦ä¸­çš„ä»»æ„å­—ç¬¦ã€‚</li></ul><h3 id="åœ°å€-2"><a href="#åœ°å€-2" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/html-entity-parser" target="_blank" rel="noopener">https://leetcode-cn.com/problems/html-entity-parser</a></p><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> ç›´æ¥æš´åŠ›åŒ¹é…</p><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>æ•°æ®é‡éå¸¸å°ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ç›´æ¥æš´åŠ›åŒ¹é…ã€‚</li><li>å½“ç„¶çœ‹äº†åˆ«äººçš„è§£ç­”ï¼Œæ¯æ¬¡åŒ¹é…è¿ç»­çš„<code>&amp;</code>ä¸<code>;</code>ï¼Œå°†ä¹‹é—´çš„å­—ç¬¦ä¸²è¿›è¡ŒæŸ¥æ‰¾å’Œæ›¿æ¢ã€‚<h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">entityParser</span><span class="params">(<span class="built_in">string</span> text)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">string</span> res;</span><br><span class="line">        <span class="keyword">int</span> n = text.size();</span><br><span class="line">        <span class="built_in">string</span> keys[<span class="number">6</span>] = &#123;<span class="string">"&amp;quot;"</span>,<span class="string">"&amp;apos;"</span>,<span class="string">"&amp;amp;"</span>,<span class="string">"&amp;gt;"</span>,<span class="string">"&amp;lt;"</span>,<span class="string">"&amp;frasl;"</span>&#125;;</span><br><span class="line">        <span class="keyword">char</span> rep[<span class="number">6</span>] = &#123;<span class="string">'"'</span>,<span class="string">'\''</span>,<span class="string">'&amp;'</span>,<span class="string">'&gt;'</span>,<span class="string">'&lt;'</span>,<span class="string">'/'</span>&#125;;</span><br><span class="line">                </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; )&#123;</span><br><span class="line">            <span class="keyword">if</span>(text[i] == <span class="string">'&amp;'</span>)&#123;</span><br><span class="line">                <span class="keyword">bool</span> isMatch = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">6</span>; ++j)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(n-i &gt;= keys[j].size() &amp;&amp; text.substr(i,keys[j].size()) == keys[j])&#123;</span><br><span class="line">                        res.push_back(rep[j]);</span><br><span class="line">                        i += keys[j].size();</span><br><span class="line">                        isMatch = <span class="literal">true</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(!isMatch) res.push_back(text[i++]);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                res.push_back(text[i++]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">                       </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5383-ç»™-N-x-3-ç½‘æ ¼å›¾æ¶‚è‰²çš„æ–¹æ¡ˆæ•°"><a href="#5383-ç»™-N-x-3-ç½‘æ ¼å›¾æ¶‚è‰²çš„æ–¹æ¡ˆæ•°" class="headerlink" title="5383. ç»™ N x 3 ç½‘æ ¼å›¾æ¶‚è‰²çš„æ–¹æ¡ˆæ•°"></a>5383. ç»™ N x 3 ç½‘æ ¼å›¾æ¶‚è‰²çš„æ–¹æ¡ˆæ•°</h2><h3 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ä½ æœ‰ä¸€ä¸ª <code>n x 3</code>çš„ç½‘æ ¼å›¾ <code>grid</code> ï¼Œä½ éœ€è¦ç”¨ çº¢ï¼Œé»„ï¼Œç»¿ ä¸‰ç§é¢œè‰²ä¹‹ä¸€ç»™æ¯ä¸€ä¸ªæ ¼å­ä¸Šè‰²ï¼Œä¸”ç¡®ä¿ç›¸é‚»æ ¼å­é¢œè‰²ä¸åŒï¼ˆä¹Ÿå°±æ˜¯æœ‰ç›¸åŒæ°´å¹³è¾¹æˆ–è€…å‚ç›´è¾¹çš„æ ¼å­é¢œè‰²ä¸åŒï¼‰ã€‚</p><p>ç»™ä½ ç½‘æ ¼å›¾çš„è¡Œæ•° n ã€‚</p><p>è¯·ä½ è¿”å›ç»™<code>grid</code>æ¶‚è‰²çš„æ–¹æ¡ˆæ•°ã€‚ç”±äºç­”æ¡ˆå¯èƒ½ä¼šéå¸¸å¤§ï¼Œè¯·ä½ è¿”å›ç­”æ¡ˆå¯¹<code>10^9 + 7</code> å–ä½™çš„ç»“æœã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">12</span></span><br><span class="line">è§£é‡Šï¼šæ€»å…±æœ‰ <span class="number">12</span> ç§å¯è¡Œçš„æ–¹æ³•ï¼š</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">54</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">246</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">7</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">106494</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 5ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">5000</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">30228214</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>n == grid.length</code></li><li><code>grid[i].length == 3</code></li><li><code>1 &lt;= n &lt;= 5000</code></li></ul><h3 id="åœ°å€-3"><a href="#åœ°å€-3" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/number-of-ways-to-paint-n-x-3-grid" target="_blank" rel="noopener">https://leetcode-cn.com/problems/number-of-ways-to-paint-n-x-3-grid</a></p><h3 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  åŠ¨æ€è§„åˆ’</p><h3 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>æœ¬é¢˜åŸºæœ¬ä¸€çœ¼çœ‹åˆ°å°±æ˜¯åŠ¨æ€è§„åˆ’ï¼ŒçŠ¶æ€å‹ç¼©çš„dpã€‚</li><li>æˆ‘ä»¬å®šä¹‰ç¬¦åˆè¡Œè¦æ±‚çš„æ”¾ç½®çš„é¢œè‰²ç»„åˆä¸€å…±æœ‰12ç§ï¼Œè€Œç¬¬<code>i</code>è¡Œçš„å¯ä»¥æ”¾ç½®çš„é¢œè‰²ä¹Ÿä»…ä»…ä¸ç¬¬<code>i-1</code>è¡Œçš„é¢œè‰²æœ‰å…³ï¼Œé‡‡ç”¨åŠ¨æ€è§„åˆ’ã€‚</li><li>è®°å½•<code>dp[i-1]</code>çš„æ¯ç§ç»„åˆçš„æ–¹æ¡ˆæ•°ï¼Œ<code>dp[i]</code>åœ¨è¿™12ç§ç»„åˆæ–¹æ¡ˆä¸­è¿›è¡Œéå†ï¼ŒåŒæ—¶è®°å½•ç¬¦åˆæ¡ä»¶çš„ç»„åˆæ–¹æ¡ˆæ•°ã€‚</li></ol></blockquote><h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numOfWays</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> dp1[<span class="number">12</span>];</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> dp2[<span class="number">12</span>];</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; next(<span class="number">12</span>);</span><br><span class="line">        <span class="built_in">string</span> state[<span class="number">12</span>] = &#123;<span class="string">"123"</span>,<span class="string">"121"</span>,<span class="string">"131"</span>,<span class="string">"132"</span>, \</span><br><span class="line">                            <span class="string">"212"</span>,<span class="string">"213"</span>,<span class="string">"232"</span>,<span class="string">"231"</span>, \</span><br><span class="line">                            <span class="string">"313"</span>,<span class="string">"312"</span>,<span class="string">"321"</span>,<span class="string">"323"</span> &#125;;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>,<span class="keyword">int</span>&gt; dict;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">/*intial*/</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">12</span>; ++i) dict[state[i]] = i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">12</span>; ++i)&#123;</span><br><span class="line">            <span class="keyword">int</span> s1 = state[i][<span class="number">0</span>] - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> s2 = state[i][<span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> s3 = state[i][<span class="number">2</span>] - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> l1 = <span class="number">1</span>; l1 &lt;= <span class="number">3</span>; ++l1)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> l2 = <span class="number">1</span>; l2 &lt;= <span class="number">3</span>; ++l2)&#123;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> l3 = <span class="number">1</span>; l3 &lt;= <span class="number">3</span>; ++l3)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(l1 == l2 || l2 == l3) <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">if</span>(l1 == s1 || l2 == s2 || l3 == s3) <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="built_in">string</span> x = to_string(l1) + to_string(l2) + to_string(l3);</span><br><span class="line">                        <span class="keyword">int</span> id = dict[x];</span><br><span class="line">                        next[i].push_back(id);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">memset</span>(dp1,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp1));</span><br><span class="line">        <span class="built_in">memset</span>(dp2,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp2));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">12</span>; ++i) dp1[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="built_in">memset</span>(dp2,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp2));</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">12</span>; ++j)&#123;</span><br><span class="line">                <span class="keyword">if</span>(dp1[j] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; next[j].size(); ++k) dp2[next[j][k]] = (dp2[next[j][k]] + dp1[j])%mod;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">12</span>; ++j) dp1[j] = dp2[j];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">12</span>; ++i)&#123;</span><br><span class="line">            res = (res + dp1[i])%mod;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;184å‘¨æ¯”èµ›&quot;&gt;&lt;a href=&quot;#184å‘¨æ¯”èµ›&quot; class=&quot;headerlink&quot; title=&quot;184å‘¨æ¯”èµ›&quot;&gt;&lt;/a&gt;184å‘¨æ¯”èµ›&lt;/h1&gt;&lt;p&gt;æ„Ÿè§‰é¢˜ç›®è¶Šæ¥è¶Šæ°´äº†å•Šï¼Œè´¨é‡ä¸å¤Ÿé«˜ã€‚&lt;/p&gt;&lt;h2 id=&quot;5380-æ•°ç»„ä¸­çš„å­—ç¬¦ä¸²åŒ¹é…&quot;&gt;&lt;a href=&quot;#5380-æ•°ç»„ä¸­çš„å­—ç¬¦ä¸²åŒ¹é…&quot; class=&quot;headerlink&quot; title=&quot;5380. æ•°ç»„ä¸­çš„å­—ç¬¦ä¸²åŒ¹é…&quot;&gt;&lt;/a&gt;5380. æ•°ç»„ä¸­çš„å­—ç¬¦ä¸²åŒ¹é…&lt;/h2&gt;&lt;h3 id=&quot;é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®&quot;&gt;&lt;/a&gt;é¢˜ç›®&lt;/h3&gt;&lt;p&gt;ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ &lt;code&gt;words&lt;/code&gt; ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²éƒ½å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå•è¯ã€‚è¯·ä½ æŒ‰ ä»»æ„ é¡ºåºè¿”å›&lt;code&gt;words&lt;/code&gt;ä¸­æ˜¯å…¶ä»–å•è¯çš„å­å­—ç¬¦ä¸²çš„æ‰€æœ‰å•è¯ã€‚&lt;/p&gt;&lt;p&gt;å¦‚æœä½ å¯ä»¥åˆ é™¤&lt;code&gt;words[j]&lt;/code&gt; æœ€å·¦ä¾§å’Œ/æˆ–æœ€å³ä¾§çš„è‹¥å¹²å­—ç¬¦å¾—åˆ° &lt;code&gt;word[i]&lt;/code&gt; ï¼Œé‚£ä¹ˆå­—ç¬¦ä¸² &lt;code&gt;words[i]&lt;/code&gt;å°±æ˜¯ &lt;code&gt;words[j]&lt;/code&gt;çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>å­—ç¬¦ä¸²</title>
    <link href="http://yoursite.com/2020/04/10/148/"/>
    <id>http://yoursite.com/2020/04/10/148/</id>
    <published>2020-04-10T04:27:14.175Z</published>
    <updated>2020-04-14T05:22:35.195Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å­—ç¬¦ä¸²ç®—æ³•"><a href="#å­—ç¬¦ä¸²ç®—æ³•" class="headerlink" title="å­—ç¬¦ä¸²ç®—æ³•"></a>å­—ç¬¦ä¸²ç®—æ³•</h3><p>å­—ç¬¦ä¸²ä½œä¸ºä¸€ä¸ªéå¸¸é‡è¦çš„åº”ç”¨ï¼Œã€‚å¯¹æ‰€æœ‰å­—ç¬¦ä¸²ç®—æ³•çš„æ€»ç»“ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²çš„æ’åºä¸å­—ç¬¦ä¸²çš„åŒ¹é…ï¼Œåœ¨å®é™…çš„ç¨‹åºä¸­æ˜¯éå¸¸éå¸¸é‡è¦çš„ä¸¤å—åº”ç”¨ï¼Œå…¶ä¸­çš„ç®—æ³•åˆéå¸¸çš„å¤æ‚ã€‚å…‰æŠŠè¿™å‡ ä¸ªç ”ç©¶é€å°±éå¸¸éœ€è¦è€—è´¹ç²¾åŠ›å’Œæ—¶é—´ã€‚</p><h4 id="å­—ç¬¦ä¸²æ’åº"><a href="#å­—ç¬¦ä¸²æ’åº" class="headerlink" title="å­—ç¬¦ä¸²æ’åº"></a>å­—ç¬¦ä¸²æ’åº</h4><h5 id="count-index"><a href="#count-index" class="headerlink" title="count index"></a><code>count index</code></h5><p><code>count index</code>ä½œä¸ºä¸€ç§å¿«é€Ÿçš„æ’åºç®—æ³•ï¼Œå¯ä»¥åœ¨O(n+m)çš„æ—¶é—´å¤æ‚åº¦å†…å³å¯å®Œæˆå­—ç¬¦ä¸²çš„æ’åºã€‚æœ¬è´¨æ˜¯åŸºæ•°æ’åºï¼Œå®é™…åº”ç”¨ä¸­è¿™ä¸ªæ’åºç®—æ³•æ•ˆç‡éå¸¸é«˜ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥åœ¨çº¿æ€§æ—¶é—´å†…å®Œæˆå¯¹å­—ç¬¦ä¸²çš„æ’åºã€‚ç©ºé—´å¤æ‚åº¦ä¸ºO(m+n).<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">countIndex</span><span class="params">(<span class="keyword">char</span> [] a)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> [] count = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">257</span>];</span><br><span class="line">    <span class="keyword">int</span> [] aux = <span class="keyword">new</span> <span class="keyword">int</span>[a.length];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; str.length; ++i)&#123;</span><br><span class="line">        count[str[i]+<span class="number">1</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">256</span>; ++i)&#123;</span><br><span class="line">        count[i+<span class="number">1</span>] += count[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line">        aux[count[a[i]++]] = a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line">        a[i] = aux[i];</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><a id="more"></a><h4 id="LSD"><a href="#LSD" class="headerlink" title="LSD"></a><code>LSD</code></h4><p>åŸºæ•°æ’åºçš„é‡è¦åº”ç”¨ï¼ŒæŒ‰ç…§å­—æ¯çš„å…ˆåé¡ºåºè¿›è¡Œæ’åºï¼Œä»åå¾€å‰è¿›è¡Œæ’åˆ—,è¿™ç§ç®—æ³•åªé€‚åˆç­‰é•¿åº¦å¾—æ•°æ®å€¼ï¼Œå®é™…åº”ç”¨èŒƒå›´è¾ƒçª„ã€‚<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] a, <span class="keyword">int</span> W)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> R = <span class="number">256</span>;</span><br><span class="line">    <span class="keyword">int</span> N = a.length;</span><br><span class="line">    String[] aux = <span class="keyword">new</span> String[N];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> d = W<span class="number">-1</span>; d &gt;= <span class="number">0</span>; d--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span>[] count = <span class="keyword">new</span> <span class="keyword">int</span>[R+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">            count[a[i].charAt(d) + <span class="number">1</span>]++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; R; r++)</span><br><span class="line">            count[r+<span class="number">1</span>] += count[r];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">            aux[count[a[i].charAt(d)]++] = a[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">            a[i] = aux[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="MSD"><a href="#MSD" class="headerlink" title="MSD"></a><code>MSD</code></h4><p>åŸºæ•°æ’åºçš„é‡è¦åº”ç”¨ï¼ŒæŒ‰ç…§å­—æ¯çš„å…ˆåé¡ºåºè¿›è¡Œæ’åºï¼Œä»å‰å¾€åè¿›è¡Œæ’åˆ—ã€‚<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    aux = <span class="keyword">new</span> String[a.length];</span><br><span class="line">    sort(a, aux, <span class="number">0</span>, a.length<span class="number">-1</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] a, String[] aux, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi, <span class="keyword">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (hi &lt;= lo) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span>[] count = <span class="keyword">new</span> <span class="keyword">int</span>[R+<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = lo; i &lt;= hi; i++)</span><br><span class="line">        count[charAt(a[i], d) + <span class="number">2</span>]++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; R+<span class="number">1</span>; r++)</span><br><span class="line">        count[r+<span class="number">1</span>] += count[r];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = lo; i &lt;= hi; i++)</span><br><span class="line">        aux[count[charAt(a[i], d) + <span class="number">1</span>]++] = a[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = lo; i &lt;= hi; i++)</span><br><span class="line">        a[i] = aux[i - lo];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; R; r++)</span><br><span class="line">        sort(a, aux, lo + count[r], lo + count[r+<span class="number">1</span>] - <span class="number">1</span>, d+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="3-way-quick-sort"><a href="#3-way-quick-sort" class="headerlink" title="3-way quick sort"></a><code>3-way quick sort</code></h4><p>è¿™æ˜¯ç±»ä¼¼äº<code>quicksort</code>çš„åŸºæ•°æ’åºæ–¹æ³•ï¼Œå…¶å®æ’åºçš„é€Ÿåº¦éå¸¸å¿«ï¼Œéœ€è¦ç»å¸¸åº”ç”¨çš„ä¸€ä¸ªç®—æ³•ã€‚æ¯æ¬¡è¯»å–å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œå¹¶æ ¹æ®ç¬¬ä¸€ä¸ªå­—ç¬¦çš„æ¯”è¾ƒå¤§å°ï¼Œå¯¹å­—ç¬¦ä¸²æ•°ç»„åˆ†ä¸ºä¸‰ç±»ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦å°äº<code>target</code>çš„å­—ç¬¦ä¸²ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦ç­‰äº<code>target</code>çš„å­—ç¬¦ä¸²ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦å¤§äºäº<code>target</code>çš„å­—ç¬¦ä¸²ï¼Œç„¶åå†ä¾æ¬¡å¯¹è¿™ä¸‰ç§åˆ†ç±»é€’å½’è¿›è¡Œä¸‹æ¬¡æ’åºåˆ’åˆ†ã€‚æ¯”å¦‚å­—ç¬¦ä¸²æ•°ç»„å¦‚ä¸‹ï¼š<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bac</span></span><br><span class="line"><span class="keyword">aab</span></span><br><span class="line"><span class="keyword">cba</span></span><br><span class="line"><span class="keyword">aac</span></span><br><span class="line"><span class="keyword">bda</span></span><br></pre></td></tr></table></figure><br>ç¬¬ä¸€æ¬¡æ¯”è¾ƒåˆ™åˆ’åˆ†ï¼Œæˆ‘ä»¬é€‰å»<code>b</code>ä½œä¸ºå…³é”®å­—è¿›è¡Œæ¯”è¾ƒï¼š</p><ul><li>ç¬¬ä¸€ç±»ï¼šé¦–å­—ç¬¦æ¯”<code>b</code>å°<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">aab</span></span><br><span class="line"><span class="attribute">aac</span></span><br></pre></td></tr></table></figure></li><li>ç¬¬äºŒç±»ï¼šé¦–å­—ç¬¦ä¸<code>b</code>ç›¸ç­‰<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bac</span></span><br><span class="line"><span class="keyword">bda</span></span><br></pre></td></tr></table></figure></li><li>ç¬¬ä¸‰ç±»ï¼šé¦–å­—ç¬¦æ¯”<code>b</code>å¤§<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">cba</span></span><br></pre></td></tr></table></figure>ç„¶åå†å¯¹è¿™ä¸‰ç±»å­—ç¬¦åˆ†åˆ«è¿›è¡Œåˆ’åˆ†å’Œæ’åºï¼Œç¬¬ä¸€ç±»å­—ç¬¦ä¸²å†ä»ç¬¬1ä¸ªå­—ç¬¦å¼€å§‹æ¯”è¾ƒå’Œäº¤æ¢ï¼Œç¬¬äºŒç±»å­—ç¬¦ä¸²ä»ç¬¬2ä¸ªå­—ç¬¦å¼€å§‹æ¯”è¾ƒå’Œåˆ’åˆ†ï¼Œç¬¬ä¸‰ç±»å­—ç¬¦ä¸²ä»ç¬¬1ä¸ªå­—ç¬¦ä¸²æ¯”è¾ƒå’Œåˆ’åˆ†ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] a)</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    sort(a, <span class="number">0</span>, a.length - <span class="number">1</span>, <span class="number">0</span>); </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] a, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi, <span class="keyword">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (hi &lt;= lo) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> lt = lo, gt = hi;</span><br><span class="line">    <span class="keyword">int</span> v = charAt(a[lo], d);</span><br><span class="line">    <span class="keyword">int</span> i = lo + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= gt)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> t = charAt(a[i], d);</span><br><span class="line">        <span class="keyword">if</span> (t &lt; v) exch(a, lt++, i++);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (t &gt; v) exch(a, i, gt--);</span><br><span class="line">        <span class="keyword">else</span> i++;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(a, lo, lt<span class="number">-1</span>, d);</span><br><span class="line">    <span class="keyword">if</span> (v &gt;= <span class="number">0</span>) sort(a, lt, gt, d+<span class="number">1</span>);</span><br><span class="line">    sort(a, gt+<span class="number">1</span>, hi, d);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><code>suffix array</code><br>åç¼€æ•°ç»„æ’åºç®—æ³•ï¼Œåˆšå¼€å§‹çœ‹åˆ°è¿™ä¸ªç®—æ³•æ„Ÿè§‰åƒå¤©ä¹¦ä¸€æ ·ï¼Œä¸å¤ªæ™“å¾—æ˜¯ä»€ä¹ˆæ„æ€ï¼Œåæ¥å­¦äº†ç®—æ³•æ¶‰åŠè¯¾ç¨‹ä¹‹åï¼Œå°±çŸ¥é“åç¼€æ•°ç»„çš„å¤§æ¦‚çš„åŸç†äº†ï¼ŒçŸ¥é“äº†å¤§æ¦‚çš„åŸç†ä¹‹åå°±å¯¹å€å¢çš„åŸç†åˆ°åº•æ˜¯æ€ä¹ˆæ¥çš„äº†è§£çš„å¤šäº†ï¼Œéå¸¸<code>clever</code>çš„ä¸€ç§ç®—æ³•ï¼Œå½“ç„¶ç»†èŠ‚å¤ªè¿‡äºç¹çã€‚æˆ‘æŠŠåŸç†å›¾è´´åœ¨è¿™é‡Œå¤§æ¦‚å°±æ™“å¾—å€å¢åˆ°åº•æ˜¯æ€ä¹ˆä¸€å›äº‹äº†ã€‚ä¸è¿‡åç¼€æ•°ç»„å¾—å†™æ³•å®åœ¨å¤ªéš¾è®°äº†ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯çŸ¥é“åŸç†å°±å¯ä»¥äº†ï¼Œå› ä¸ºé™¤äº†ç«èµ›æˆ–è€…å†™è®ºæ–‡å¤–ï¼Œå¾ˆå°‘ä¼šé‡åˆ°è¿™ä¹ˆéš¾å†™çš„ç®—æ³•ï¼Œå°±è·Ÿçº¢é»‘æ ‘ä¸€æ ·ï¼Œå¤§å®¶éƒ½çŸ¥é“æ˜¯ä¸€ç§äºŒå‰å¹³è¡¡æ ‘ï¼Œä½†æ˜¯è¯´å®è¯åº”è¯¥çŸ¥é“å°±å¯ä»¥äº†ï¼Œå¤§å¯ä¸å¿…èŠ±å¤ªå¤šæ—¶é—´æµªè´¹åœ¨ç»†èŠ‚ä¸Šã€‚<br><img src="https://mike-box.github.io/images/148-2.png" alt="suffixarray"><br>åç¼€æ•°ç»„å¯ä»¥è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š</li></ol><ul><li>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯¢é—®æŸä¸¤ä¸ªåç¼€çš„æœ€é•¿å…¬å…±å‰ç¼€ã€‚</li><li>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ±‚æœ€é•¿é‡å¤å­ä¸²ï¼Œè¿™ä¸¤ä¸ªå­ä¸²å¯ä»¥é‡å </li><li><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ±‚æœ€é•¿é‡å¤å­ä¸²ï¼Œè¿™ä¸¤ä¸ªå­ä¸²ä¸èƒ½é‡å </p></li><li><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ±‚è‡³å°‘å‡ºç°k æ¬¡çš„æœ€é•¿é‡å¤å­ä¸²ï¼Œè¿™k ä¸ªå­ä¸²å¯ä»¥é‡å </p></li><li><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ±‚ä¸ç›¸åŒçš„å­ä¸²çš„ä¸ªæ•°</p></li><li><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ±‚æœ€é•¿å›æ–‡å­ä¸²</p></li><li><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²Lï¼Œå·²çŸ¥è¿™ä¸ªå­—ç¬¦ä¸²æ˜¯ç”±æŸä¸ªå­—ç¬¦ä¸²S é‡å¤R æ¬¡è€Œå¾—åˆ°çš„ï¼Œæ±‚R çš„æœ€å¤§å€¼</p></li><li><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ±‚é‡å¤æ¬¡æ•°æœ€å¤šçš„è¿ç»­é‡å¤å­</p></li><li><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²A å’ŒBï¼Œæ±‚æœ€é•¿å…¬å…±å­ä¸²ã€‚</p></li><li><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²A å’ŒBï¼Œæ±‚é•¿åº¦ä¸å°äºk çš„å…¬å…±å­ä¸²çš„ä¸ªæ•°ï¼ˆå¯ä»¥ç›¸åŒï¼‰</p></li><li><p>ç»™å®šn ä¸ªå­—ç¬¦ä¸²ï¼Œæ±‚å‡ºç°åœ¨ä¸å°äºk ä¸ªå­—ç¬¦ä¸²ä¸­çš„æœ€é•¿å­ä¸²ã€‚</p></li><li><p>ç»™å®šn ä¸ªå­—ç¬¦ä¸²ï¼Œæ±‚åœ¨æ¯ä¸ªå­—ç¬¦ä¸²ä¸­è‡³å°‘å‡ºç°ä¸¤æ¬¡ä¸”ä¸é‡å çš„æœ€é•¿å­ä¸²</p></li><li><p>ç»™å®šn ä¸ªå­—ç¬¦ä¸²ï¼Œæ±‚å‡ºç°æˆ–åè½¬åå‡ºç°åœ¨æ¯ä¸ªå­—ç¬¦ä¸²ä¸­çš„æœ€é•¿å­ä¸²ã€‚</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> F(x) ((x)/3+((x)%3==1?0:tb))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> G(x) ((x)&lt;tb?(x)*3+1:((x)-tb)*3+2)</span></span><br><span class="line"><span class="keyword">int</span> wa[maxn],wb[maxn],wv[maxn],ws[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">c0</span><span class="params">(<span class="keyword">int</span> *r,<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> r[a]==r[b]&amp;&amp;r[a+<span class="number">1</span>]==r[b+<span class="number">1</span>]&amp;&amp;r[a+<span class="number">2</span>]==r[b+<span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">c12</span><span class="params">(<span class="keyword">int</span> k,<span class="keyword">int</span> *r,<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k==<span class="number">2</span>) <span class="keyword">return</span> r[a]&lt;r[b]||r[a]==r[b]&amp;&amp;c12(<span class="number">1</span>,r,a+<span class="number">1</span>,b+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> r[a]&lt;r[b]||r[a]==r[b]&amp;&amp;wv[a+<span class="number">1</span>]&lt;wv[b+<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span> *r,<span class="keyword">int</span> *a,<span class="keyword">int</span> *b,<span class="keyword">int</span> n,<span class="keyword">int</span> m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++) wv[i]=r[a[i]];</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++) ws[i]=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++) ws[wv[i]]++;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;m;i++) ws[i]+=ws[i<span class="number">-1</span>];</span><br><span class="line"><span class="keyword">for</span>(i=n<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--) b[--ws[wv[i]]]=a[i];</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dc3</span><span class="params">(<span class="keyword">int</span> *r,<span class="keyword">int</span> *sa,<span class="keyword">int</span> n,<span class="keyword">int</span> m)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,*rn=r+n,*san=sa+n,ta=<span class="number">0</span>,tb=(n+<span class="number">1</span>)/<span class="number">3</span>,tbc=<span class="number">0</span>,p;</span><br><span class="line">r[n]=r[n+<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++) <span class="keyword">if</span>(i%<span class="number">3</span>!=<span class="number">0</span>) wa[tbc++]=i;</span><br><span class="line">sort(r+<span class="number">2</span>,wa,wb,tbc,m);</span><br><span class="line">sort(r+<span class="number">1</span>,wb,wa,tbc,m);</span><br><span class="line">sort(r,wa,wb,tbc,m);</span><br><span class="line"><span class="keyword">for</span>(p=<span class="number">1</span>,rn[F(wb[<span class="number">0</span>])]=<span class="number">0</span>,i=<span class="number">1</span>;i&lt;tbc;i++)</span><br><span class="line">rn[F(wb[i])]=c0(r,wb[i<span class="number">-1</span>],wb[i])?p<span class="number">-1</span>:p++;</span><br><span class="line"><span class="keyword">if</span>(p&lt;tbc) dc3(rn,san,tbc,p);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;tbc;i++) san[rn[i]]=i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;tbc;i++) <span class="keyword">if</span>(san[i]&lt;tb) wb[ta++]=san[i]*<span class="number">3</span>;</span><br><span class="line"><span class="keyword">if</span>(n%<span class="number">3</span>==<span class="number">1</span>) wb[ta++]=n<span class="number">-1</span>;</span><br><span class="line">sort(r,wb,wa,ta,m);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;tbc;i++) wv[wb[i]=G(san[i])]=i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>,j=<span class="number">0</span>,p=<span class="number">0</span>;i&lt;ta &amp;&amp; j&lt;tbc;p++)</span><br><span class="line">sa[p]=c12(wb[j]%<span class="number">3</span>,r,wa[i],wb[j])?wa[i++]:wb[j++];</span><br><span class="line"><span class="keyword">for</span>(;i&lt;ta;p++) sa[p]=wa[i++];</span><br><span class="line"><span class="keyword">for</span>(;j&lt;tbc;p++) sa[p]=wb[j++];</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å­—ç¬¦ä¸²æœç´¢"><a href="#å­—ç¬¦ä¸²æœç´¢" class="headerlink" title="å­—ç¬¦ä¸²æœç´¢"></a>å­—ç¬¦ä¸²æœç´¢</h4><h5 id="kmp"><a href="#kmp" class="headerlink" title="kmp"></a><code>kmp</code></h5><p>é¢˜ç›®ä¸­ç›´æ¥ç»™çš„æ˜¯<code>KMP</code>çš„<code>DFA</code>çš„è§£æ³•ï¼Œå…¶å®éå¸¸å®¹æ˜“ç†è§£ã€‚ä¹Ÿéå¸¸çš„å¥½å†™ï¼Œä¸»è¦æ˜¯æ¶‰åŠåˆ°åŒ¹é…æ—¶çš„ç§»ä½æ“ä½œã€‚å¼ºçƒˆå»ºè®®çœ‹çœ‹<code>Princeton</code>çš„è€æ•™æˆè®²çš„<code>KMP</code>çš„åŸç†ï¼Œéå¸¸éå¸¸çš„ç®€å•ã€‚<br>ç¡®å®šçŠ¶æ€æœºçš„æ„é€ åŸç†å¾ˆç®€å•ï¼Œå½“å‰çŠ¶æ€æ¥å—å½“å‰å­—ç¬¦ï¼Œç„¶åè·³åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€:</p><script type="math/tex; mode=display">output_{next} = Fuction(input_{curr})</script><p>æ¯”å¦‚æˆ‘ä»¬å®šä¹‰åˆå§‹åŒ¹é…å­—ç¬¦ä¸²çš„åˆå§‹çŠ¶æ€ä¸º<code>0</code>ï¼Œéœ€è¦æ¥å—åŒ¹é…çš„å­—ç¬¦ä¸²ä¸º<code>ababaab</code>,åˆ™æˆ‘ä»¬éœ€è¦å®šä¹‰<code>n+1</code>ä¸ªçŠ¶æ€,å…±å¯æ¥å—<code>n</code>ä¸ªè¾“å…¥ï¼Œåˆå§‹çš„çŠ¶æ€æœºå¦‚ä¸‹ï¼š</p><script type="math/tex; mode=display">0\stackrel{a}{\longrightarrow}1\stackrel{b}{\longrightarrow}2\stackrel{a}{\longrightarrow}3\stackrel{b}{\longrightarrow}4\stackrel{a}{\longrightarrow}5\stackrel{a}{\longrightarrow}6\stackrel{b}{\longrightarrow}7</script><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åˆå§‹çŠ¶æ€ä¸º0ï¼Œå¯æ¥å—çš„ç»ˆæ­¢çŠ¶æ€ä¸º<code>7</code>.è¿™æ˜¯æœ€åˆçš„çŠ¶æ€æœºã€‚æˆ‘ä»¬å…ˆè®¡ç®—ç©<code>ababaab</code>çš„ä½œä¸ºè¾“å…¥ï¼Œç„¶åå†å·¦ç§»ä¸€ä½ï¼Œè®¡ç®—<code>babaab</code>ä½œä¸ºçŠ¶æ€æœºçš„è¾“å…¥,ä¸”ä»çŠ¶æ€1å¼€å§‹è¾“å…¥ã€‚å³å¯è®¡ç®—å‡ºæ•´ä¸ª<code>kmp</code>çš„DFAçŠ¶æ€æœºã€‚ä»¥ä¸‹ä¸ºçŠ¶æ€æœºæ„å»ºä¸æœç´¢ï¼š<br>æ¯”å¦‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ­£ç¡®çš„åŒ¹é…å’ŒçŠ¶æ€å¦‚ä¸‹ï¼š<br>|è¾“å…¥|0|1|2|3|4|5|6|7|<br>|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|<br>|-|a|b|a|b|a|a|b|-|<br>|a|1|-|3|-|5|6|-|-|<br>|b|0|2|-|4|-|-|7|-|<br>|*|0|0|0|0|0|0|0|-|<br>DFAçŠ¶æ€æœºçš„å»ºç«‹ä¹Ÿéå¸¸æœ‰æ„æ€ã€‚æˆ‘ä»¬ä¿ç•™å¦ä¸€ä¸ªçŠ¶æ€ä»å­—ç¬¦ä¸²ç¬¬<code>2</code>ä½å¼€å§‹éå†,å½“å‰çš„çŠ¶æ€ä¸ºx,æ¯æ¬¡æ‹·è´çŠ¶æ€<code>x</code>çš„æŒ‡å‘å³å¯ã€‚å®é™…ä¸Šxçš„çŠ¶æ€å³ä¸ºå½“å‰åŒ¹é…çš„æœ€é•¿åç¼€é•¿åº¦ã€‚<br>|è¾“å…¥|0|1|2|3|4|5|6|7|<br>|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|:â€”â€”-:|<br>|-|a|b|a|b|a|a|b|-|<br>|a|1|1|3|1|5|6|1|-|<br>|b|0|2|0|4|0|4|7|-|<br>|çŠ¶æ€x|0|0|1|2|3|1|2|-|</p><p><img src="https://mike-box.github.io/images/148-1.png" alt="kmp"></p><ol><li><code>KMP DFA</code>çš„æœç´¢<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">   <span class="function"><span class="keyword">bool</span> <span class="title">kmp</span><span class="params">(<span class="built_in">string</span> &amp; pat,<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp; dfa)</span></span>&#123;</span><br><span class="line">       <span class="keyword">int</span> n = pat.size();</span><br><span class="line">       <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; state(n+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; ++i)&#123;</span><br><span class="line">           dfa.push_back(state);</span><br><span class="line">           dfa[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       dfa[pat[<span class="number">0</span>]-<span class="string">'a'</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> x = <span class="number">0</span>, i = <span class="number">1</span>; i &lt; n; ++i )&#123;</span><br><span class="line">           <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">26</span>; ++j)&#123;</span><br><span class="line">               dfa[j][i] = dfa[j][x];</span><br><span class="line">           &#125;</span><br><span class="line">           dfa[pat[i]-<span class="string">'a'</span>][i] = i+<span class="number">1</span>;</span><br><span class="line">           x = dfa[pat[i]-<span class="string">'a'</span>][x];</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="built_in">string</span> str, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dfa)</span></span>&#123;</span><br><span class="line">       <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">int</span> res = <span class="number">-1</span>;</span><br><span class="line">       <span class="keyword">int</span> end = dfa[<span class="number">0</span>].size()<span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.size(); ++i)&#123;</span><br><span class="line">           x = dfa[str[i]-<span class="string">'a'</span>][x];</span><br><span class="line">           <span class="keyword">if</span>(x == end) <span class="keyword">return</span> i-x+<span class="number">1</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">return</span> res;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li><li>KMP next<br>è¿™ä¸ªæ—¶ä¹‹å‰æ•™ç§‘ä¹¦ä¸Šçš„nextæ•°ç»„çš„è¡¨ç¤ºæ³•ï¼Œç¡®å®æœ‰ä¸€äº›æ¯”è¾ƒ<code>tricky</code>çš„åœ°æ–¹ï¼Œè®¡ç®—æ¯ä¸ªå‰ç¼€çš„æœ€é•¿åŒ¹é…åç¼€é•¿åº¦ï¼Œè¿™ä¸ªç¨å¾®éœ€è¦ä¸€ç‚¹ç‚¹æŠ€å·§ï¼Œç‰¹åˆ«æ—¶ç”¨åˆ°é€’å½’çš„æ€æƒ³ï¼Œåªéœ€è¦è®¡ç®—å‡ºæœ€é•¿åŒ¹é…åï¼Œåé¢çš„å°±éå¸¸ç®€å•ã€‚<br>æ¯”å¦‚å­—ç¬¦ä¸²<code>ababaababd</code>,ä»–æ‰€æœ‰çš„å‰ç¼€å­—ç¬¦ä¸²ä¸ºï¼š</li></ol><div class="table-container"><table><thead><tr><th style="text-align:center">ç´¢å¼•</th><th style="text-align:center">å‰ç¼€</th><th style="text-align:center">åŒ¹é…çš„æœ€é•¿åç¼€</th><th style="text-align:center">æœ€é•¿åŒ¹é…åç¼€é•¿åº¦</th><th style="text-align:center">é€’æ¨</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">ab</td><td style="text-align:center">â€˜â€™</td><td style="text-align:center">0</td><td style="text-align:center">prefix(1) = 0</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">aba</td><td style="text-align:center">a</td><td style="text-align:center">1</td><td style="text-align:center">prefix(1) = 1</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">abab</td><td style="text-align:center">ab</td><td style="text-align:center">2</td><td style="text-align:center">prefix(1) = 2</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">ababa</td><td style="text-align:center">aba</td><td style="text-align:center">3</td><td style="text-align:center">prefix(4) = 3</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">ababaa</td><td style="text-align:center">a</td><td style="text-align:center">1</td><td style="text-align:center">prefix(5) = prefix(prefix(4))</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">ababaab</td><td style="text-align:center">ab</td><td style="text-align:center">2</td><td style="text-align:center">prefix(6) = 2</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">ababaaba</td><td style="text-align:center">aba</td><td style="text-align:center">3</td><td style="text-align:center">prefix(7) = 3</td></tr><tr><td style="text-align:center">8</td><td style="text-align:center">ababaabab</td><td style="text-align:center">abab</td><td style="text-align:center">4</td><td style="text-align:center">prefix(8) = 4</td></tr><tr><td style="text-align:center">9</td><td style="text-align:center">ababaababd</td><td style="text-align:center">â€˜â€™</td><td style="text-align:center">0</td><td style="text-align:center">prefix(9) = 0</td></tr></tbody></table></div><p>æˆ‘ä»¬çœ‹åˆ°kmpçš„æœ¬è´¨å°±æ˜¯å½“å‰ä½ç½®ç´¢å¼•<code>i</code>å»åŒ¹é…å‰ç¼€<code>prefix(i-1)</code>çš„ä¸‹ä¸€ä¸ªå­—æ¯ï¼Œå¦‚æœèƒ½å¤ŸåŒ¹é…åˆ™ç›¸ç­‰ï¼Œå¦åˆ™åˆ™åŒ¹é…ä¸‹ä¸€ä¸ªæ›´çŸ­çš„åç¼€ã€‚<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; kmp(<span class="built_in">string</span> str)&#123;</span><br><span class="line">    <span class="keyword">int</span> n = str.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; prefix(n,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">    prefix[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(; k &gt; <span class="number">0</span> &amp;&amp; str[k] != str[i]; k = prefix[k<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">if</span>(str[k] == str[i])  prefix[i++] = ++k;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = n<span class="number">-1</span>; i &gt; <span class="number">0</span>; --i) prefix[i] = prefix[i<span class="number">-1</span>];</span><br><span class="line">    prefix[<span class="number">0</span>] = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> prefix;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">search</span><span class="params">(<span class="built_in">string</span> str,<span class="built_in">string</span> need)</span></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; next = kmp(need);</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(i &lt; str.size() &amp;&amp; j &lt; need.size())&#123;</span><br><span class="line">        <span class="keyword">if</span>(j == <span class="number">-1</span> || str[i] == str[j])&#123;</span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            j = next[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(j == <span class="built_in">strlen</span>(need)) <span class="keyword">return</span> i - j;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h5 id="BMç®—æ³•"><a href="#BMç®—æ³•" class="headerlink" title="BMç®—æ³•"></a>BMç®—æ³•</h5><ol><li>bmç®—æ³•çš„ç‰¹ç‚¹ä¸ºå­—ç¬¦ä¸²æ¯”è¾ƒæ—¶ä»å³å‘å·¦æ¯”è¾ƒï¼Œå› æ­¤éå¸¸å¿«çš„è·³è·ƒè¿‡å»ã€‚</li><li>å¦‚æœå‘ç°å½“å‰å¯èƒ½åŒ¹é…çš„å­—ç¬¦ä¸²ä¸­ä¸å­˜åœ¨æ¨¡å¼ä¸­çš„å­—ç¬¦ï¼Œç›´æ¥è·³åˆ°å½“å‰å­—ç¬¦çš„ä¸‹ä¸€ä¸ªå­—ç¬¦è¿›è¡Œæ¯”è¾ƒã€‚</li><li>å°½å¯èƒ½çš„å‘å³ç§»åŠ¨ï¼Œæœ¬è´¨å°±æ˜¯è´ªå¿ƒç®—æ³•ï¼Œæ¯æ¬¡è®¡ç®—ç§»åŠ¨ä½ç½®ã€‚<br><img src="https://mike-box.github.io/images/148-3.png" alt="bm"><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bm_search</span><span class="params">(<span class="built_in">string</span> str,<span class="built_in">string</span> needle)</span></span>&#123;</span><br><span class="line">       <span class="keyword">int</span> m = str.size();</span><br><span class="line">       <span class="keyword">int</span> n = needle.size();</span><br><span class="line">       <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; right(<span class="number">26</span>,<span class="number">-1</span>);</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; needle.size(); ++i)&#123;</span><br><span class="line">           right[needle[i]-<span class="string">'a'</span>] = i;</span><br><span class="line">       &#125;</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">int</span> skip = <span class="number">1</span>;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= m-n; i += skip)&#123;</span><br><span class="line">           skip = <span class="number">0</span>;</span><br><span class="line">           <span class="keyword">for</span>(<span class="keyword">int</span> j = n<span class="number">-1</span>; j &gt;= <span class="number">0</span>; --j)&#123;</span><br><span class="line">               <span class="keyword">if</span>(str[i+j] != needle[j])&#123;</span><br><span class="line">                   skip = max(<span class="number">1</span>,j-right[str[i+j]-<span class="string">'a'</span>]);</span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(skip == <span class="number">0</span>)&#123;</span><br><span class="line">               <span class="keyword">return</span> i;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li></ol><h5 id="KR"><a href="#KR" class="headerlink" title="KR"></a>KR</h5><ol><li><code>KR</code>ç®—æ³•çš„æœ¬è´¨<br><img src="https://mike-box.github.io/images/148-4.png" alt="kr"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RabinKarp</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> patHash; <span class="comment">// pattern hash value</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> M; <span class="comment">// pattern length</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> Q; <span class="comment">// modulus</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> R; <span class="comment">// radix</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> RM; <span class="comment">// R^(M-1) % Q</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RabinKarp</span><span class="params">(String pat)</span> </span>&#123;</span><br><span class="line">        M = pat.length();</span><br><span class="line">        R = <span class="number">256</span>;</span><br><span class="line">        Q = longRandomPrime();</span><br><span class="line">        RM = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= M-<span class="number">1</span>; i++)</span><br><span class="line">            RM = (R * RM) % Q;</span><br><span class="line">        patHash = hash(pat, M);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">long</span> <span class="title">hash</span><span class="params">(String key, <span class="keyword">int</span> M)</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="comment">/* as before */</span> </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(String txt)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> N = txt.length();</span><br><span class="line">        <span class="keyword">int</span> txtHash = hash(txt, M);</span><br><span class="line">        <span class="keyword">if</span> (patHash == txtHash) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = M; i &lt; N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            txtHash = (txtHash + Q - RM*txt.charAt(i-M) % Q) % Q;</span><br><span class="line">            txtHash = (txtHash*R + txt.charAt(i)) % Q;</span><br><span class="line">            <span class="keyword">if</span> (patHash == txtHash) <span class="keyword">return</span> i - M + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> N;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="AC-automation"><a href="#AC-automation" class="headerlink" title="AC automation"></a>AC automation</h4><p>åŒ¹é…å•å­—ç¬¦ä¸²æ—¶æˆ‘ä»¬å¯ä»¥ç”¨å¿«é€Ÿçš„åŒ¹é…ç®—æ³•<code>KMP</code>,ä½†æ˜¯å®é™…ç¨‹åºä¸­æˆ‘ä»¬å¯èƒ½éœ€è¦è¿›è¡Œå¤šä¸ªå­—ç¬¦ä¸²çš„åŒ¹é…ï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦æ–°çš„ç®—æ³•ã€‚ACè‡ªåŠ¨æœºä½œä¸ºåŒ¹é…å¤šå­—ç¬¦ä¸²çš„ç®—æ³•ï¼Œå…¶ä¹Ÿæœ‰éå¸¸é‡è¦çš„åº”ç”¨ï¼Œæ¯”å¦‚<code>DPI</code>,äº’è”ç½‘ä¸Šçš„æŠ¥æ–‡æœç´¢ã€‚ACè‡ªåŠ¨æœºçš„æœ¬è´¨ä¹Ÿæ˜¯é¿å…æ‰€è°“çš„<code>backup</code>ï¼Œä¹Ÿæ˜¯ç±»ä¼¼äº<code>KMP</code>æ‰€è°“çš„æŒ‡å½“å‰èƒ½å¤ŸåŒ¹é…çš„æœ€é•¿åç¼€, å…³é”®ç‚¹åœ¨äºè®¾ç½®èŠ‚ç‚¹çš„<code>fail</code>æŒ‡é’ˆã€‚çŸ¥ä¹ä¸Šæœ‰ç›¸å…³è§£é‡Šï¼Œå…¶å®acè‡ªåŠ¨æœºçš„æœ¬è´¨å³ä¸º <code>kmp + trie</code>çš„ç»„åˆï¼ŒåŸç†å…¶å®éå¸¸ç®€å•ï¼Œä¹Ÿæ˜¯æ‰¾åˆ°å½“å‰å­—ç¬¦ä½ç½®çš„æœ€é•¿åŒ¹é…çš„åç¼€ã€‚<code>trie</code>æ ‘ä½œä¸ºä¸€ä¸ªæœ€åŸºæœ¬çš„åº”ç”¨åº”è¯¥éœ€è¦æŒæ¡çš„åŸºç¡€ã€‚<br><a href="https://zhuanlan.zhihu.com/p/80325757" target="_blank" rel="noopener">ACè‡ªåŠ¨æœº</a><br><img src="https://mike-box.github.io/images/148-8.png" alt="ac"><br><img src="https://mike-box.github.io/images/148-9.png" alt="ac"><br><img src="https://mike-box.github.io/images/148-10.png" alt="ac"><br><img src="https://mike-box.github.io/images/148-11.png" alt="ac"><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TrieNode</span>&#123;</span></span><br><span class="line">    <span class="keyword">bool</span> isWord;</span><br><span class="line">    <span class="built_in">string</span> word;</span><br><span class="line">    TrieNode * next[<span class="number">26</span>];</span><br><span class="line">    TrieNode * fail;</span><br><span class="line">    TrieNode()&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;isword = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;word = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;fail = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; ++i)&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;next[i] = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bulidTrie</span><span class="params">(TrieNode * root,<span class="built_in">string</span> &amp; word)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    TrieNode * node = root;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp; c : word)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!node-&gt;next[c-<span class="string">'a'</span>]) node-&gt;next[c-<span class="string">'a'</span>] = <span class="keyword">new</span> TrieNode();</span><br><span class="line">        node = node-&gt;next[c-<span class="string">'a'</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    node-&gt;isWord = <span class="literal">true</span>;</span><br><span class="line">    node-&gt;word = word;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">buildFail</span><span class="params">(TrieNode * root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp; w : words)&#123;</span><br><span class="line">        insertTrie(root,w);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">queue</span>&lt;TrieNode *&gt; qu;</span><br><span class="line">    qu.push(root);</span><br><span class="line">    <span class="keyword">while</span>(!qu.empty())&#123;</span><br><span class="line">        TrieNode * curr = qu.front();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; ++i)&#123;</span><br><span class="line">            TrieNode * next = curr-&gt;next[i];</span><br><span class="line">            <span class="keyword">if</span>(!next) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(curr == root)&#123;</span><br><span class="line">                next-&gt;fail = curr;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                TrieNode * fail = curr-&gt;fail;</span><br><span class="line">                <span class="keyword">while</span>(fail)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(fail-&gt;next[i])&#123;</span><br><span class="line">                        next-&gt;fail = fail-&gt;next[i];</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    fail = fail-&gt;fail;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(!fail) next-&gt;fail = root;</span><br><span class="line">            &#125;   </span><br><span class="line"></span><br><span class="line">            qu.push(child);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">TrieNode * <span class="title">buildAcAutomation</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp; words)</span></span>&#123;</span><br><span class="line">    TrieNode * root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">    bulidTrie(root,words);</span><br><span class="line">    buildFail(root,words);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">search</span><span class="params">(TrieNode * root,<span class="built_in">string</span> content)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    TrieNode * curr = root;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> c : content)&#123;</span><br><span class="line">        <span class="keyword">while</span>(!curr-&gt;next[c-<span class="string">'a'</span>] &amp;&amp; curr != root)&#123;</span><br><span class="line">            curr = curr-&gt;fail;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        curr = curr-&gt;next[c-<span class="string">'a'</span>];</span><br><span class="line">        <span class="keyword">if</span>(!curr) curr = root;</span><br><span class="line">        TrieNode * t = curr;</span><br><span class="line">        <span class="keyword">while</span>(t != root)&#123;</span><br><span class="line">            <span class="keyword">if</span>(t-&gt;isWord == <span class="literal">true</span>) <span class="built_in">cout</span>&lt;&lt;t-&gt;word&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            t = t-&gt;fail;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="NFAçŠ¶æ€æœº"><a href="#NFAçŠ¶æ€æœº" class="headerlink" title="NFAçŠ¶æ€æœº"></a>NFAçŠ¶æ€æœº</h4><p><code>NFA</code>çŠ¶æ€æœºçš„æ„é€ ç†è®ºä¹Ÿæ˜¯éå¸¸å¤æ‚çš„ä¸€ä¸ªé—®é¢˜ï¼Œæ„Ÿè§‰ä¸æ˜¯ä¸€ä¸¤å¥è¯å°±èƒ½è¯´æ¸…æ¥šï¼Œç‰¹åˆ«æ˜¯<code>nfa</code>çš„å»ºé€ ï¼Œå®é™…ä¸Šéå¸¸åˆæŠ€å·§çš„ä¸€ä¸ªå·§å¦™çš„ç®—æ³•ã€‚å¦ä¸€ä¸ªæ˜¯å…³äº<code>nfa</code>çš„æœç´¢ï¼Œå¦‚æœä¸è¿›è¡Œä¼˜åŒ–çš„è¯ï¼Œå°±æ˜¯å®é™…çš„<code>DFS</code>æŸ¥æ‰¾ã€‚ä»¥ä¸‹çš„ä»£ç æ˜¯å‚è€ƒ<code>princeton</code>çš„ä¾‹å­ç®€å•çš„å†™äº†ä¸€ä¸ª<code>NFA</code>çš„æ¨¡å¼åŒ¹é…ç®—æ³•ï¼Œæ”¯æŒ<code>(),|,+,*,</code>çš„åŒ¹é…ï¼Œå†™çš„éå¸¸ç®€å•ï¼Œä½†æ˜¯å¯¹äºç†è§£åŸºæœ¬çš„<code>nfa</code>åŸç†æ¥è¯´è‚¯å®šå¤Ÿç”¨äº†ã€‚<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Nfa</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Nfa()&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;regexpr = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;m = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">build</span><span class="params">(<span class="built_in">string</span> re)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;m = re.size();</span><br><span class="line">        <span class="keyword">this</span>-&gt;regexpr = re;</span><br><span class="line">        <span class="keyword">this</span>-&gt;graph.clear();</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; ops;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; re.size(); ++i)&#123;</span><br><span class="line">            <span class="keyword">int</span> lp = i;</span><br><span class="line">            <span class="keyword">if</span>(re[i] == <span class="string">'('</span>||re[i] == <span class="string">'|'</span>)&#123;</span><br><span class="line">                ops.push(i);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(re[i] == <span class="string">')'</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(ops.empty()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">if</span>(re[ops.top()] == <span class="string">'|'</span>)&#123;</span><br><span class="line">                    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; curr;</span><br><span class="line">                    <span class="keyword">while</span>(!ops.empty()&amp;&amp;re[ops.top()] == <span class="string">'|'</span>)&#123;</span><br><span class="line">                        curr.push(ops.top());</span><br><span class="line">                        ops.pop();</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(ops.empty()||re[ops.top()] != <span class="string">'('</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    lp = ops.top();</span><br><span class="line">                    ops.pop();</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">while</span>(!curr.empty())&#123;</span><br><span class="line">                        <span class="keyword">this</span>-&gt;addEdge(lp,curr.top()+<span class="number">1</span>);</span><br><span class="line">                        <span class="keyword">this</span>-&gt;addEdge(curr.top(),i);</span><br><span class="line">                        curr.pop();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(re[ops.top()] == <span class="string">'('</span>)&#123;</span><br><span class="line">                    lp = ops.top();</span><br><span class="line">                    ops.pop();</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(i+<span class="number">1</span> &lt; <span class="keyword">this</span>-&gt;m &amp;&amp; re[i+<span class="number">1</span>] == <span class="string">'*'</span>)&#123;</span><br><span class="line">                <span class="keyword">this</span>-&gt;addEdge(i+<span class="number">1</span>,lp);</span><br><span class="line">                <span class="keyword">this</span>-&gt;addEdge(lp,i+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(i+<span class="number">1</span> &lt; <span class="keyword">this</span>-&gt;m &amp;&amp; re[i+<span class="number">1</span>] == <span class="string">'+'</span>)&#123;</span><br><span class="line">                <span class="keyword">this</span>-&gt;addEdge(i+<span class="number">1</span>,lp);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(re[i] == <span class="string">'('</span> || re[i] == <span class="string">'*'</span> || </span><br><span class="line">               re[i] == <span class="string">')'</span> || re[i] == <span class="string">'+'</span>)&#123;</span><br><span class="line">                <span class="keyword">this</span>-&gt;addEdge(i,i+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!ops.empty()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">bool</span> <span class="title">debug</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="keyword">this</span>-&gt;m; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;graph.count(i))&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">auto</span> v : <span class="keyword">this</span>-&gt;graph[i])&#123;</span><br><span class="line">                    <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">"--&gt;"</span>&lt;&lt;v&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isMatch</span><span class="params">(<span class="built_in">string</span> target)</span></span>&#123;</span><br><span class="line">        <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; marked;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; pc;</span><br><span class="line"></span><br><span class="line">        dfs(<span class="number">0</span>,marked);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v : marked)&#123;</span><br><span class="line">            pc.push_back(v);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; target.size(); ++i)&#123;</span><br><span class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; matched;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> v : pc)&#123;</span><br><span class="line">                <span class="keyword">if</span>(v == <span class="keyword">this</span>-&gt;m) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="comment">//cout&lt;&lt;this-&gt;regexpr[v]&lt;&lt;endl;</span></span><br><span class="line">                <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;regexpr[v] == target[i] || <span class="keyword">this</span>-&gt;regexpr[v] == <span class="string">'.'</span>)&#123;</span><br><span class="line">                    matched.push_back(v+<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            marked.clear();</span><br><span class="line">            pc.clear();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> v : matched)&#123;</span><br><span class="line">                dfs(v,marked);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> v : marked)&#123;</span><br><span class="line">                pc.push_back(v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v : pc)&#123;</span><br><span class="line">            <span class="keyword">if</span>(v == <span class="keyword">this</span>-&gt;m) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> curr,<span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; &amp; marked)</span></span>&#123;</span><br><span class="line">        marked.insert(curr);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v : graph[curr])&#123;</span><br><span class="line">            <span class="keyword">if</span>(marked.count(v)) <span class="keyword">continue</span>;</span><br><span class="line">            dfs(v,marked);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> v,<span class="keyword">int</span> w)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;graph[v].push_back(w);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">string</span> regexpr;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; graph;</span><br><span class="line">    <span class="keyword">int</span> m;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> regexpr = <span class="string">"(a|b)*cd"</span>;</span><br><span class="line">    <span class="built_in">string</span> target1 = <span class="string">"ABD"</span>;</span><br><span class="line">    <span class="built_in">string</span> target2 = <span class="string">"ADD"</span>;</span><br><span class="line">    <span class="built_in">string</span> target3 = <span class="string">"ABD"</span>;</span><br><span class="line">    <span class="built_in">string</span> target4 = <span class="string">"CBBD"</span>;</span><br><span class="line">    Nfa nfa;</span><br><span class="line">    nfa.build(regexpr);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;nfa.isMatch(target1)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;nfa.isMatch(target2)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;nfa.isMatch(target3)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;nfa.isMatch(target4)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><ol><li><code>NFA</code>è½¬<code>DFA</code>çš„ç®—æ³•å®ç°<br>è¿™ä¸ªç®—æ³•ä¹Ÿæ˜¯æˆ‘ä¸€ç›´åƒå­¦çš„ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰æ—¶é—´æ¥å¥½å¥½æ€è€ƒè¿™ä¸ªé—®é¢˜ã€‚<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"><span class="number">3.</span> æ­£åˆ™è¡¨è¾¾å¼å¼•æ“ç¼–å†™</span><br><span class="line">```c++</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å­—ç¬¦ä¸²ç®—æ³•&quot;&gt;&lt;a href=&quot;#å­—ç¬¦ä¸²ç®—æ³•&quot; class=&quot;headerlink&quot; title=&quot;å­—ç¬¦ä¸²ç®—æ³•&quot;&gt;&lt;/a&gt;å­—ç¬¦ä¸²ç®—æ³•&lt;/h3&gt;&lt;p&gt;å­—ç¬¦ä¸²ä½œä¸ºä¸€ä¸ªéå¸¸é‡è¦çš„åº”ç”¨ï¼Œã€‚å¯¹æ‰€æœ‰å­—ç¬¦ä¸²ç®—æ³•çš„æ€»ç»“ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²çš„æ’åºä¸å­—ç¬¦ä¸²çš„åŒ¹é…ï¼Œåœ¨å®é™…çš„ç¨‹åºä¸­æ˜¯éå¸¸éå¸¸é‡è¦çš„ä¸¤å—åº”ç”¨ï¼Œå…¶ä¸­çš„ç®—æ³•åˆéå¸¸çš„å¤æ‚ã€‚å…‰æŠŠè¿™å‡ ä¸ªç ”ç©¶é€å°±éå¸¸éœ€è¦è€—è´¹ç²¾åŠ›å’Œæ—¶é—´ã€‚&lt;/p&gt;&lt;h4 id=&quot;å­—ç¬¦ä¸²æ’åº&quot;&gt;&lt;a href=&quot;#å­—ç¬¦ä¸²æ’åº&quot; class=&quot;headerlink&quot; title=&quot;å­—ç¬¦ä¸²æ’åº&quot;&gt;&lt;/a&gt;å­—ç¬¦ä¸²æ’åº&lt;/h4&gt;&lt;h5 id=&quot;count-index&quot;&gt;&lt;a href=&quot;#count-index&quot; class=&quot;headerlink&quot; title=&quot;count index&quot;&gt;&lt;/a&gt;&lt;code&gt;count index&lt;/code&gt;&lt;/h5&gt;&lt;p&gt;&lt;code&gt;count index&lt;/code&gt;ä½œä¸ºä¸€ç§å¿«é€Ÿçš„æ’åºç®—æ³•ï¼Œå¯ä»¥åœ¨O(n+m)çš„æ—¶é—´å¤æ‚åº¦å†…å³å¯å®Œæˆå­—ç¬¦ä¸²çš„æ’åºã€‚æœ¬è´¨æ˜¯åŸºæ•°æ’åºï¼Œå®é™…åº”ç”¨ä¸­è¿™ä¸ªæ’åºç®—æ³•æ•ˆç‡éå¸¸é«˜ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥åœ¨çº¿æ€§æ—¶é—´å†…å®Œæˆå¯¹å­—ç¬¦ä¸²çš„æ’åºã€‚ç©ºé—´å¤æ‚åº¦ä¸ºO(m+n).&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;countIndex&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; [] a)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; [] count = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;[&lt;span class=&quot;number&quot;&gt;257&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; [] aux = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;[a.length];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; ; i &amp;lt; str.length; ++i)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        count[str[i]+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]++;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt;; ++i)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        count[i+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] += count[i];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; N; ++i)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        aux[count[a[i]++]] = a[i];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; N; ++i)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        a[i] = aux[i];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Priceton ç®—æ³•è¯¾ç¨‹å­¦ä¹ </title>
    <link href="http://yoursite.com/2020/04/09/147/"/>
    <id>http://yoursite.com/2020/04/09/147/</id>
    <published>2020-04-09T15:34:46.798Z</published>
    <updated>2020-04-10T01:58:42.949Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç®—æ³•è¯¾ç¨‹æ€»ç»“"><a href="#ç®—æ³•è¯¾ç¨‹æ€»ç»“" class="headerlink" title="ç®—æ³•è¯¾ç¨‹æ€»ç»“"></a>ç®—æ³•è¯¾ç¨‹æ€»ç»“</h2><p>åœ¨ç–«æƒ…çš„ä¸¤ä¸ªæœˆå†…å·²ç»æŠŠç›¸å…³ææ–™å…¨éƒ¨å­¦ä¹ å®Œæˆäº†ï¼Œç‰¹åˆ«æ˜¯æŠŠå‡ ä¸ªprojectå…¨éƒ¨åšäº†ä¸€éï¼Œæ„Ÿè§‰<code>project</code>å…¨éƒ¨åšäº†ä¸€éï¼Œæ€»çš„æ„Ÿè§‰æ˜¯è¯¾ç¨‹çš„è´¨é‡éå¸¸éå¸¸çš„é«˜ï¼Œéš¾å¾—è§åˆ°è¿™ä¹ˆé«˜è´¨é‡çš„è¯¾ç¨‹ã€‚æˆ‘æ˜¯å…¨ç¨‹æŠŠè¯¾ç¨‹èµ„æ–™å’Œprojectå…¨éƒ¨ä¸‹ä¸‹æ¥äº†ï¼Œæ€»å…±10ä¸ª<code>project</code>å…¨éƒ¨åšäº†ä¸€éï¼Œæ„Ÿæ…¨ä¸€ä¸‹ç®—æ³•çš„å¼ºå¤§ï¼Œè™½ç„¶è‡ªå·±ä¹Ÿä»…ä»…åªæ˜¯å­¦åˆ°äº†çš®æ¯›ï¼Œä½†æ˜¯å¯¹äºå·²ç»è¿‡äº†ä¸­å¹´è¿˜åšæŒå­¦ä¹ çš„è‡ªå·±æ„Ÿåˆ°å¾ˆæ»¡æ„ã€‚â€œå­¦æ— æ­¢å¢ƒâ€ï¼Œæˆ‘æƒ³è¿™æ°¸è¿œæ˜¯å¯¹è‡ªå·±çš„ä¸€ç§æ¿€åŠ±å’Œé­ç­–ã€‚ä¸­å›½å¤äººè¨€ï¼Œâ€œæ±‚å…¶ä¸Šè€…ï¼Œå¾—å…¶ä¸­ï¼Œæ±‚å…¶ä¸­è€…ï¼Œå¾—å…¶ä¸‹â€ï¼Œæˆ‘æƒ³ä¿æŒä¸€é¢—æ°¸è¿œå­¦ä¹ è¿›å»å¾—å¿ƒï¼Œåœ¨å“ªé‡Œéƒ½ä¼šæœ‰è‡ªå·±å¾—ç©ºé—´ã€‚<br>å…¶å®æˆ‘æœ€æƒ³ç‚¹èµå¾—æ˜¯10ä¸ª<code>project</code>å¾—éš¾åº¦éƒ½å¾ˆæ£’ï¼Œè¿˜è®°å¾—ä»åˆšå¼€å§‹å¾—<code>java</code>çš„è¯­æ³•éƒ½æä¸æ¸…æ¥šï¼Œåˆ°åé¢åŸºæœ¬ä¸Š<code>java</code>çš„ä¸€èˆ¬è¯­æ³•é—®é¢˜éš¾ä¸å€’æˆ‘ã€‚å…¶å®å­¦å®Œäº†è¿™äº›è¯¾ç¨‹ä»¥åï¼Œå…¶å®å¾ˆç¾¡æ…•é‚£äº›èƒ½å¤Ÿå»ä¸–ç•Œåæ ¡å­¦ä¹ çš„å­¦ç”Ÿä»¬ï¼Œä½ ä»¬å§‹ç»ˆæ˜¯å¹¸è¿å„¿ã€‚å†æƒ³æƒ³10å¹´å‰æˆ‘æ‰€ç»å†çš„å¤§å­¦ï¼Œå¾ˆå°‘æœ‰è¿™æ ·çš„é¡¶çº§å­¦ä¹ èµ„æºå’Œè€å¸ˆã€‚è™½ç„¶æ—¶å…‰å·²é€ï¼Œè¿™äº›å¹´ç»å†äº†è®¸å¤šï¼Œç»å†äº†äº²äººçš„å»ä¸–ï¼Œä¹Ÿç»å†äº†ä¸¤ä¸ªå°å®è´çš„è¯ç”Ÿï¼Œè®©æˆ‘é€æ¸æˆç†Ÿäº†è®¸å¤šï¼Œè¶Šæ¥è¶ŠçŸ¥é“è‡ªå·±æƒ³è¦è¿½æ±‚ä»€ä¹ˆï¼Œåˆ°åº•å–œæ¬¢ä»€ä¹ˆæ ·çš„ç”Ÿæ´»ï¼Œæˆ‘æƒ³è¯´çš„æ˜¯äººéœ€è¦ä¸ºäº†ç†æƒ³è€ŒåŠªåŠ›ï¼Œè™½ç„¶æˆ‘å‡ºèº«ä½å¾®è´«ç©·ï¼Œä½†æ˜¯è¿™äº›å¹´æ¥ä¸€ç›´ä¹Ÿæ²¡æœ‰æ”¾å¼ƒè‡ªå·±å¯¹ç¾å¥½ç”Ÿæ´»å’Œç†æƒ³çš„è¿½æ±‚ã€‚ä»¥ä¸‹æ˜¯ <code>github</code>ä¸Šçš„åœ°å€è¿æ¥ï¼š<br><a href="https://github.com/mike-box/coursera/tree/master/algorithms-part1" target="_blank" rel="noopener">algorithms-part1</a><br><a href="https://github.com/mike-box/coursera/tree/master/algorithms-part2" target="_blank" rel="noopener">algorithms-part2</a><br>ä»æœ€å¼€å§‹è¿é¢˜ç›®éƒ½çœ‹ä¸æ‡‚ï¼Œç­‰åˆ°åé¢å‡ ä¸ª<code>project</code>åŸºæœ¬ä¸Šéƒ½èƒ½å¾—åˆ°æ»¡åˆ†ï¼Œè¿˜æ˜¯éå¸¸æ¬£æ…°çš„èƒ½çœ‹åˆ°è‡ªå·±çš„è¿›æ­¥ã€‚å¼ºçƒˆå»ºè®®å­¦ä¹ ç®—æ³•çš„åŒå­¦ä»¬èƒ½å¤ŸæŠŠè¿™ä¸ªè¯¾ç¨‹åšæŒå­¦ä¹ å®Œæ•´ã€‚<br>æˆ‘è§‰å¾—è¿™ä¸ªè¯¾ç¨‹çš„<code>project</code> éå¸¸æœ‰ç‰¹è‰²ï¼Œéœ€è¦æäº¤çš„ä»£ç ä¸ä»…ä»…æ˜¯æ±‚å‡ºç»“æœï¼Œè¿˜ä¼šå¯¹ä»£ç çš„è¾“å…¥æ£€æŸ¥ã€å¼‚å¸¸æŠ›å‡ºã€ä»£ç çš„é£æ ¼ã€å˜é‡çš„å®šä¹‰ä»¥åŠè¿è¡Œæ—¶é—´å’Œè¿è¡Œ</p><a id="more"></a><h3 id="algorithms-part1"><a href="#algorithms-part1" class="headerlink" title="algorithms-part1"></a>algorithms-part1</h3><h4 id="week1"><a href="#week1" class="headerlink" title="week1"></a>week1</h4><p>è¯¾ç¨‹åœ°å€è¿æ¥ï¼š<a href="https://github.com/mike-box/coursera/tree/master/algorithms-part1/week1" target="_blank" rel="noopener">percolation</a><br>æœ¬æ¬¡çš„<code>project</code>æ˜¯å…³äº<code>union-set</code>ï¼Œ<code>tricky</code>çš„åœ°æ–¹æŸ¥æ‰¾é›†åˆä¸­çš„å…ƒç´ åŒæ—¶å­˜åœ¨ä¸Šä¸‹è¾¹ç¼˜çš„å…ƒç´ ã€‚æˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸ªé›†åˆå®šä¹‰ä¸¤ä¸ªå˜é‡è¡¨ç¤ºè¯¥é›†åˆæ˜¯å¦åŒæ—¶å­˜åœ¨ä¸Šä¸‹è¾¹ç¼˜çš„å…ƒç´ ã€‚<br><img src="https://mike-box.github.io/images/147-1.png" alt="percolation"></p><h4 id="week2"><a href="#week2" class="headerlink" title="week2"></a>week2</h4><p>è¯¾ç¨‹åœ°å€è¿æ¥ï¼š<a href="https://github.com/mike-box/coursera/tree/master/algorithms-part1/week2" target="_blank" rel="noopener">queues</a><br>æœ¬æ¬¡çš„<code>project</code>æ˜¯å…³äº<code>queue</code>ï¼Œè¿™ä¸ªprojectæ¯”è¾ƒç®€å•ï¼Œ<code>tricky</code>çš„åœ°æ–¹randomQueueå’ŒDequueã€‚<br><img src="https://mike-box.github.io/images/147-2.png" alt="queues"></p><h4 id="week3"><a href="#week3" class="headerlink" title="week3"></a>week3</h4><p>è¯¾ç¨‹åœ°å€è¿æ¥ï¼š<a href="https://github.com/mike-box/coursera/tree/master/algorithms-part1/week3" target="_blank" rel="noopener">collinear</a><br>æœ¬æ¬¡çš„<code>project</code>æ˜¯å…³äºçº¿æ®µåˆå¹¶ï¼Œè¿™ä¸ªprojectç¨å¾®æ¯”è¾ƒéš¾ï¼Œéš¾ç‚¹åœ¨äºéœ€è¦å¯¹æ‰€æœ‰çš„ç‚¹çš„æ–œç‡è¿›è¡Œæ’åºï¼Œç„¶åå–æ–œç‡ç›¸ç­‰ï¼Œ<code>tricky</code>çš„åœ°æ–¹åœ¨äºå¦‚ä½•å»é‡ï¼Œéœ€è¦ä¸€ç‚¹æŠ€å·§ï¼Œè¦æŒ‰ç…§å…ƒç´ çš„å¤§å°è¿›è¡Œæ’åºã€‚<br><img src="https://mike-box.github.io/images/147-3.png" alt="collinear"></p><h4 id="week4"><a href="#week4" class="headerlink" title="week4"></a>week4</h4><p>è¯¾ç¨‹åœ°å€è¿æ¥ï¼š<a href="https://github.com/mike-box/coursera/tree/master/algorithms-part1/week4" target="_blank" rel="noopener">8puzzle</a><br>æœ¬æ¬¡çš„<code>project</code>æ˜¯å…³äºä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œè¿™ä¸ªprojectç¨å¾®æ¯”è¾ƒéš¾ï¼Œé¦–å…ˆé¢˜ç›®éå¸¸ä¸å®¹æ˜“ç†è§£ï¼Œå†æ¬¡å¯¹ä¼˜å…ˆçº§çš„å®šä¹‰æ¶‰åŠåˆ°<code>mahanton</code>è·ç¦»çš„è®¡ç®—ã€‚<code>tricky</code>çš„åœ°æ–¹åœ¨äºå¦‚ä½•å¦‚ä½•æ¶‰åŠä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚<br>å…³äºä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­å¦æœ‰ä¸€ä¸ª<code>project</code>æˆ‘è§‰å¾—éå¸¸æœ‰æ„æ€ï¼Œ<a href="https://github.com/mike-box/coursera/tree/master/algorithms-part1/week4/CollisionSystem" target="_blank" rel="noopener">CollisionSystem</a>.æˆ‘ç”¨<code>python</code>é‡æ–°å†™äº†ä¸€ä¸ªç¢°æ’æ¨¡æ‹Ÿçš„ç³»ç»Ÿï¼Œæ„Ÿè§‰éå¸¸æœ‰æ„æ€ï¼Œå¦‚æœæ„Ÿå…´è¶£çš„åŒå­¦éå¸¸å»ºè®®æŠŠè¿™ä¸ª<code>project</code>å­¦ä¹ ä»¥ä¸‹ï¼Œå¼ºçƒˆçš„æ¨èã€‚<br><img src="https://mike-box.github.io/images/147-4.png" alt="collinear"></p><h4 id="week5"><a href="#week5" class="headerlink" title="week5"></a>week5</h4><p>è¯¾ç¨‹åœ°å€è¿æ¥ï¼š<a href="https://github.com/mike-box/coursera/tree/master/algorithms-part1/week5" target="_blank" rel="noopener">kdtree</a><br>æœ¬æ¬¡çš„<code>project</code>æ˜¯å…³äº<code>kdtree</code>ï¼Œæœ¬è´¨ä¸Šæ˜¯äºŒåˆ†æœç´¢æ ‘ï¼Œéå¸¸ç»å…¸çš„ä¸€ä¸ªé—®é¢˜ï¼Œé€šè¿‡è¿™ä¸ªprojectè¯¦ç»†çš„äº†è§£äº†<code>kdtree</code>çš„åŸç†ï¼Œå…¶å®è¿™ä¸ªç®—æ³•éå¸¸çš„æœ‰ç”¨ï¼Œåœ¨<code>LBS</code>åº”ç”¨ç®—æ³•ä¸­éå¸¸æœ‰ç”¨ã€‚è¿™ä¸ªprojectç¨å¾®éš¾ï¼Œéš¾ç‚¹åœ¨äºå¦‚ä½•å¯¹<code>kdtree</code>è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚ä½•åœ¨<code>lgn</code>æ—¶é—´å†…å¯¹æ ‘è¿›è¡Œæœç´¢å’ŒæŸ¥æ‰¾ã€‚<code>tricky</code>çš„åœ°æ–¹åœ¨å†™æŸ¥æ‰¾å‡½æ•°è¿˜æ˜¯éå¸¸éœ€è¦ä¸€å®šçš„æŠ€å·§ï¼Œå½“ç„¶å¯¹äºç»å†è¿‡ç«èµ›çš„åŒå­¦ï¼Œè¿™ä¸ªé¢˜ç›®è‚¯å®šéå¸¸ç®€å•ã€‚<br><img src="https://mike-box.github.io/images/147-6.png" alt="kdtree"></p><h3 id="algorithms-part2"><a href="#algorithms-part2" class="headerlink" title="algorithms-part2"></a>algorithms-part2</h3><h4 id="week1-1"><a href="#week1-1" class="headerlink" title="week1"></a>week1</h4><p>è¯¾ç¨‹åœ°å€è¿æ¥ï¼š<a href="https://github.com/mike-box/coursera/tree/master/algorithms-part2/week1" target="_blank" rel="noopener">wordnet</a><br>æœ¬æ¬¡çš„<code>project</code>æ˜¯å…³äº<code>å›¾çš„æœç´¢</code>ï¼Œæœ¬è´¨ä¸Šæ˜¯<code>BFS</code>ï¼Œè¿™ä¸ª<code>project</code>æ¯”è¾ƒç®€å•ï¼Œæœ¬è´¨å°±æ˜¯å›¾çš„éå†ã€‚<code>tricky</code>çš„åœ°æ–¹åœ¨åœ¨æ ‘ä¸­æŸ¥æ‰¾æ±‚æœ€çŸ­è·ç¦»ä¹‹å’Œã€‚<br><img src="https://mike-box.github.io/images/147-7.png" alt="wordnet"></p><h4 id="week2-1"><a href="#week2-1" class="headerlink" title="week2"></a>week2</h4><p>è¯¾ç¨‹åœ°å€è¿æ¥ï¼š<a href="https://github.com/mike-box/coursera/tree/master/algorithms-part2/week2" target="_blank" rel="noopener">seam</a><br>æœ¬æ¬¡çš„<code>project</code>æ˜¯å…³äº<code>dp</code>ï¼Œè¿™ä¸ª<code>project</code>æ¯”è¾ƒæœ‰æ„æ€ï¼Œç”¨<code>DP</code>è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œæ€§èƒ½æ¯”ç»™çš„å‚è€ƒç­”æ¡ˆæ€§èƒ½è¿˜å¿«å‡ å€ï¼Œè¿™ä¸ªprojectç¨å¾®æ¯”è¾ƒç®€å•ï¼Œå…³é”®ç‚¹åœ¨äºæ‰¾åˆ°èƒ½é‡æœ€ä½çš„é‚£æ¡çº¿ï¼Œæ¯æ¬¡å»æ‰èƒ½é‡æœ€ä½çš„ä¸€æ¡çº¿çš„å…ƒç´ ã€‚<br><img src="https://mike-box.github.io/images/147-8.png" alt="seam"></p><h4 id="week3-1"><a href="#week3-1" class="headerlink" title="week3"></a>week3</h4><p>è¯¾ç¨‹åœ°å€è¿æ¥ï¼š<a href="https://github.com/mike-box/coursera/tree/master/algorithms-part2/week3" target="_blank" rel="noopener">baseball</a><br>æœ¬æ¬¡çš„<code>project</code>æ˜¯å…³äº<code>maxflow</code>ï¼Œç”±äºä»¥å‰ä¸€ç›´å¯¹<code>maxflow</code>è¿™ä¸ªç®—æ³•ä¸å¤ªäº†è§£ï¼Œå…¶ä¸­é‚£å‡ å¤©æƒ³äº†å¥½é•¿æ—¶é—´æ‰æƒ³æ˜ç™½è¿™ä¸ªç®—æ³•çš„é“ç†ã€‚å¦‚æœæ˜ç™½äº†<code>maxflow</code>ç®—æ³•çš„åŸç†ï¼Œè¿™ä¸ª<code>project</code>éå¸¸ç®€å•ï¼Œå°±æ˜¯æŠŠå›¾çš„è¾¹çš„å¯¹åº”å…³ç³»è¦å»ºç«‹èµ·æ¥ã€‚<code>tricky</code>çš„åœ°æ–¹åœ¨äºå¯¹è¿™ä¸ªé¢˜ç›®å¥½å¤šåœ°æ–¹ä¸å¤ªæ˜ç™½ï¼Œçœ‹æ¸…æ¥šå›¾ä¸­æ¯æ¡è¾¹çš„<code>capbility</code>çš„æ˜¯å¦‚ä½•çº¦æŸçš„ï¼Œäº†è§£æ¸…æ¥šå°±éå¸¸ç®€å•ã€‚<br><img src="https://mike-box.github.io/images/147-9.png" alt="baseball"></p><h4 id="week4-1"><a href="#week4-1" class="headerlink" title="week4"></a>week4</h4><p>è¯¾ç¨‹åœ°å€è¿æ¥ï¼š<a href="https://github.com/mike-box/coursera/tree/master/algorithms-part2/week4" target="_blank" rel="noopener">boggle</a><br>æœ¬æ¬¡çš„<code>project</code>æ˜¯å…³äº<code>trie</code>ï¼Œé¢˜ç›®å¾ˆç®€å•ï¼Œåœ¨<code>leetcode</code>ä¸Šæœ‰åŸºæœ¬ä¸Šç±»ä¼¼çš„é¢˜ç›®ï¼Œæ—©å°±å¯¹è¿™ä¸ªé¢˜ç›®ç›¸å½“æ˜ç™½äº†ã€‚åªè¦çŸ¥é“<code>trie</code>çš„æœç´¢ï¼Œè¿™ä¸ªé¢˜ç›®æ—¶éå¸¸ç®€å•çš„ã€‚<br><img src="https://mike-box.github.io/images/147-9.png" alt="boggle"></p><h4 id="week5-1"><a href="#week5-1" class="headerlink" title="week5"></a>week5</h4><p>è¯¾ç¨‹åœ°å€è¿æ¥ï¼š<a href="https://github.com/mike-box/coursera/tree/master/algorithms-part2/week5" target="_blank" rel="noopener">burrows</a><br>æœ¬æ¬¡çš„<code>project</code>æ˜¯å…³äº<code>compress</code>ç®—æ³•ï¼Œé¢˜ç›®æ¯”è¾ƒéš¾ï¼Œä¸»è¦æ˜¯å‹ç¼©ç®—æ³•è½¬æ¢æ—¶å¯¹æ€§èƒ½è¦æ±‚éå¸¸é«˜ï¼Œæ€§èƒ½æ–¹é¢æ¯”è¾ƒå®¹æ˜“ä¸¢åˆ†è¦æ‹¿åˆ°æ»¡åˆ†ä¸å®¹æ˜“ï¼Œæœ€åæ€§èƒ½è·Ÿé¢˜ç›®ä¸­çš„å‚è€ƒç­”æ¡ˆå·®äº†ä¸€å€ã€‚<code>tricky</code>çš„åœ°æ–¹åœ¨äºå¦‚ä½•ç†è§£é¢˜ç›®ï¼Œé¢˜ç›®éƒ¨åˆ†åœ°æ–¹éå¸¸ä¸å¥½ç†è§£ï¼Œå¦ä¸€æ–¹é¢æ€§èƒ½å¦‚ä½•ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚<br><img src="https://mike-box.github.io/images/147-10.png" alt="burrows"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ç®—æ³•è¯¾ç¨‹æ€»ç»“&quot;&gt;&lt;a href=&quot;#ç®—æ³•è¯¾ç¨‹æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;ç®—æ³•è¯¾ç¨‹æ€»ç»“&quot;&gt;&lt;/a&gt;ç®—æ³•è¯¾ç¨‹æ€»ç»“&lt;/h2&gt;&lt;p&gt;åœ¨ç–«æƒ…çš„ä¸¤ä¸ªæœˆå†…å·²ç»æŠŠç›¸å…³ææ–™å…¨éƒ¨å­¦ä¹ å®Œæˆäº†ï¼Œç‰¹åˆ«æ˜¯æŠŠå‡ ä¸ªprojectå…¨éƒ¨åšäº†ä¸€éï¼Œæ„Ÿè§‰&lt;code&gt;project&lt;/code&gt;å…¨éƒ¨åšäº†ä¸€éï¼Œæ€»çš„æ„Ÿè§‰æ˜¯è¯¾ç¨‹çš„è´¨é‡éå¸¸éå¸¸çš„é«˜ï¼Œéš¾å¾—è§åˆ°è¿™ä¹ˆé«˜è´¨é‡çš„è¯¾ç¨‹ã€‚æˆ‘æ˜¯å…¨ç¨‹æŠŠè¯¾ç¨‹èµ„æ–™å’Œprojectå…¨éƒ¨ä¸‹ä¸‹æ¥äº†ï¼Œæ€»å…±10ä¸ª&lt;code&gt;project&lt;/code&gt;å…¨éƒ¨åšäº†ä¸€éï¼Œæ„Ÿæ…¨ä¸€ä¸‹ç®—æ³•çš„å¼ºå¤§ï¼Œè™½ç„¶è‡ªå·±ä¹Ÿä»…ä»…åªæ˜¯å­¦åˆ°äº†çš®æ¯›ï¼Œä½†æ˜¯å¯¹äºå·²ç»è¿‡äº†ä¸­å¹´è¿˜åšæŒå­¦ä¹ çš„è‡ªå·±æ„Ÿåˆ°å¾ˆæ»¡æ„ã€‚â€œå­¦æ— æ­¢å¢ƒâ€ï¼Œæˆ‘æƒ³è¿™æ°¸è¿œæ˜¯å¯¹è‡ªå·±çš„ä¸€ç§æ¿€åŠ±å’Œé­ç­–ã€‚ä¸­å›½å¤äººè¨€ï¼Œâ€œæ±‚å…¶ä¸Šè€…ï¼Œå¾—å…¶ä¸­ï¼Œæ±‚å…¶ä¸­è€…ï¼Œå¾—å…¶ä¸‹â€ï¼Œæˆ‘æƒ³ä¿æŒä¸€é¢—æ°¸è¿œå­¦ä¹ è¿›å»å¾—å¿ƒï¼Œåœ¨å“ªé‡Œéƒ½ä¼šæœ‰è‡ªå·±å¾—ç©ºé—´ã€‚&lt;br&gt;å…¶å®æˆ‘æœ€æƒ³ç‚¹èµå¾—æ˜¯10ä¸ª&lt;code&gt;project&lt;/code&gt;å¾—éš¾åº¦éƒ½å¾ˆæ£’ï¼Œè¿˜è®°å¾—ä»åˆšå¼€å§‹å¾—&lt;code&gt;java&lt;/code&gt;çš„è¯­æ³•éƒ½æä¸æ¸…æ¥šï¼Œåˆ°åé¢åŸºæœ¬ä¸Š&lt;code&gt;java&lt;/code&gt;çš„ä¸€èˆ¬è¯­æ³•é—®é¢˜éš¾ä¸å€’æˆ‘ã€‚å…¶å®å­¦å®Œäº†è¿™äº›è¯¾ç¨‹ä»¥åï¼Œå…¶å®å¾ˆç¾¡æ…•é‚£äº›èƒ½å¤Ÿå»ä¸–ç•Œåæ ¡å­¦ä¹ çš„å­¦ç”Ÿä»¬ï¼Œä½ ä»¬å§‹ç»ˆæ˜¯å¹¸è¿å„¿ã€‚å†æƒ³æƒ³10å¹´å‰æˆ‘æ‰€ç»å†çš„å¤§å­¦ï¼Œå¾ˆå°‘æœ‰è¿™æ ·çš„é¡¶çº§å­¦ä¹ èµ„æºå’Œè€å¸ˆã€‚è™½ç„¶æ—¶å…‰å·²é€ï¼Œè¿™äº›å¹´ç»å†äº†è®¸å¤šï¼Œç»å†äº†äº²äººçš„å»ä¸–ï¼Œä¹Ÿç»å†äº†ä¸¤ä¸ªå°å®è´çš„è¯ç”Ÿï¼Œè®©æˆ‘é€æ¸æˆç†Ÿäº†è®¸å¤šï¼Œè¶Šæ¥è¶ŠçŸ¥é“è‡ªå·±æƒ³è¦è¿½æ±‚ä»€ä¹ˆï¼Œåˆ°åº•å–œæ¬¢ä»€ä¹ˆæ ·çš„ç”Ÿæ´»ï¼Œæˆ‘æƒ³è¯´çš„æ˜¯äººéœ€è¦ä¸ºäº†ç†æƒ³è€ŒåŠªåŠ›ï¼Œè™½ç„¶æˆ‘å‡ºèº«ä½å¾®è´«ç©·ï¼Œä½†æ˜¯è¿™äº›å¹´æ¥ä¸€ç›´ä¹Ÿæ²¡æœ‰æ”¾å¼ƒè‡ªå·±å¯¹ç¾å¥½ç”Ÿæ´»å’Œç†æƒ³çš„è¿½æ±‚ã€‚ä»¥ä¸‹æ˜¯ &lt;code&gt;github&lt;/code&gt;ä¸Šçš„åœ°å€è¿æ¥ï¼š&lt;br&gt;&lt;a href=&quot;https://github.com/mike-box/coursera/tree/master/algorithms-part1&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;algorithms-part1&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://github.com/mike-box/coursera/tree/master/algorithms-part2&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;algorithms-part2&lt;/a&gt;&lt;br&gt;ä»æœ€å¼€å§‹è¿é¢˜ç›®éƒ½çœ‹ä¸æ‡‚ï¼Œç­‰åˆ°åé¢å‡ ä¸ª&lt;code&gt;project&lt;/code&gt;åŸºæœ¬ä¸Šéƒ½èƒ½å¾—åˆ°æ»¡åˆ†ï¼Œè¿˜æ˜¯éå¸¸æ¬£æ…°çš„èƒ½çœ‹åˆ°è‡ªå·±çš„è¿›æ­¥ã€‚å¼ºçƒˆå»ºè®®å­¦ä¹ ç®—æ³•çš„åŒå­¦ä»¬èƒ½å¤ŸæŠŠè¿™ä¸ªè¯¾ç¨‹åšæŒå­¦ä¹ å®Œæ•´ã€‚&lt;br&gt;æˆ‘è§‰å¾—è¿™ä¸ªè¯¾ç¨‹çš„&lt;code&gt;project&lt;/code&gt; éå¸¸æœ‰ç‰¹è‰²ï¼Œéœ€è¦æäº¤çš„ä»£ç ä¸ä»…ä»…æ˜¯æ±‚å‡ºç»“æœï¼Œè¿˜ä¼šå¯¹ä»£ç çš„è¾“å…¥æ£€æŸ¥ã€å¼‚å¸¸æŠ›å‡ºã€ä»£ç çš„é£æ ¼ã€å˜é‡çš„å®šä¹‰ä»¥åŠè¿è¡Œæ—¶é—´å’Œè¿è¡Œ&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>ã€Leetcodeã€‘ LFU</title>
    <link href="http://yoursite.com/2020/04/06/146/"/>
    <id>http://yoursite.com/2020/04/06/146/</id>
    <published>2020-04-06T15:12:08.192Z</published>
    <updated>2020-04-07T02:26:44.489Z</updated>
    
    <content type="html"><![CDATA[<h1 id="LFU"><a href="#LFU" class="headerlink" title="LFU"></a>LFU</h1><p>é¢˜ç›®æ¯”è¾ƒç®€å•ï¼Œéƒ½åšå‡ºæ¥äº†ã€‚</p><h2 id="460-LFUç¼“å­˜"><a href="#460-LFUç¼“å­˜" class="headerlink" title="460. LFUç¼“å­˜"></a>460. LFUç¼“å­˜</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>è¯·ä½ ä¸º æœ€ä¸ç»å¸¸ä½¿ç”¨<code>ï¼ˆLFUï¼‰</code>ç¼“å­˜ç®—æ³•è®¾è®¡å¹¶å®ç°æ•°æ®ç»“æ„ã€‚å®ƒåº”è¯¥æ”¯æŒä»¥ä¸‹æ“ä½œï¼š<code>get</code> å’Œ <code>put</code>ã€‚</p><ul><li><code>get(key)</code> - å¦‚æœé”®å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è·å–é”®çš„å€¼ï¼ˆæ€»æ˜¯æ­£æ•°ï¼‰ï¼Œå¦åˆ™è¿”å› -1ã€‚</li><li><code>put(key, value)</code> - å¦‚æœé”®ä¸å­˜åœ¨ï¼Œè¯·è®¾ç½®æˆ–æ’å…¥å€¼ã€‚å½“ç¼“å­˜è¾¾åˆ°å…¶å®¹é‡æ—¶ï¼Œåˆ™åº”è¯¥åœ¨æ’å…¥æ–°é¡¹ä¹‹å‰ï¼Œä½¿æœ€ä¸ç»å¸¸ä½¿ç”¨çš„é¡¹æ— æ•ˆã€‚åœ¨æ­¤é—®é¢˜ä¸­ï¼Œå½“å­˜åœ¨å¹³å±€ï¼ˆå³ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªé”®å…·æœ‰ç›¸åŒä½¿ç”¨é¢‘ç‡ï¼‰æ—¶ï¼Œåº”è¯¥å»é™¤ æœ€è¿‘ æœ€å°‘ä½¿ç”¨çš„é”®ã€‚</li></ul><a id="more"></a><p>ã€Œé¡¹çš„ä½¿ç”¨æ¬¡æ•°ã€å°±æ˜¯è‡ªæ’å…¥è¯¥é¡¹ä»¥æ¥å¯¹å…¶è°ƒç”¨ <code>get</code>å’Œ <code>put</code> å‡½æ•°çš„æ¬¡æ•°ä¹‹å’Œã€‚ä½¿ç”¨æ¬¡æ•°ä¼šåœ¨å¯¹åº”é¡¹è¢«ç§»é™¤åç½®ä¸º 0 ã€‚`</p><p>è¿›é˜¶ï¼š<br>ä½ æ˜¯å¦å¯ä»¥åœ¨<code>O(1)</code> æ—¶é—´å¤æ‚åº¦å†…æ‰§è¡Œä¸¤é¡¹æ“ä½œï¼Ÿ<br>ç¤ºä¾‹ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">LFUCache cache = new LFUCache( <span class="number">2</span> <span class="comment">/* capacity (ç¼“å­˜å®¹é‡) */</span> );</span><br><span class="line"></span><br><span class="line">cache.put(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">cache.put(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">cache.<span class="keyword">get</span>(<span class="number">1</span>);       <span class="comment">// è¿”å› 1</span></span><br><span class="line">cache.put(<span class="number">3</span>, <span class="number">3</span>);    <span class="comment">// å»é™¤ key 2</span></span><br><span class="line">cache.<span class="keyword">get</span>(<span class="number">2</span>);       <span class="comment">// è¿”å› -1 (æœªæ‰¾åˆ°key 2)</span></span><br><span class="line">cache.<span class="keyword">get</span>(<span class="number">3</span>);       <span class="comment">// è¿”å› 3</span></span><br><span class="line">cache.put(<span class="number">4</span>, <span class="number">4</span>);    <span class="comment">// å»é™¤ key 1</span></span><br><span class="line">cache.<span class="keyword">get</span>(<span class="number">1</span>);       <span class="comment">// è¿”å› -1 (æœªæ‰¾åˆ° key 1)</span></span><br><span class="line">cache.<span class="keyword">get</span>(<span class="number">3</span>);       <span class="comment">// è¿”å› 3</span></span><br><span class="line">cache.<span class="keyword">get</span>(<span class="number">4</span>);       <span class="comment">// è¿”å› 4</span></span><br></pre></td></tr></table></figure><br>å½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/lfu-cache" target="_blank" rel="noopener">https://leetcode-cn.com/problems/lfu-cache</a></p><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> LFUç®—æ³•  hash + åŒé“¾è¡¨</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>å¯¹æ‰€æœ‰çš„keyæŒ‰ç…§ä½¿ç”¨é¢‘æ¬¡å¤§å°å’Œä½¿ç”¨æ—¶é—´çš„å…ˆåè¿›è¡Œæ’åˆ—ï¼Œå³æˆ‘ä»¬å°†æœ€å°‘ä½¿ç”¨æ¬¡æ•°ï¼Œä¸”æœ€é•¿æ—¶é—´æœªç”¨çš„èŠ‚ç‚¹æ”¾åœ¨é“¾è¡¨é˜Ÿåˆ—çš„é¦–éƒ¨ï¼Œæ¯æ¬¡é˜Ÿåˆ—æ»¡æ—¶ç›´æ¥ä»é˜Ÿåˆ—çš„å¤´éƒ¨å–å‡ºå…ƒç´ è¿›è¡Œæ·˜æ±°ã€‚</li><li>æˆ‘ä»¬å°†ç”¨å°†keyæ˜ å°„åˆ°é“¾è¡¨çš„èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨O(1)çš„æ—¶é—´å¤æ‚åº¦å†…å³å¯ä»¥è®¿é—®åˆ°é“¾è¡¨çš„èŠ‚ç‚¹ï¼Œç„¶åå°†é“¾è¡¨çš„èŠ‚ç‚¹ä¸­å­˜å‚¨çš„freqè¿›è¡ŒåŠ ä¸€ï¼Œå¹¶ä¸”è¯¥èŠ‚ç‚¹ä¸å…¶åç»­çš„èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå‘ç°é¢‘æ¬¡ä¸å…¶ç›¸åŒæˆ–è€…æ¯”å®ƒå°çš„èŠ‚ç‚¹åˆ™å°†èŠ‚ç‚¹è¿›è¡Œåç§»æ“ä½œï¼Œç›´åˆ°è¯¥èŠ‚ç‚¹åˆ°è¾¾æŒ‡å®šä½ç½®ã€‚ä½†æ˜¯è¿™ç§æƒ…å†µä¸‹å¦‚æœè¿›è¡Œæ›¿æ¢æ—¶ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦å¯èƒ½è¾¾åˆ°O(N).</li><li><code>get</code>æ“ä½œæ—¶ï¼Œç›´æ¥æŸ¥æ‰¾hashè¡¨ï¼ŒæŸ¥æ‰¾è¯¥å€¼æ˜¯å¦å­˜åœ¨æ˜ å°„çš„é“¾è¡¨çš„èŠ‚ç‚¹ã€‚å°†é“¾è¡¨çš„èŠ‚ç‚¹ä¸­å­˜å‚¨çš„freqè¿›è¡ŒåŠ ä¸€ï¼Œå¹¶ä¸”è¯¥èŠ‚ç‚¹ä¸å…¶åç»­çš„èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå‘ç°é¢‘æ¬¡ä¸å…¶ç›¸åŒæˆ–è€…æ¯”å®ƒå°çš„èŠ‚ç‚¹åˆ™å°†èŠ‚ç‚¹è¿›è¡Œåç§»æ“ä½œï¼Œç›´åˆ°è¯¥èŠ‚ç‚¹åˆ°è¾¾æŒ‡å®šä½ç½®ã€‚ä½†æ˜¯è¿™ç§æƒ…å†µä¸‹å¦‚æœè¿›è¡Œæ›¿æ¢æ—¶ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦å¯èƒ½è¾¾åˆ°O(N).</li><li><code>put</code>æ“ä½œæ—¶ï¼Œç›´æ¥æŸ¥æ‰¾hashè¡¨ï¼ŒæŸ¥æ‰¾è¯¥å€¼æ˜¯å¦å­˜åœ¨æ˜ å°„çš„é“¾è¡¨çš„èŠ‚ç‚¹ã€‚å¦‚æœè¯¥èŠ‚ç‚¹å­˜åœ¨ï¼Œåˆ™æ”¹å˜å­˜å‚¨çš„valueçš„å€¼ï¼ŒåŒæ—¶å°†å­˜å‚¨çš„freqè¿›è¡ŒåŠ 1æ“ä½œï¼Œç„¶åç§»åŠ¨é“¾è¡¨ã€‚å¹¶ä¸”è¯¥èŠ‚ç‚¹ä¸å…¶åç»­çš„èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå‘ç°é¢‘æ¬¡ä¸å…¶ç›¸åŒæˆ–è€…æ¯”å®ƒå°çš„èŠ‚ç‚¹åˆ™å°†èŠ‚ç‚¹è¿›è¡Œåç§»æ“ä½œï¼Œç›´åˆ°è¯¥èŠ‚ç‚¹åˆ°è¾¾æŒ‡å®šä½ç½®ã€‚ä½†æ˜¯è¿™ç§æƒ…å†µä¸‹å¦‚æœè¿›è¡Œæ›¿æ¢æ—¶ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦å¯èƒ½è¾¾åˆ°O(N).å¦‚æœè¯¥èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œåˆ™æœ‰ä¸¤ç§æƒ…å†µéœ€è¦è®¨è®ºã€‚ä¸€æ˜¯é˜Ÿåˆ—å·²ç»æ»¡ï¼Œåˆ™è¿™æ—¶åªéœ€è¦å°†åŒé“¾è¡¨é˜Ÿåˆ—çš„å¤´éƒ¨å…ƒç´ å»æ‰ï¼Œç„¶åå†æ·»åŠ æ–°çš„å¤´èŠ‚ç‚¹åˆ°é˜Ÿåˆ—ä¸­ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒç§»åŠ¨æ“ä½œã€‚å¦‚æœé˜Ÿåˆ—æœªæ»¡ï¼Œåˆ™ç›´æ¥å†åŒé“¾è¡¨é˜Ÿåˆ—çš„å¤´éƒ¨æ·»åŠ æ–°çš„å…ƒç´ ï¼Œç„¶åè¿›è¡Œé¢‘æ¬¡æ¯”è¾ƒç§»ä½æ“ä½œã€‚<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CacheNode</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">int</span> freq;</span><br><span class="line">    CacheNode(<span class="keyword">int</span> k, <span class="keyword">int</span> v):freq(<span class="number">1</span>), key(k), val(v)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Compare</span>&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">const</span> CacheNode&amp; a, <span class="keyword">const</span> CacheNode&amp; b)</span><span class="keyword">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.freq &lt; b.freq;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LFUCache</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    LFUCache(<span class="keyword">int</span> capacity) &#123;</span><br><span class="line">        size = capacity;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> it = cacheMap.find(key);</span><br><span class="line">        <span class="keyword">if</span> (size == <span class="number">0</span> || it == cacheMap.end()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        CacheNode temp = *(it-&gt;second);</span><br><span class="line">        temp.freq++;</span><br><span class="line">        cacheSet.erase(it-&gt;second);</span><br><span class="line">        cacheMap[key] = cacheSet.insert(temp);</span><br><span class="line">        <span class="keyword">return</span> temp.val;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(size == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">auto</span> it = cacheMap.find(key);</span><br><span class="line">        <span class="keyword">if</span> (it == cacheMap.end())&#123;</span><br><span class="line">            <span class="keyword">if</span>(cacheMap.size() == size)&#123;</span><br><span class="line">                cacheMap.erase((cacheSet.begin())-&gt;key);</span><br><span class="line">                cacheSet.erase(cacheSet.begin());</span><br><span class="line">            &#125;</span><br><span class="line">            CacheNode temp = CacheNode(key, value);</span><br><span class="line">            cacheMap[key] = cacheSet.insert(temp);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        CacheNode temp = *(it-&gt;second);</span><br><span class="line">        temp.freq++;</span><br><span class="line">        temp.val = value;</span><br><span class="line">        cacheSet.erase(it-&gt;second);</span><br><span class="line">        cacheMap[key] = cacheSet.insert(temp);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">multiset</span>&lt;CacheNode, Compare&gt; cacheSet;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="built_in">std</span>::<span class="built_in">multiset</span>&lt;CacheNode, Compare&gt;::iterator&gt; cacheMap;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your LFUCache object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * LFUCache obj = new LFUCache(capacity);</span></span><br><span class="line"><span class="comment"> * int param_1 = obj.get(key);</span></span><br><span class="line"><span class="comment"> * obj.put(key,value);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; pii;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">int</span> freq;</span><br><span class="line">    Node * next;</span><br><span class="line">    Node * prev;</span><br><span class="line">    Node()&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;key = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;val = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;freq = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;prev = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;Node;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Queue</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> maxSize;</span><br><span class="line">    <span class="keyword">int</span> currSize;</span><br><span class="line">    Node * head;</span><br><span class="line">    Queue(<span class="keyword">int</span> capacity)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;maxSize = capacity;</span><br><span class="line">        <span class="keyword">this</span>-&gt;currSize = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;head = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">(Queue * qu)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!qu || qu-&gt;currSize == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isFull</span><span class="params">(Queue * qu)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!qu) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> qu-&gt;currSize &gt;= qu-&gt;maxSize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">shiftQueue</span><span class="params">(Queue * qu,Node * curr)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!qu || !curr) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(isEmpty(qu)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*shift every node if freq is less or equal than curr*/</span></span><br><span class="line">    <span class="keyword">bool</span> replace = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(Node * node = curr-&gt;next; node ; node = curr-&gt;next)&#123;</span><br><span class="line">        <span class="comment">//cout&lt;&lt;"swap :"&lt;&lt;curr-&gt;val &lt;&lt;" "&lt;&lt; node-&gt;val &lt;&lt;endl;</span></span><br><span class="line">        <span class="comment">/*swap node*/</span></span><br><span class="line">        <span class="keyword">if</span>(node-&gt;freq &lt;= curr-&gt;freq)&#123;</span><br><span class="line">            curr-&gt;next = node-&gt;next;</span><br><span class="line">            node-&gt;prev = curr-&gt;prev;</span><br><span class="line">            <span class="keyword">if</span>(curr-&gt;prev) curr-&gt;prev-&gt;next = node;</span><br><span class="line">            <span class="keyword">if</span>(node-&gt;next) node-&gt;next-&gt;prev = curr;</span><br><span class="line">            curr-&gt;prev = node;</span><br><span class="line">            node-&gt;next = curr;</span><br><span class="line">            <span class="keyword">if</span>(qu-&gt;head == curr &amp;&amp; !replace)&#123;</span><br><span class="line">                qu-&gt;head = node;</span><br><span class="line">                replace = <span class="literal">true</span>;</span><br><span class="line">            &#125; </span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">pushFront</span><span class="params">(Queue * qu, Node * node)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!qu||!node) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(isEmpty(qu))&#123;</span><br><span class="line">        qu-&gt;head = node;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        node-&gt;next = qu-&gt;head;</span><br><span class="line">        qu-&gt;head-&gt;prev = node;</span><br><span class="line">        qu-&gt;head = node;</span><br><span class="line">    &#125;</span><br><span class="line">    qu-&gt;currSize++;</span><br><span class="line">    shiftQueue(qu,node);</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">popFront</span><span class="params">(Queue * qu)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!qu) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(qu-&gt;currSize == <span class="number">0</span> || !qu-&gt;head) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    Node * e = qu-&gt;head;</span><br><span class="line">    <span class="keyword">int</span> ret = e-&gt;key;</span><br><span class="line">    qu-&gt;head = qu-&gt;head-&gt;next;</span><br><span class="line">    <span class="keyword">if</span>(qu-&gt;head) qu-&gt;head-&gt;prev = <span class="literal">NULL</span>;</span><br><span class="line">    qu-&gt;currSize--;</span><br><span class="line">    e-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    e-&gt;prev = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">delete</span> e;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">debugQueue</span><span class="params">(Queue * qu)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!qu) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"curr size = "</span>&lt;&lt;qu-&gt;currSize&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(Node * node = qu-&gt;head; node; node = node-&gt;next)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"key:"</span>&lt;&lt;node-&gt;key&lt;&lt;<span class="string">" value:"</span>&lt;&lt;node-&gt;val&lt;&lt;<span class="string">" freq:"</span>&lt;&lt;node-&gt;freq&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LFUCache</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    LFUCache(<span class="keyword">int</span> capacity) &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;qu = <span class="keyword">new</span> Queue(capacity);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">this</span>-&gt;hash.count(key)) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">        Node * curr = <span class="keyword">this</span>-&gt;hash[key];</span><br><span class="line">        curr-&gt;freq++;</span><br><span class="line">        <span class="keyword">int</span> ret = curr-&gt;val;</span><br><span class="line">        shiftQueue(<span class="keyword">this</span>-&gt;qu,curr);</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(hash.count(key))&#123;</span><br><span class="line">             Node * curr = <span class="keyword">this</span>-&gt;hash[key];</span><br><span class="line">             curr-&gt;val = value;</span><br><span class="line">             curr-&gt;freq++;</span><br><span class="line">             shiftQueue(<span class="keyword">this</span>-&gt;qu,curr);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">/* buffer is full*/</span></span><br><span class="line">            <span class="keyword">if</span>(isFull(qu))&#123;</span><br><span class="line">                <span class="keyword">if</span>(qu-&gt;head)&#123;</span><br><span class="line">                    <span class="keyword">this</span>-&gt;hash.erase(qu-&gt;head-&gt;key);</span><br><span class="line">                    popFront(qu);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(!isFull(qu))&#123;</span><br><span class="line">                Node * node = <span class="keyword">new</span> Node();</span><br><span class="line">                node-&gt;key = key;</span><br><span class="line">                node-&gt;val = value;</span><br><span class="line">                node-&gt;freq = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">this</span>-&gt;hash[key] = node;</span><br><span class="line">                pushFront(<span class="keyword">this</span>-&gt;qu,node);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,Node *&gt; hash;</span><br><span class="line">    Queue *qu;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your LFUCache object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * LFUCache* obj = new LFUCache(capacity);</span></span><br><span class="line"><span class="comment"> * int param_1 = obj-&gt;get(key);</span></span><br><span class="line"><span class="comment"> * obj-&gt;put(key,value);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">int</span> freq;</span><br><span class="line">    <span class="keyword">int</span> time;</span><br><span class="line">    Node(<span class="keyword">int</span> key,<span class="keyword">int</span> val,<span class="keyword">int</span> freq,<span class="keyword">int</span> time)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;key = key;</span><br><span class="line">        <span class="keyword">this</span>-&gt;val = val;</span><br><span class="line">        <span class="keyword">this</span>-&gt;freq = freq;</span><br><span class="line">        <span class="keyword">this</span>-&gt;time = time;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">cmp</span>&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">const</span> Node * x,<span class="keyword">const</span> Node * y)</span> <span class="keyword">const</span> </span>&#123; </span><br><span class="line">        <span class="keyword">if</span>(x-&gt;freq == y-&gt;freq) <span class="keyword">return</span> x-&gt;time &lt; y-&gt;time;</span><br><span class="line">        <span class="keyword">return</span> x-&gt;freq &lt; y-&gt;freq;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LFUCache</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    LFUCache(<span class="keyword">int</span> capacity) &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;maxSize = capacity;</span><br><span class="line">        <span class="keyword">this</span>-&gt;timer++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!hash.count(key)) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">        Node * curr = hash[key];</span><br><span class="line">        buffer.erase(curr);</span><br><span class="line">        <span class="keyword">int</span> ret = curr-&gt;val;</span><br><span class="line">        curr-&gt;freq++;</span><br><span class="line">        curr-&gt;time = <span class="keyword">this</span>-&gt;timer;</span><br><span class="line">        buffer.insert(curr);</span><br><span class="line">        <span class="keyword">this</span>-&gt;timer++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;maxSize == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span>(hash.count(key))&#123;</span><br><span class="line">            Node * curr = <span class="keyword">this</span>-&gt;hash[key];</span><br><span class="line">            buffer.erase(curr);</span><br><span class="line">            curr-&gt;val = value;</span><br><span class="line">            curr-&gt;freq++;</span><br><span class="line">            curr-&gt;time = <span class="keyword">this</span>-&gt;timer;</span><br><span class="line">            buffer.insert(curr);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(buffer.size() &gt;= <span class="keyword">this</span>-&gt;maxSize)&#123;</span><br><span class="line">                Node * curr = *buffer.begin();</span><br><span class="line">                <span class="keyword">this</span>-&gt;hash.erase(curr-&gt;key);</span><br><span class="line">                buffer.erase(curr);</span><br><span class="line">            &#125;</span><br><span class="line">            Node * node = <span class="keyword">new</span> Node(key,value,<span class="number">1</span>,<span class="keyword">this</span>-&gt;timer);</span><br><span class="line">            <span class="keyword">this</span>-&gt;hash[key] = node;</span><br><span class="line">            buffer.insert(node);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>-&gt;timer++;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,Node *&gt; hash;</span><br><span class="line">    <span class="built_in">set</span>&lt;Node*,cmp&gt; buffer;</span><br><span class="line">    <span class="keyword">int</span> maxSize;</span><br><span class="line">    <span class="keyword">int</span> timer;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your LFUCache object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * LFUCache* obj = new LFUCache(capacity);</span></span><br><span class="line"><span class="comment"> * int param_1 = obj-&gt;get(key);</span></span><br><span class="line"><span class="comment"> * obj-&gt;put(key,value);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure></li></ol></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;LFU&quot;&gt;&lt;a href=&quot;#LFU&quot; class=&quot;headerlink&quot; title=&quot;LFU&quot;&gt;&lt;/a&gt;LFU&lt;/h1&gt;&lt;p&gt;é¢˜ç›®æ¯”è¾ƒç®€å•ï¼Œéƒ½åšå‡ºæ¥äº†ã€‚&lt;/p&gt;&lt;h2 id=&quot;460-LFUç¼“å­˜&quot;&gt;&lt;a href=&quot;#460-LFUç¼“å­˜&quot; class=&quot;headerlink&quot; title=&quot;460. LFUç¼“å­˜&quot;&gt;&lt;/a&gt;460. LFUç¼“å­˜&lt;/h2&gt;&lt;h3 id=&quot;é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®&quot;&gt;&lt;/a&gt;é¢˜ç›®&lt;/h3&gt;&lt;p&gt;è¯·ä½ ä¸º æœ€ä¸ç»å¸¸ä½¿ç”¨&lt;code&gt;ï¼ˆLFUï¼‰&lt;/code&gt;ç¼“å­˜ç®—æ³•è®¾è®¡å¹¶å®ç°æ•°æ®ç»“æ„ã€‚å®ƒåº”è¯¥æ”¯æŒä»¥ä¸‹æ“ä½œï¼š&lt;code&gt;get&lt;/code&gt; å’Œ &lt;code&gt;put&lt;/code&gt;ã€‚&lt;/p&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;get(key)&lt;/code&gt; - å¦‚æœé”®å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è·å–é”®çš„å€¼ï¼ˆæ€»æ˜¯æ­£æ•°ï¼‰ï¼Œå¦åˆ™è¿”å› -1ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;put(key, value)&lt;/code&gt; - å¦‚æœé”®ä¸å­˜åœ¨ï¼Œè¯·è®¾ç½®æˆ–æ’å…¥å€¼ã€‚å½“ç¼“å­˜è¾¾åˆ°å…¶å®¹é‡æ—¶ï¼Œåˆ™åº”è¯¥åœ¨æ’å…¥æ–°é¡¹ä¹‹å‰ï¼Œä½¿æœ€ä¸ç»å¸¸ä½¿ç”¨çš„é¡¹æ— æ•ˆã€‚åœ¨æ­¤é—®é¢˜ä¸­ï¼Œå½“å­˜åœ¨å¹³å±€ï¼ˆå³ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªé”®å…·æœ‰ç›¸åŒä½¿ç”¨é¢‘ç‡ï¼‰æ—¶ï¼Œåº”è¯¥å»é™¤ æœ€è¿‘ æœ€å°‘ä½¿ç”¨çš„é”®ã€‚&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>ã€Leetcodeã€‘ ç¬¬ 23å‘¨åŒå‘¨æ¯”èµ›</title>
    <link href="http://yoursite.com/2020/04/05/145/"/>
    <id>http://yoursite.com/2020/04/05/145/</id>
    <published>2020-04-05T15:07:04.024Z</published>
    <updated>2020-04-05T15:07:10.364Z</updated>
    
    <content type="html"><![CDATA[<h1 id="23å‘¨æ¯”èµ›"><a href="#23å‘¨æ¯”èµ›" class="headerlink" title="23å‘¨æ¯”èµ›"></a>23å‘¨æ¯”èµ›</h1><p>é¢˜ç›®æ¯”è¾ƒç®€å•ï¼Œéƒ½åšå‡ºæ¥äº†ã€‚</p><h2 id="5360-ç»Ÿè®¡æœ€å¤§ç»„çš„æ•°ç›®"><a href="#5360-ç»Ÿè®¡æœ€å¤§ç»„çš„æ•°ç›®" class="headerlink" title="5360. ç»Ÿè®¡æœ€å¤§ç»„çš„æ•°ç›®"></a>5360. ç»Ÿè®¡æœ€å¤§ç»„çš„æ•°ç›®</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•° <code>n</code>ã€‚è¯·ä½ å…ˆæ±‚å‡ºä» 1 åˆ° n çš„æ¯ä¸ªæ•´æ•° 10 è¿›åˆ¶è¡¨ç¤ºä¸‹çš„æ•°ä½å’Œï¼ˆæ¯ä¸€ä½ä¸Šçš„æ•°å­—ç›¸åŠ ï¼‰ï¼Œç„¶åæŠŠæ•°ä½å’Œç›¸ç­‰çš„æ•°å­—æ”¾åˆ°åŒä¸€ä¸ªç»„ä¸­ã€‚</p><p>è¯·ä½ ç»Ÿè®¡æ¯ä¸ªç»„ä¸­çš„æ•°å­—æ•°ç›®ï¼Œå¹¶è¿”å›æ•°å­—æ•°ç›®å¹¶åˆ—æœ€å¤šçš„ç»„æœ‰å¤šå°‘ä¸ªã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">13</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šæ€»å…±æœ‰ <span class="number">9</span> ä¸ªç»„ï¼Œå°† <span class="number">1</span> åˆ° <span class="number">13</span> æŒ‰æ•°ä½æ±‚å’Œåè¿™äº›ç»„åˆ†åˆ«æ˜¯ï¼š</span><br><span class="line">[<span class="number">1</span>,<span class="number">10</span>]ï¼Œ[<span class="number">2</span>,<span class="number">11</span>]ï¼Œ[<span class="number">3</span>,<span class="number">12</span>]ï¼Œ[<span class="number">4</span>,<span class="number">13</span>]ï¼Œ[<span class="number">5</span>]ï¼Œ[<span class="number">6</span>]ï¼Œ[<span class="number">7</span>]ï¼Œ[<span class="number">8</span>]ï¼Œ[<span class="number">9</span>]ã€‚æ€»å…±æœ‰ <span class="number">4</span> ä¸ªç»„æ‹¥æœ‰çš„æ•°å­—å¹¶åˆ—æœ€å¤šã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼šæ€»å…±æœ‰ <span class="number">2</span> ä¸ªå¤§å°ä¸º <span class="number">1</span> çš„ç»„ [<span class="number">1</span>]ï¼Œ[<span class="number">2</span>]ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">15</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">6</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">24</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span></span><br></pre></td></tr></table></figure></p><a id="more"></a><p>æç¤ºï¼š`</p><ul><li><code>1 &lt;= n &lt;= 10^4</code></li></ul><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/count-largest-group" target="_blank" rel="noopener">https://leetcode-cn.com/problems/count-largest-group</a></p><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æš´åŠ›</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>æ’åºä¹‹åï¼Œæš´åŠ›å³å¯ã€‚<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n != <span class="number">0</span>)&#123;</span><br><span class="line">            res += (n%<span class="number">10</span>);</span><br><span class="line">            n = n/<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">countLargestGroup</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; cnt;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> maxFreq = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n; ++i)&#123;</span><br><span class="line">            cnt[sum(i)]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> x : cnt)&#123;</span><br><span class="line">            maxFreq = max(x.second,maxFreq);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> x : cnt)&#123;</span><br><span class="line">            <span class="keyword">if</span>(x.second == maxFreq) res++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5362-æ„é€ -K-ä¸ªå›æ–‡å­—ç¬¦ä¸²"><a href="#5362-æ„é€ -K-ä¸ªå›æ–‡å­—ç¬¦ä¸²" class="headerlink" title="5362. æ„é€  K ä¸ªå›æ–‡å­—ç¬¦ä¸²"></a>5362. æ„é€  K ä¸ªå›æ–‡å­—ç¬¦ä¸²</h2><h3 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªæ•´æ•° k ã€‚è¯·ä½ ç”¨ s å­—ç¬¦ä¸²ä¸­ æ‰€æœ‰å­—ç¬¦ æ„é€  k ä¸ªéç©º å›æ–‡ä¸² ã€‚</p><p>å¦‚æœä½ å¯ä»¥ç”¨ s ä¸­æ‰€æœ‰å­—ç¬¦æ„é€  k ä¸ªå›æ–‡å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè¯·ä½ è¿”å› <code>True</code>ï¼Œå¦åˆ™è¿”å› <code>False</code>ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">s</span> = <span class="string">"annabelle"</span>, <span class="attr">k</span> = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šå¯ä»¥ç”¨ s ä¸­æ‰€æœ‰å­—ç¬¦æ„é€  <span class="number">2</span> ä¸ªå›æ–‡å­—ç¬¦ä¸²ã€‚</span><br><span class="line">ä¸€äº›å¯è¡Œçš„æ„é€ æ–¹æ¡ˆåŒ…æ‹¬ï¼š<span class="string">"anna"</span> + <span class="string">"elble"</span>ï¼Œ<span class="string">"anbna"</span> + <span class="string">"elle"</span>ï¼Œ<span class="string">"anellena"</span> + <span class="string">"b"</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">s</span> = <span class="string">"leetcode"</span>, <span class="attr">k</span> = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br><span class="line">è§£é‡Šï¼šæ— æ³•ç”¨ s ä¸­æ‰€æœ‰å­—ç¬¦æ„é€  <span class="number">3</span> ä¸ªå›æ–‡ä¸²ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">s</span> = <span class="string">"true"</span>, <span class="attr">k</span> = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šå”¯ä¸€å¯è¡Œçš„æ–¹æ¡ˆæ˜¯è®© s ä¸­æ¯ä¸ªå­—ç¬¦å•ç‹¬æ„æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">s</span> = <span class="string">"yzyzyzyzyzyzyzy"</span>, <span class="attr">k</span> = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šä½ åªéœ€è¦å°†æ‰€æœ‰çš„ z æ”¾åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ‰€æœ‰çš„ y æ”¾åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚é‚£ä¹ˆä¸¤ä¸ªå­—ç¬¦ä¸²éƒ½æ˜¯å›æ–‡ä¸²ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 5ï¼š<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="attr">s</span> = <span class="string">"cr"</span>, <span class="attr">k</span> = <span class="number">7</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬æ²¡æœ‰è¶³å¤Ÿçš„å­—ç¬¦å»æ„é€  <span class="number">7</span> ä¸ªå›æ–‡ä¸²ã€‚</span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li>1 &lt;= s.length &lt;= 10^5</li><li>s ä¸­æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å°å†™è‹±æ–‡å­—æ¯ã€‚</li><li>1 &lt;= k &lt;= 10^5</li></ul><h3 id="åœ°å€-1"><a href="#åœ°å€-1" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/construct-k-palindrome-strings" target="_blank" rel="noopener">https://leetcode-cn.com/problems/construct-k-palindrome-strings</a></p><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> åˆ¤å®šä¸ç¬¦åˆæ¡ä»¶</p><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>åªéœ€è¦ç»Ÿè®¡å­—ç¬¦çš„ä¸ªæ•°å³å¯ã€‚å¯¹äºå¶æ•°çš„å­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“å®ƒå¯ä»¥æ‹†æˆä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªæˆ–è€…é›¶ä¸ªå›æ–‡å­—ç¬¦ä¸²éƒ½å¯ä»¥ã€‚æ¯”å¦‚ â€œaaaaaâ€:<br>æˆ‘ä»¬å¯ä»¥æŠŠè¯¥å­—ç¬¦ä¸²æœ¬èº«ä¸²è”éƒ½å…¶ä»–çš„å›æ–‡å­—ç¬¦ä¸²ï¼Œæˆ–è€…å°†å…¶å½“ä½œä¸€ä¸ªå•ç‹¬çš„å­—ç¬¦ä¸²ï¼Œæˆ–è€…æ‹†æˆä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚</li><li>ä½†æ˜¯å¯¹äºå­—ç¬¦æ•°ç›®ä¸ºå¥‡æ•°çš„å­—ç¬¦æˆ‘ä»¬æœ€å°‘éƒ½éœ€è¦å ç”¨ä¸€ä¸ªå›æ–‡å­—ç¬¦ä¸²ï¼Œå› ä¸ºå®ƒæœ‰ä¸€ä¸ªå¥‡æ•°çš„å­—ç¬¦æ²¡æ³•æ‹†åˆ†ã€‚</li><li>æ­¤é¢˜å®é™…ä¸Šè½¬æ¢ä¸ºæ±‚å¶æ•°æ•°ç›®çš„å­—ç¬¦çš„ä¸ªæ•°ã€‚<h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canConstruct</span><span class="params">(<span class="built_in">string</span> s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; cnt(<span class="number">26</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> odd = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(s.size() &lt; k) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(s.size() == k) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> c : s)&#123;</span><br><span class="line">            cnt[c-<span class="string">'a'</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cnt[i]%<span class="number">2</span>) odd++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(odd &gt; k) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5361-åœ†å’ŒçŸ©å½¢æ˜¯å¦æœ‰é‡å "><a href="#5361-åœ†å’ŒçŸ©å½¢æ˜¯å¦æœ‰é‡å " class="headerlink" title="5361. åœ†å’ŒçŸ©å½¢æ˜¯å¦æœ‰é‡å "></a>5361. åœ†å’ŒçŸ©å½¢æ˜¯å¦æœ‰é‡å </h2><h3 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ç»™ä½ ä¸€ä¸ªä»¥ <code>(radius, x_center, y_center)</code> è¡¨ç¤ºçš„åœ†å’Œä¸€ä¸ªä¸åæ ‡è½´å¹³è¡Œçš„çŸ©å½¢ <code>(x1, y1, x2, y2)</code>ï¼Œå…¶ä¸­ <code>(x1, y1)</code> æ˜¯çŸ©å½¢å·¦ä¸‹è§’çš„åæ ‡ï¼Œ<code>(x2, y2)</code>æ˜¯å³ä¸Šè§’çš„åæ ‡ã€‚</p><p>å¦‚æœåœ†å’ŒçŸ©å½¢æœ‰é‡å çš„éƒ¨åˆ†ï¼Œè¯·ä½ è¿”å› <code>True</code>ï¼Œå¦åˆ™è¿”å› <code>False</code> ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œè¯·ä½ æ£€æµ‹æ˜¯å¦ å­˜åœ¨ ç‚¹ <code>(xi, yi)</code>ï¼Œå®ƒæ—¢åœ¨åœ†ä¸Šä¹Ÿåœ¨çŸ©å½¢ä¸Šï¼ˆä¸¤è€…éƒ½åŒ…æ‹¬ç‚¹è½åœ¨è¾¹ç•Œä¸Šçš„æƒ…å†µï¼‰ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šradius = <span class="number">1</span>, x_center = <span class="number">0</span>, y_center = <span class="number">0</span>, x1 = <span class="number">1</span>, y1 = <span class="number">-1</span>, x2 = <span class="number">3</span>, y2 = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šåœ†å’ŒçŸ©å½¢æœ‰å…¬å…±ç‚¹ (<span class="number">1</span>,<span class="number">0</span>)</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šradius = <span class="number">1</span>, x_center = <span class="number">0</span>, y_center = <span class="number">0</span>, x1 = <span class="number">-1</span>, y1 = <span class="number">0</span>, x2 = <span class="number">0</span>, y2 = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šradius = <span class="number">1</span>, x_center = <span class="number">1</span>, y_center = <span class="number">1</span>, x1 = <span class="number">-3</span>, y1 = <span class="number">-3</span>, x2 = <span class="number">3</span>, y2 = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šradius = <span class="number">1</span>, x_center = <span class="number">1</span>, y_center = <span class="number">1</span>, x1 = <span class="number">1</span>, y1 = <span class="number">-3</span>, x2 = <span class="number">2</span>, y2 = <span class="number">-1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= radius &lt;= 2000</code></li><li><code>-10^4 &lt;= x_center, y_center, x1, y1, x2, y2 &lt;= 10^4</code></li><li><code>x1 &lt; x2</code></li><li><code>y1 &lt; y2</code></li></ul><h3 id="åœ°å€-2"><a href="#åœ°å€-2" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/circle-and-rectangle-overlapping" target="_blank" rel="noopener">https://leetcode-cn.com/problems/circle-and-rectangle-overlapping</a></p><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p> æ•°å­¦é—®é¢˜</p><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>åœ†å¿ƒå¦‚æœåœ¨çŸ©å½¢å†…è‚¯å®šå­˜åœ¨äº¤é›†ã€‚</li><li>çŸ©å½¢çš„è¾¹ç¼˜å¦‚æœåœ¨å›­å†…ï¼Œåˆ™è‚¯å®šå­˜åœ¨äº¤é›†ã€‚<h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">checkOverlap</span><span class="params">(<span class="keyword">int</span> radius, <span class="keyword">int</span> x_center, <span class="keyword">int</span> y_center, <span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*inside */</span></span><br><span class="line">        <span class="keyword">if</span>(x_center &gt;= x1 &amp;&amp; x_center &lt;= x2 &amp;&amp; y_center &gt;= y1 &amp;&amp; y_center &lt;= y2) </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">/*left and right*/</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = y1; i &lt;= y2; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>((<span class="built_in">pow</span>(x1-x_center,<span class="number">2</span>) + <span class="built_in">pow</span>(i-y_center,<span class="number">2</span>)) &lt;= radius*radius) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>((<span class="built_in">pow</span>(x2-x_center,<span class="number">2</span>) + <span class="built_in">pow</span>(i-y_center,<span class="number">2</span>)) &lt;= radius*radius) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*top and buttom*/</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = x1; i &lt;= x2; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>((<span class="built_in">pow</span>(i-x_center,<span class="number">2</span>) + <span class="built_in">pow</span>(y1-y_center,<span class="number">2</span>)) &lt;= radius*radius) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>((<span class="built_in">pow</span>(i-x_center,<span class="number">2</span>) + <span class="built_in">pow</span>(y2-y_center,<span class="number">2</span>)) &lt;= radius*radius) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h2 id="5363-åšèœé¡ºåº"><a href="#5363-åšèœé¡ºåº" class="headerlink" title="5363. åšèœé¡ºåº"></a>5363. åšèœé¡ºåº</h2><h3 id="é¢˜ç›®-3"><a href="#é¢˜ç›®-3" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><p>ä¸€ä¸ªå¨å¸ˆæ”¶é›†äº†ä»– n é“èœçš„æ»¡æ„ç¨‹åº¦<code>satisfaction</code>ï¼Œè¿™ä¸ªå¨å¸ˆåšå‡ºæ¯é“èœçš„æ—¶é—´éƒ½æ˜¯ 1 å•ä½æ—¶é—´ã€‚<br>ä¸€é“èœçš„ ã€Œå–œçˆ±æ—¶é—´ã€ç³»æ•°å®šä¹‰ä¸ºçƒ¹é¥ªè¿™é“èœä»¥åŠä¹‹å‰æ¯é“èœæ‰€èŠ±è´¹çš„æ—¶é—´ä¹˜ä»¥è¿™é“èœçš„æ»¡æ„ç¨‹åº¦ï¼Œä¹Ÿå°±æ˜¯ <code>time[i]*satisfaction[i]</code> ã€‚<br>è¯·ä½ è¿”å›åšå®Œæ‰€æœ‰èœ ã€Œå–œçˆ±æ—¶é—´ã€æ€»å’Œçš„æœ€å¤§å€¼ä¸ºå¤šå°‘ã€‚<br>ä½ å¯ä»¥æŒ‰ ä»»æ„ é¡ºåºå®‰æ’åšèœçš„é¡ºåºï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©æ”¾å¼ƒåšæŸäº›èœæ¥è·å¾—æ›´å¤§çš„æ€»å’Œã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šsatisfaction = [<span class="number">-1</span>,<span class="number">-8</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">-9</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">14</span></span><br><span class="line">è§£é‡Šï¼šå»æ‰ç¬¬äºŒé“å’Œæœ€åä¸€é“èœï¼Œæœ€å¤§çš„å–œçˆ±æ—¶é—´ç³»æ•°å’Œä¸º (<span class="number">-1</span>*<span class="number">1</span> + <span class="number">0</span>*<span class="number">2</span> + <span class="number">5</span>*<span class="number">3</span> = <span class="number">14</span>) ã€‚æ¯é“èœéƒ½éœ€è¦èŠ±è´¹ <span class="number">1</span> å•ä½æ—¶é—´å®Œæˆã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 2ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šsatisfaction = [<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">20</span></span><br><span class="line">è§£é‡Šï¼šæŒ‰ç…§åŸæ¥é¡ºåºç›¸åçš„æ—¶é—´åšèœ (<span class="number">2</span>*<span class="number">1</span> + <span class="number">3</span>*<span class="number">2</span> + <span class="number">4</span>*<span class="number">3</span> = <span class="number">20</span>)</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 3ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šsatisfaction = [<span class="number">-1</span>,<span class="number">-4</span>,<span class="number">-5</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line">è§£é‡Šï¼šå¤§å®¶éƒ½ä¸å–œæ¬¢è¿™äº›èœï¼Œæ‰€ä»¥ä¸åšä»»ä½•èœå¯ä»¥è·å¾—æœ€å¤§çš„å–œçˆ±æ—¶é—´ç³»æ•°ã€‚</span><br></pre></td></tr></table></figure><br>ç¤ºä¾‹ 4ï¼š<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šsatisfaction = [<span class="number">-2</span>,<span class="number">5</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">-3</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">35</span></span><br></pre></td></tr></table></figure></p><p>æç¤ºï¼š</p><ul><li><code>n == satisfaction.length</code></li><li><code>1 &lt;= n &lt;= 500</code></li><li><code>-10^3 &lt;= satisfaction[i] &lt;= 10^3</code></li></ul><h3 id="åœ°å€-3"><a href="#åœ°å€-3" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p><a href="https://leetcode-cn.com/problems/reducing-dishes" target="_blank" rel="noopener">https://leetcode-cn.com/problems/reducing-dishes</a></p><h3 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><blockquote><p>  åŠ¨æ€è§„åˆ’  </p><h3 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li>æœ¬é¢˜è¿˜æ˜¯æ¯”è¾ƒå¸¸è§çš„DPï¼Œé¦–å…ˆå¯¹èœå•è¿›è¡Œä»å°åˆ°å¤§æ’åºã€‚</li><li>äºŒç»´dpï¼Œ<code>dp[i][j]</code>ä»£è¡¨ä»å‰<code>i</code>é“èœå“ä¸­é€‰æ‹©<code>j</code>é“èœå“æ‰€è·å¾—æœ€å¤§æ»¡æ„åº¦ã€‚</li><li>é€’æ¨å…¬å¼ä¸ºï¼š<script type="math/tex; mode=display">dp[i][j] = max(dp[i-1][j],dp[i-1][j-1] + satisfaction[i]*j)</script></li><li>ç®€å•çš„äºŒç»´DPï¼Œå¾ˆå®¹æ˜“å°±å¾—åˆ°ç»“æœã€‚</li></ol></blockquote><h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">501</span>;</span><br><span class="line"><span class="keyword">int</span> dp[M][M];</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxSatisfaction</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; satisfaction)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = satisfaction.size();</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        sort(satisfaction.begin(),satisfaction.end());</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; ++j)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i == j)&#123;</span><br><span class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>] + satisfaction[i<span class="number">-1</span>]*j;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    dp[i][j] = max(dp[i<span class="number">-1</span>][j],dp[i<span class="number">-1</span>][j<span class="number">-1</span>] + satisfaction[i<span class="number">-1</span>]*j);</span><br><span class="line">                &#125;</span><br><span class="line">                res = max(res,dp[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;23å‘¨æ¯”èµ›&quot;&gt;&lt;a href=&quot;#23å‘¨æ¯”èµ›&quot; class=&quot;headerlink&quot; title=&quot;23å‘¨æ¯”èµ›&quot;&gt;&lt;/a&gt;23å‘¨æ¯”èµ›&lt;/h1&gt;&lt;p&gt;é¢˜ç›®æ¯”è¾ƒç®€å•ï¼Œéƒ½åšå‡ºæ¥äº†ã€‚&lt;/p&gt;&lt;h2 id=&quot;5360-ç»Ÿè®¡æœ€å¤§ç»„çš„æ•°ç›®&quot;&gt;&lt;a href=&quot;#5360-ç»Ÿè®¡æœ€å¤§ç»„çš„æ•°ç›®&quot; class=&quot;headerlink&quot; title=&quot;5360. ç»Ÿè®¡æœ€å¤§ç»„çš„æ•°ç›®&quot;&gt;&lt;/a&gt;5360. ç»Ÿè®¡æœ€å¤§ç»„çš„æ•°ç›®&lt;/h2&gt;&lt;h3 id=&quot;é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®&quot;&gt;&lt;/a&gt;é¢˜ç›®&lt;/h3&gt;&lt;p&gt;ç»™ä½ ä¸€ä¸ªæ•´æ•° &lt;code&gt;n&lt;/code&gt;ã€‚è¯·ä½ å…ˆæ±‚å‡ºä» 1 åˆ° n çš„æ¯ä¸ªæ•´æ•° 10 è¿›åˆ¶è¡¨ç¤ºä¸‹çš„æ•°ä½å’Œï¼ˆæ¯ä¸€ä½ä¸Šçš„æ•°å­—ç›¸åŠ ï¼‰ï¼Œç„¶åæŠŠæ•°ä½å’Œç›¸ç­‰çš„æ•°å­—æ”¾åˆ°åŒä¸€ä¸ªç»„ä¸­ã€‚&lt;/p&gt;&lt;p&gt;è¯·ä½ ç»Ÿè®¡æ¯ä¸ªç»„ä¸­çš„æ•°å­—æ•°ç›®ï¼Œå¹¶è¿”å›æ•°å­—æ•°ç›®å¹¶åˆ—æœ€å¤šçš„ç»„æœ‰å¤šå°‘ä¸ªã€‚&lt;/p&gt;&lt;p&gt;ç¤ºä¾‹ 1ï¼š&lt;br&gt;&lt;figure class=&quot;highlight angelscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è¾“å…¥ï¼šn = &lt;span class=&quot;number&quot;&gt;13&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è¾“å‡ºï¼š&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è§£é‡Šï¼šæ€»å…±æœ‰ &lt;span class=&quot;number&quot;&gt;9&lt;/span&gt; ä¸ªç»„ï¼Œå°† &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; åˆ° &lt;span class=&quot;number&quot;&gt;13&lt;/span&gt; æŒ‰æ•°ä½æ±‚å’Œåè¿™äº›ç»„åˆ†åˆ«æ˜¯ï¼š&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;]ï¼Œ[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;]ï¼Œ[&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;]ï¼Œ[&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;13&lt;/span&gt;]ï¼Œ[&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;]ï¼Œ[&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;]ï¼Œ[&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;]ï¼Œ[&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;]ï¼Œ[&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;]ã€‚æ€»å…±æœ‰ &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt; ä¸ªç»„æ‹¥æœ‰çš„æ•°å­—å¹¶åˆ—æœ€å¤šã€‚&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;ç¤ºä¾‹ 2ï¼š&lt;br&gt;&lt;figure class=&quot;highlight angelscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è¾“å…¥ï¼šn = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è¾“å‡ºï¼š&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è§£é‡Šï¼šæ€»å…±æœ‰ &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; ä¸ªå¤§å°ä¸º &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; çš„ç»„ [&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]ï¼Œ[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;]ã€‚&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;ç¤ºä¾‹ 3ï¼š&lt;br&gt;&lt;figure class=&quot;highlight angelscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è¾“å…¥ï¼šn = &lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è¾“å‡ºï¼š&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;ç¤ºä¾‹ 4ï¼š&lt;br&gt;&lt;figure class=&quot;highlight angelscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è¾“å…¥ï¼šn = &lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è¾“å‡ºï¼š&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
  </entry>
  
</feed>
